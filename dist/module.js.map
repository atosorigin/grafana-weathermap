{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"@grafana/ui\"","webpack:///../node_modules/css-loader/dist/runtime/api.js","webpack:///../node_modules/style-loader/lib/addStyles.js","webpack:///external \"@grafana/data\"","webpack:///./style/CoordinateSpace.css?a586","webpack:///./style/CoordinateSpace.css","webpack:///../node_modules/style-loader/lib/urls.js","webpack:///./style/SimpleEditor.css?9203","webpack:///./style/SimpleEditor.css","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///./Models/CoordinateSpaceClass.tsx","webpack:///./Models/PointClass.tsx","webpack:///./Models/PositionParameterClass.tsx","webpack:///./Models/OrientedLinkClass.tsx","webpack:///./Models/TextObjectClass.tsx","webpack:///./Models/LinkURLClass.tsx","webpack:///./Functions/fetchMetrics.tsx","webpack:///./Functions/getResultQuery.tsx","webpack:///./Models/RegionClass.tsx","webpack:///./Functions/initRegionCoordinateSpace.tsx","webpack:///./Functions/initPoint.tsx","webpack:///./Functions/initOrientedLink.tsx","webpack:///./Models/ArrayInputClass.tsx","webpack:///./Functions/Input/inputButton.tsx","webpack:///./Functions/Input/inputText.tsx","webpack:///./Models/InputClass.tsx","webpack:///./Functions/CreateInput/createInputCoor.tsx","webpack:///./Functions/EditParameter/editGoodParameter.tsx","webpack:///./Models/LowerLimitClass.tsx","webpack:///./Functions/Input/inputSeriesColorPicker.tsx","webpack:///./components/Parametrage/fixColor.tsx","webpack:///./components/Parametrage/VariableColor.tsx","webpack:///./components/Parametrage/manageLowerLimit.tsx","webpack:///./components/CoordinateSpace/manageQuery.tsx","webpack:///./components/Parametrage/manageLink.tsx","webpack:///./components/Parametrage/styleComponent.tsx","webpack:///./components/Parametrage/textObjects.tsx","webpack:///./components/Parametrage/parametresGeneriques.tsx","webpack:///./components/CoordinateSpace/manageAuxiliaryQuery.tsx","webpack:///./components/CoordinateSpace/manageMetada.tsx","webpack:///./components/Parametrage/positionParameters.tsx","webpack:///./components/CoordinateSpace/coordinateSpace.tsx","webpack:///./Functions/searchIDLimit.tsx","webpack:///./Models/InputSelectableClass.tsx","webpack:///./Functions/CreateInput/createInputsPoint.tsx","webpack:///./Functions/Input/inputTextPoint.tsx","webpack:///./Models/ArrayInputSelectableClass.tsx","webpack:///./Functions/EditParameter/editGoodParameterPoint.tsx","webpack:///./Functions/Input/inputSelectPoint.tsx","webpack:///./components/CoordinateSpace/point/point.tsx","webpack:///./Functions/Input/inputTextOrientedLink.tsx","webpack:///./Functions/Input/inputSelectOrientedLink.tsx","webpack:///./Functions/CreateInput/createInputsOrientedLink.tsx","webpack:///./Functions/EditParameter/editGoodParameterOrientedLink.tsx","webpack:///./components/CoordinateSpace/orientedLink/orientedLink.tsx","webpack:///./components/CoordinateSpace/addCoordinate.tsx","webpack:///./Functions/isNumFloat.tsx","webpack:///./Functions/parseColor.tsx","webpack:///./components/Draw/drawRectangleExtend.tsx","webpack:///./Functions/getLowerLimit.tsx","webpack:///./components/Draw/drawRectangle.tsx","webpack:///./components/Draw/drawPoint.tsx","webpack:///./components/Draw/drawOrientedLink.tsx","webpack:///./components/legend.tsx","webpack:///./SimplePanel.tsx","webpack:///./components/coordinateSpaceInitial.tsx","webpack:///./Models/dropZone.tsx","webpack:///./components/importInput.tsx","webpack:///./components/CoordinateSpace/editCoordinateSpace.tsx","webpack:///./components/CoordinateSpace/point/editPoint.tsx","webpack:///./components/CoordinateSpace/orientedLink/editOrientedLink.tsx","webpack:///./components/CoordinateSpace/manageCoordinateSpace.tsx","webpack:///./Functions/Input/inputSelect.tsx","webpack:///./components/display.tsx","webpack:///./Functions/loaderGabarit.tsx","webpack:///./components/gabarit.tsx","webpack:///./SimpleEditor.tsx","webpack:///./module.ts","webpack:///./types.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","length","id","_i","push","fn","memo","stylesInDom","isOldIE","window","document","all","atob","apply","arguments","getTarget","target","parent","querySelector","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","options","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","undefined","attrs","type","nonce","getNonce","addAttrs","el","keys","forEach","setAttribute","obj","update","remove","result","transform","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","updateLink","href","applyToTag","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","__WEBPACK_EXTERNAL_MODULE__5__","locals","___CSS_LOADER_API_IMPORT___","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","constructor","__assign","assign","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","__values","linkURL","meta","lowerLimit","textObj","mainMetric","metrics","colorMode","traceBack","traceBorder","positionParameter","lowerLimitClass","valueMetric","drawGraphicMarker","shape","sizeWidth","sizeHeight","rotateArrow","positionShapeX","positionShapeY","color","associateOrientedLinksIn","associateOrientedLinksOut","widthInitialSpaceDefault","heightInitialSpaceDefault","positionXDefault","positionYDefault","CoordinateSpaceClass","labelAPositionX","labelAPositionY","labelBPositionX","labelBPositionY","tooltipPositionA","tooltipPositionB","orientationLink","size","pointAPositionX","pointAPositionY","colorCoordinateA","pointBPositionX","pointBPositionY","colorCoordinateB","valueMainMetricA","valueMainMetricB","pointIn","pointOut","regionIn","regionOut","zIndex","pointCPositionX","pointCPositionY","isIncurved","mainMetricB","metricsB","pointAPositionXDefault","pointAPositionYDefault","pointBPositionXDefault","pointBPositionYDefault","pointCPositionXDefault","pointCPositionYDefault","isTextTooltip","colorBack","colorText","generateObjectText","valueGenerateObjectText","generateAuxiliaryElement","followLink","hoveringTooltipLink","hoveringTooltipText","region","props","series","line","refId","returnQuery","metric","point","orientedLink","dataB","query","keyValue","nameQuery","split","flatMap","res","filters","cnt","debug","countValue","sizeQuery","fields","values","manageValue","idSVG","coords","coordsDefault","img","newId","initTextObject","TextObject","bold","italic","underline","legendElement","numericFormatElement","unit","displayObjectInTooltip","addColorTextElement","colorTextElement","addColorBackElement","colorBackElement","LinkURLClass","PositionParameterClass","format","xMin","xMax","yMin","yMax","xMinInitialSpace","xMaxInitialSpace","widthBackground","yMinInitialSpace","yMaxInitialSpace","heightBackground","expr","widthInitialSpace","parseInt","heightInitialSpace","newZIndex","num","linkUrl","initPositionParameter","uneClassInput","getId","setId","getUneClassInput","setUneClassInput","required","_handleChange","withLabel","labelWidth","inputWidth","onClick","variant","placeholder","disabled","onChange","inputType","getLabel","setLabel","getName","setName","getInputType","setInputType","getRequired","setRequired","getPlaceholder","setPlaceholder","getValue","setValue","isInitial","l10n","newFieldLabel","InputClass","basics","newFieldPositionXMin","inputCoordinate","minXPosition","newFieldPositionXMax","maxXPosition","newFieldPositionYMin","minYPosition","newFieldPositionYMax","maxYPosition","editGoodParameter","editCoor","newValue","heigthBackground","startsWith","coordinate","limitValueInitialSpace","coorInitialSpace","position","lowerLimitMin","lowerLimitMax","backColor","borderColor","sizeBorder","couleur","keyInt","text","_onChange","width","className","margin","padding","paddingTop","backgroundColor","border","newColor","setStateAsyncSeuil","state","setState","callBack","lowerLimitCallBack","onChangeColorFond","newSeuil","initComponent","onChangeColorContour","onChangeSzContour","addButtonColor","textInputColor","colorVariable","switchOutlineColor","labelSize","thicknessOutline","placeHolderSize","switchBackgroundColor","event","currentTarget","htmlResult","componentDidMount","LowerLimitClass","componentDidUpdate","prevProps","render","Component","setStateAsyncArrayInputClass","setStateAsyncLowerLimit","setStateAsyncIndex","setStateAsyncNbVariation","fillVarInput","saveData","addInput","newLowerLimit","arrayInputClass","slice","ArrayInputClass","handleValueChange","idInput","idLine","cpy","keyFondColorPicker","keyContourDiv","nameInputSize","isLink","onChangeVariation","nbVariation","arrayInput","pSeuil","addMultipleVariation","nb","seuil","addVariation","onClickVariation","dynamicInput","newKey","infoSeuil","variationNumber","number","addColor","setStateAsyncCoordinate","setStateAsyncOpenLowerLimit","onSave","onSwitchFond","onSwitchContour","onSwitchColorMode","lowerLimitVariable","lowerLimitFix","onToggleLowerLimit","isOpen","openLowerLimit","onToggle","display","genericParameter","variableColor","checked","traceBackground","traceContour","onOptionsChange","callBackToParent","callBackB","callBackToParentMainMetricB","getMainMetricB","arrayOrientedLink","arrayOrientedLinks","idCoordinate","onChangeSelectManageValue","newMainMetric","onChangeSelectManageValueB","_handleChangeKey","_handleChangeKeyB","_handleChangeKeyValue","_handleChangeKeyValueB","onChangeSelectQuery","selectQueryDefault","onChangeSelectQueryB","onToggleMainMetric","collapseMainMetric","onToggleLinkA","collapseLinkA","onToggleLinkB","collapseLinkB","getDefaultQueryB","defaultValue","selectQuery","getDefaultManageValue","selectManageValue","getDefaultManageValueB","fillSelectQuery","valueSelect","duplicate","setStateAsyncMainMetric","setStateAsyncMainMetricB","displayHtml","currentOrientedLink","allowCustomValue","marginTop","setStateAsyncFollowLink","setStateAsyncHoveringTooltipLink","setStateAsyncHoveringTooltipText","onChangeFollowLink","onChangeHoveringTooltipLink","onChangeHoveringTooltipText","coordinateSpace","metricPrincipalSetting","linkTooltip","textInTooltip","saveParent","onChangeBold","onChangeItalic","onChangeUnderline","oldStyle","stateAsyncTextObject","textObject","onChangeValeur","newTextObject","onChangeBackColor","onChangeColorText","onSwitchGenerateObjectText","onChangeLegendElement","onChangeunit","onChangeFormatageNumeriqueTextObject","onSwitchdisplayObjectInTooltip","onSwitchAddColorTextElement","onSwitchAddColorBackElement","onSwitchisTextTooltip","onChangeColorTextElement","onChangeColorBackElement","onChangeValueGenerateObjectTextLegendElement","onChangeValueGenerateObjectTextunit","onChangeValueGenerateObjectTextFormatageNumeriqueTextObject","onSwitchValueGenerateObjectTextdisplayObjectInTooltip","onSwitchValueGenerateObjectTextAddColorTextElement","onSwitchValueGenerateObjectTextAddColorBackElement","onChangeValueGenerateObjectTextColorTextElement","onChangeValueGenerateObjectTextColorBackElement","newText","principalMetric","hidden","textRegion","textBubble","colorBackground","generateTextObject","legend","digitalFormatting","mesureUnit","objectDisplayTextTooltip","colorTextOptional","optionalBackgroundColor","auxiliaryElement","onToggleLinkCollapse","collapseLink","onToggleTextObject","collapseTextObject","saveAuxMetrics","newAuxMetrics","isLinkB","idCurrentCoordinateSpace","isPoint","newArrayPoints","arrayPoints","newArrayLink","isRegion","newArrayRegion","regionCoordinateSpace","getAuxiliaryMetrics","auxiliaryMetrics","arrayRegions","onToggleCollapse","collapse","onToggleCollapseLinkA","onToggleCollapseLinkB","getAllQuery","allQuery","getCurrentQuery","getCurrentQueryB","newAuxiliaryMetrics","onChangeKey","idCurrentAuxMetrics","onChangeKeyB","onChangeValueKey","onChangeValueKeyB","onChangeManageValue","onChangeManageValueB","addAuxiliaryMetric","displayInputs","addAuxiliaryMetricB","deleteAuxiliaryMetric","deleteAuxiliaryMetricB","getAllManageValue","getCurrentManageValue","auxMetrics","generateInputs","idCoordinateSpace","styleTitle","textAlign","styleMainDiv","styleContent","flexDirection","justifyContent","marginBottom","styleSelect","mapItems","styleButtonAdd","onMetaStrChanged","newData","getCurrentPoint","getCurrentRegion","getCurrentLink","onChangeTextColor","addMeta","newMeta","pointToFind","regionToFind","linkToFind","displayMetaList","fontSize","fontWeight","paddingLeft","newArrayPoint","newArrayOrientedLink","onToggleMetaValue","collapseMetaValue","printProps","console","log","savePositionParameter","newPositionParameter","getPositionParameter","handleChangeLabelAPositionX","handleChangeLabelAPositionY","handleChangeLabelBPositionX","handleChangeLabelBPositionY","handleChangeTooltipPositionA","handleChangeTooltipPositionB","handleChangeSelectOrientedLinkToUpgrade","newOrientedLinkComparedToToUpgrade","orientedLinkComparedToUpgrade","handleChangeSelectOrientedLinkToDowngrade","newOrientedLinkComaparedToDowngrade","orientedLinkComparedToDowngrade","downgradeLayerLevel","callBackZIndex","upgradeLayerLevel","defineListOrientedLink","listOptions","selectableValue","defineLabelPositionInputs","defineTooltipPositionInputs","optionsSelectTooltipPosition","defineLayerLevel","collapseLayerLevel","collapsepositionParameter","collapseLabel","collapseTooltip","callBackToParentZIndex","setStateAsyncArrayCoor","setStateAsyncArrayInput","deleteOwnInput","confirm","arrayCoor","htmlRegionSVG","getElementById","fill","fillOpacity","stroke","strokeOpacity","strokeWidth","onChangeSelectSVG","selectedDefaultSVG","isAddCoordinate","newArrayCoor","coordinateSpaceInitial","severityAlert","titleAlert","hiddenAlert","setTimeout","callBackToOther","oldCoor","callBackManageLowerLimit","coordiante","callBackLowerLimit","callBackMainMetric","onChangeRadioMode","selectedRadio","fillSelectSVG","selectedIDSvg","allIDSelected","defaultSVG","baseMap","modeSVG","setInterval","arrId","arrIdVerif","listElement","querySelectorAll","from","localName","sort","a","error","returnAllId","clearInterval","getDataInInput","fillInputEspaceCoor","saveMetaData","old","prevState","height","htmlInput","tmp","newCoordDefault","editGoodParameterExtend","getGoodValue","param","finalItem","divKey","newInput","bottom","right","title","severity","saveToParent","marginRight","input_type","optionValues","defaultValueColor","getOptionValues","setOptionValues","getDefaultValueColor","setDefaultValueColor","newFieldDrawGraphicMarker","InputSelectableClass","newFieldShape","newFieldSizeWidthShape","newFieldSizeHeightShape","newFieldRotateArrow","newFieldPositionXShape","newFieldPositionYShape","editGoodParameterPoint","newValueSelect","ArrayInputSelectableClass","isAddPoint","generateInputsPoint","newPoint","newInputList","dataCoordinateSpace","dataPoint","newFieldOrientationLink","newFieldSize","newFieldPointAPositionX","newFieldPointAPositionY","newFieldPointBPositionX","newFieldPointBPositionY","newFieldLabelLink","newFieldRegionIn","newFieldRegionOut","editGoodParameterOrientedLink","setStateAsyncOrientedLink","defineDataRegion","defineDataPoint","updateAssociatePointAndRegion","newOrientedLink","arrayPoint","arrayRegion","isAddLink","callBackMainMetricB","generateInputsOrientedLink","arrayOptionsRegion","optionRegion","arrayOptionsPoint","valueLabel","optionPoint","zIndexUpdated","searchNewId","allCoordinateSpace","defineIdPoint","defineIdOrientedLink","lastId","allRegion","zIndexOrientedLink","setAsyncOption","newIdx","indexRegion","indexPoint","indexOrientedLink","newCoordinate","returnEditMode","callBackPoint","callBackOrientedLink","isNumFloat","String","match","parseColor","colorEdit","transparency","arrayColor","editColorSvgZone","colorSVG","colorBorderSVG","changeColorElement","generateValueMetricElement","valueQuery","converValueQuery","roundMetrics","toPrecision","setStateTooltip","styleTooltip","styleMetrics","valueQueryResult","valueMetaData","displayValuesMetaData","tooltipValue","uneCoor","displayValuesAuxMetrics","colorBorder","desactiveLink","preventDefault","defineCursor","displayValueQuery","getPositionTextObjectRegionSVG","elementSVG","coor","top","left","isUploaded","xSVG","ySVG","widthSVG","heightSVG","arrayAllValues","attributes","nodeValue","iX","iY","valueToCheck","generateTooltipAndEditColor","stateIsFill","min","substr","minFloat","parseFloat","maxFloat","resultTooltip","coordinateTextObject","styleWrite","styleLabelTooltipSVG","textDecoration","defineTextDecoration","fontStyle","defineFontStyle","defineFontWeight","fontFamily","police","styleMainMetricTooltipSVG","reqMetrics","getValuesAuxiliaryMetrics","valueAuxiliaryMetric","countTotalValues","resultTotalValues","numberLoop","labels","countValues","getConvertValueAuxMetrics","valueBrut","roundValue","html","valuesAuxMetrics","addColorText","addColorBack","styleTitle2","marginLeft","valueAuxMetric","isNaN","styleTitleMetaData","oneMetaData","styleContentMetaData","getCoordinatePxAdaptToInitialSpace","coorRegionDefault","rightPx","topPx","initialSpace","leftPx","bottomPx","ratioLeft","ratioRight","ratioTop","ratioBottom","Math","round","defineLimitX","defineLimitY","currentRegion","leftToDraw","rightToDraw","bottomToDraw","renduFinal","pBorder","textColor","coorHTML","valueCursor","buttonAddLinkIsActive","buttonAddIncurvedLinkIsActive","styleDiv","background","backgroundSize","cursor","styleTextDiv","styleMetricsDiv","positionTooltip","toLowerCase","placement","fillState","mainStyle","coordinateX","coordinateY","transformCoordonneesToPx","isMax","limitValueBorder","getPositionBorder","fillCoordinate","useLimit","limit","createRectangle","pLeft","pRight","pTop","pBottom","coordinateInitial","displayArea","resultHTML","defineBorderRadius","defineRotate","definePositionLabelX","positionLabel","labelPositionX","definePositionLabelY","labelPositionY","defineMainMetric","decimal","defineAuxMetric","auxMetric","defineTextObject","htmlTextObject","htmlMainMetric","dislayTextObjectInTooltip","textColorTextObject","backColoTextObject","displayMainMetric","displayMainMetricInTooltip","addTextColorMainMetric","addBackColorMainMetric","textColorMainMetric","backColorMainMetric","legendMainMetric","styleLabel","styleMainMetric","whiteSpace","toUpperCase","defineHtmlLinkTooltip","definePositionX","positionX","ratioX","widthImage","x","defineBorderSize","definePositionY","positionY","shapeGraphicMarker","ratioY","heightImage","defineSizeGraphicMarkerPx","drawPoint","valueToolTip","defineContentTooltip","linkUrlPoint","borderRadius","rotate","tooltipPosition","defineBorderColor","defineBackgroundColor","idPoint","displayLabel","sizePolice","valueMainMetric","localisation","contentTooltip","contentTooltipMainMetric","contentTooltipAuxMetric","contentTooltipAssociateLink","contentTooltipMetadata","arrayOrientedLinksIn","associateOrientedLinkIn","arrayOrientedLinksOut","associateOrientedLinkOut","refMainMetric","displayAuxMetricInTooltip","addTextColorAuxMetric","addBackColorAuxMetric","textColorAuxMetric","backColorAuxMetric","legendAuxMetric","styleMainTitle","styleTitleMainMetric","styleTitleAuxMetric","styleTitle2AuxMetric","styleContentMainMetrics","styleContentAuxMetrics","styleTitleAssociateLink","styleContentAssociateLink","valuesAuxiliaryMetrics","orientedLinkIn","nameOrientedLink","orientedLinkOut","metaData","level","substring","valuePositionX","valuePositionY","labelSynchroX","whatLabel","labelMainMetric","offsetWidth","labelSynchroY","offsetHeight","defineParallelOrientedLinks","listParallelOrientedLinks","associateRegionIn","associateRegionOut","associatePointIn","associatePointOut","defineCoor4DRegion","heightPanel","widthPanel","xMinPx","yMinPx","regionSVGHtml","xMinSVG","xMaxSVG","yMaxSVG","yMinSVG","rX","rY","xMinSVGCoor","xMaxSVGCoor","yMinSVGCoor","yMaxSVGCoor","getPaddingPoint","idMultiLink","pointHtml","isIn","xMidIn","xMidOut","yMidIn","yMidOut","xResult","xMinIn","xMaxIn","xMinOut","xMaxOut","yMinIn","yMaxIn","yMinOut","yMaxOut","paddingPoint","positionXADefault","positionYADefault","positionXBDefault","positionYBDefault","ratioXin","ratioXout","yResult","defineValueTooptip","typeLink","contentTooltipMetaData","refMainMetricA","refMainMetricB","styleTitle2MainMetric","auxiliaryMetricsB","metricB","valuesAuxiliaryMetricsB","defineColorTextLabel","defineSizeLink","synchroLinkX","synchroLinkY","drawLink","xA0","yA0","xB0","yB0","xCByClick0","yCByClick0","xA","yA","xB","yB","xCByClick","yCByClick","xC","yC","distanceAC","sqrt","angleDegreeAC","atan2","PI","xMidAC","yMidAC","xArrowAC","yArrowAC","distanceBC","angleDegreeBC","xMidBC","yMidBC","xArrowBC","yArrowBC","distanceAB","angleDegreeAB","xMidAB","yMidAB","xArrowAB","yArrowAB","valueTooltipMonodirectional","valueTooltipBidirectionalA","valueTooltipBidirectionalB","linkUrlOrientedLink","positionTooltipA","positionTooltipB","first","sizeArrowTriangle","alignContent","borderLeft","borderRight","borderBottom","defineBackColor","second","xCoordinateA","yCoordinateA","xCoordinateB","yCoordinateB","xCoordinateC","positionXCDefault","yCoordinateC","positionYCDefault","setStateAsyncFinalHTML","fillLowerLimit","allLimit","max","lower","listStyleType","fillRegion","rendu","ownElement","closeLegend","callBackClose","fillPoint","allPoint","fillLink","allLinks","renduState","maxWidth","hiddenLegend","overflowY","scrollbarColor","scrollbarWidth","resize","backgroundImage","lineHeight","finalHTML","setStateLegendAsync","defineLimit","jsxItems","image","getCoordinatesToDrawPointWithClick","clickX","nativeEvent","clientX","layerY","createPointToClick","updatePositionOrientedLink","addAssociateOrientedLinkToPoint","namePointIn","namePointOut","indexOrientedLinkAssociate","updateAssociateOrientedLinkInToPoint","newAssociateLinkIn","namePoint","updateAssociateOrientedLinkOutToPoint","resetCoordinatesToDrawLinkWithClick","coordinatesToDrawLinkWithClick","labelPoint","labelRegion","getCoordinatesToDrawOrientedLinkWithClick","coordinates","objectIn","objectOut","pointC","xDefault","yDefault","createOrientedLinkToClick","charAt","xMinDefault","xMaxDefault","yMinDefault","yMaxDefault","positionXdefault","positionYdefault","offsetParent","getCoordinatesToDrawIncurvedOrientedLinkWithClick","pointA","pointB","defineValueX","defaultPosition","defineValueY","getValuesAuxiliaryMetricsPoint","getValuesAuxiliaryMetricsOrientedLink","getValuesAuxiliaryMetricsOrientedLinkB","changeValueButtonToLink","valueButton","changeValueButtonToIncurvedLink","changeValueButtonToPoint","getCoordinates","numberClickDiv","updateButtonCss","buttonManage","addNode","addPoint","addLink","addIncurvedLink","ZoomSVG","allActionButton","callMethod","setAsyncButtonManage","resetButtonManage","oldValue","nbClickButton","positionLegend","newLegend","offsetX","offsetY","newButtonManage","ZoomInactive","addEventListener","applyZoom","handleClick","tt","chargeRegion","editIdString","str","strSplit","newStr","checkIfDisplayButton","arrayUrl","canDisplayButton","displayButton","currentImage","svg","exec","resultWidth","resultHeight","newBaseMap","layerImage","fetch","documentId","getAttribute","removeEventListener","elmnt","button","evt","keyCode","displayAndGetPositionTooltipSVG","newDataSVG","widthTooltip","heightTooltip","tooltip","minHeight","dataTooltipSVG","tooltipSVG","hideTooltipSVG","SVG_PathImage","parentElementSVG","aElement","createElementNS","styleRegion","getValuesAuxiliaryMetricsRegionSVG","displayMetaDataRegionSVG","resultHtml","arrayMeta","displayAuxiliaryMetricsRegionSVG","stopDisplayLegend","htmlTooltipRegionSVG","regionSVG","styleMainTooltipSVG","overflow","styleElementTooltipSVG","onMouseOver","parentElement","onMouseOut","displayPoint","getValuesMainMetricPoint","displayOrientedLink","getValuesMainMetricOrientedLink","getValuesMainMetricOrientedLinkB","pointAX","pointDefaultAX","pointBX","pointDefaultBX","pointAY","pointDefaultAY","pointBY","pointDefaultBY","colorA","colorB","NaN","updateOnlyInitialSpace","styleBackground","backgroundRepeat","opacity","styleSVG_2","defaultStyle","autoHide","hideHorizontalTrack","autoHeightMax","onDismiss","onClickBackdrop","dangerouslySetInnerHTML","__html","onChangeSwitchDisplayInitialSpace","newInitialSpace","fileReader","onChangeHandler","selectedFile","files","readerFile","FileReader","upload","onload","saveImportFile","extensionFile","readAsDataURL","readAsText","save","file","arrayFileName","parse","loadMultiRegions","loadMultiPoints","loadMultiLinks","onMultiListFileChanged","multiDeletFile","findIndex","url","multiUploadDisplay","lenght","totalResult","PointValidator","newSpace","resultId","RegionValidator","LinkValidator","lien","UrlValidator","saveImportUrl","multi","pointUpdate","updatedPoint","loadMonoPoint","toLoad","selector","regionUpdate","updatedRegion","loadMonoRegion","linkUpdate","updatedLink","loadMonoLink","points","regions","links","loadTotal","panel","texteSettings","fetchMulti","loaderTotal","totalUrlInput","json","onToggleTotalUrl","collapseTotalUrl","onToggleMultiUrl","collapseMultiUrl","onToggleMultiUpload","collapseMultiUpload","onTotalUrlChanged","onTotalListUrlChanged","total","onMultiUrlChanged","multiUrlInput","onMultiListUrlChanged","addTotalUrlInput","addMultiUrlInput","totalDeletUrl","multiDeletUrl","tempo","totalUrlDisplay","multiUrlDisplay","delAll","toDel","oldData","find","fillSelectRegionSpace","onChangeSelectCoordinate","selectCoordinateSpaceDefault","valueExist","stockTmpCoordinatesSpace","selectCoordinateSpace","fillSelectPoint","fillSelectOrientedLink","tabsVariable","goToTab","contentTabEdit","hideBorder","active","onChangeTab","callParent","newPolice","pPolice","pSize","pStyle","setStateAsyncPolice","setStateAsyncsize","setStateAsyncStyle","handleChangesize","onChangePolice","onImageChanged","onChangeSwitchModeSVG","onChangeHeightBaseMap","onChangeWidthBaseMap","saveStyleData","uploadImage","nameUploadedImage","defineValueImage","textDefault","labelClass","coordParse","coord","coordParseRegion","filterParseRegion","element","filterParse","onChangeSelectQuerryID","newGabaritFile","saveGabaritFile","queryID","onToggleSelectUrl","collapseSelectURL","saveGabaritURL","GabaritValidator","fileName","loadGabarit","loaded","globalGabarit","global","templateGabaritPoint","templateGabaritRegion","templateGabaritLink","templateGabaritPointDefault","templateGabaritRegionDefault","templateGabaritLinkDefault","templates","gab","fetchUrl","loadDefaultGabarit","newGabarit","gabaritDefault","fetchGabarit","collapseGabarit","addFilterDynamic","checkCoordinateFilterPoint","valid","dataFrame","checkCoordinateFilterLink","onToggleGabaritUrl","onToggleGabaritDefault","collapseGabaritDefault","onToggleGabarit","onGabaritUrlChanged","gabaritUrlInput","onGabaritDefaultUrlChanged","saveGabaritDefaultUrl","onGabaritListUrlChanged","addGabaritUrlInput","addGabaritDefaultUrlInput","response","newFileName","newGabaritDefault","gabaritDeletUrl","gabaritDeletFile","gabarit","gabaritDeletFileDefault","defaultColor","checkLoaderGabarit","loaderGabarit","metaConstructor","metas","transformStringToBoolean","transformWithUpperCase","oldSelectableValue","newLabel","letter","tmpLabelAPosition","tmpLabelBPosition","tmpToolTipA","tmpToolTipB","generateValue","generateAux","filterPoint","posPoint","metaPoint","positionParameterPoint","mainMetricPoint","metricPoint","linkURLPoint","valueMetricPoint","drawGraphicMarkerPoint","shapePoint","sizeWidthPoint","sizeHeightPoint","colorPoint","associateOrientedLinksInPoint","associateOrientedLinksOutPoint","gabaritFileTmp","labelfix","xylabel","xylabelfix","filtered","oneMeta","indexMeta","tooltipA","tooltipB","xylabelA","xylabelB","newID","labelCoordX","labelCoordY","labelCoord","pos","oneQuery","add","labelCo","posIndex","defaultPositionX","defaultPositionY","filterLink","posALink","posBLink","posCLink","nameLink","metaLink","labelLink","positionParameterLink","mainMetricALink","metricALink","mainMetricBLink","metricBLink","linkURLLink","sizeLink","colorALink","colorBLink","valueMetricALink","valueMetricBLink","pointInLink","pointOutLink","regionInLink","regionOutLink","isIncurvedLink","xylabelC","xylabelfixA","xylabelfixB","xylabelfixC","labelCoordA","labelCoordB","labelCoordC","coordindex","pointInLinkWithId","labelPointIn","pointOutLinkWithId","labelPointOut","labelRegionIn","labelRegionOut","defaultPositionAX","defaultPositionBX","defaultPositionCX","defaultPositionAY","defaultPositionBY","defaultPositionCY","maA","maB","filterRegion","posRegion","metaRegion","positionParameterRegion","mainMetricRegion","metricRegion","linkURLRegion","idSVGRegion","modeRegion","imgRegion","orientedLinkAssociate","hoveringTooltipTex","gabaritUrlDisplay","gabaritDisplay","readOnly","selectQuerryID","gabaritDefaultDisplay","printDefault","printPoint","printRegion","printLink","printTemp","onRefreshChanged","refresh","onTimeZoneChanged","timezone","onPanelChanged","Id","goToTabCoordinateSpace","tabsCoordinateSpace","currentDashboard","mono","monoUrlInput","componentWillUnmount","simpleEditor","spaceInitialVisualisation","CoordinateSpace","PureComponent","setDefaults","saveDefaultGabaritFile","arrayLinks","fondIsActive","contourIsActive","contentJson","uid","editable","version","shemaVersion","actualPanel","panelList","panelId","panelType","panelTargets","promTargets","promGlobalTargets","Json","timeRange","to","personalTarget","timeQuery","promUrl","queryProm","queryPromGlobal","queryPromRange","listStep","jsonQueryReturn","jsonGlobalQueryReturn","mainTarget","mainQueryProm","mainQueryReturn","status","resultType","__name__","job","testMainQueryReturn","listCollapsePoint","listCollapseOrientedLink","orientedLinkToUpgrade","orientedLinkToDowngrade","checkIndexMultiLink","saveMetadatavalue","setEditor"],"mappings":"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","file":"module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/lib/loader.js!./CoordinateSpace.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/lib/loader.js!./CoordinateSpace.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/lib/loader.js!./CoordinateSpace.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \"div.inputCoor {\\n  margin-bottom: 2%; }\\n\\ndiv.buttonAddCoor {\\n  text-align: center; }\\n\", \"\",{\"version\":3,\"sources\":[\"CoordinateSpace.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,iBAAiB,EAAE;;AAErB;EACE,kBAAkB,EAAE\",\"file\":\"CoordinateSpace.css\",\"sourcesContent\":[\"div.inputCoor {\\n  margin-bottom: 2%; }\\n\\ndiv.buttonAddCoor {\\n  text-align: center; }\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/lib/loader.js!./SimpleEditor.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/lib/loader.js!./SimpleEditor.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/lib/loader.js!./SimpleEditor.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \"div.divSimpleEditor {\\n  width: 100%;\\n  /* margin: 2%;\\n  padding: 2%; */ }\\n\\ndiv.CoordinateSpaceInitital {\\n  /* margin: 1%; */\\n  /* margin-bottom: 8%; */ }\\n\\nh3.titreSection {\\n  margin-bottom: 2%;\\n  /*   color: blue; */ }\\n\\n.parameter-interface-container {\\n  width: 100%; }\\n\\n.parameter-interface-list-title {\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-flex-direction: row;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n  -webkit-justify-content: space-around;\\n      -ms-flex-pack: distribute;\\n          justify-content: space-around;\\n  border-bottom: 4px solid white;\\n  margin: 10px 0; }\\n\\n.parameter-interface-title {\\n  padding: 10px;\\n  list-style: none;\\n  cursor: pointer; }\\n\", \"\",{\"version\":3,\"sources\":[\"SimpleEditor.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,WAAW;EACX;gBACc,EAAE;;AAElB;EACE,gBAAgB;EAChB,uBAAuB,EAAE;;AAE3B;EACE,iBAAiB;EACjB,mBAAmB,EAAE;;AAEvB;EACE,WAAW,EAAE;;AAEf;EACE,qBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,2BAAmB;MAAnB,uBAAmB;UAAnB,mBAAmB;EACnB,qCAA6B;MAA7B,yBAA6B;UAA7B,6BAA6B;EAC7B,8BAA8B;EAC9B,cAAc,EAAE;;AAElB;EACE,aAAa;EACb,gBAAgB;EAChB,eAAe,EAAE\",\"file\":\"SimpleEditor.css\",\"sourcesContent\":[\"div.divSimpleEditor {\\n  width: 100%;\\n  /* margin: 2%;\\n  padding: 2%; */ }\\n\\ndiv.CoordinateSpaceInitital {\\n  /* margin: 1%; */\\n  /* margin-bottom: 8%; */ }\\n\\nh3.titreSection {\\n  margin-bottom: 2%;\\n  /*   color: blue; */ }\\n\\n.parameter-interface-container {\\n  width: 100%; }\\n\\n.parameter-interface-list-title {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-around;\\n  border-bottom: 4px solid white;\\n  margin: 10px 0; }\\n\\n.parameter-interface-title {\\n  padding: 10px;\\n  list-style: none;\\n  cursor: pointer; }\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { LinkURLClass } from './LinkURLClass';\nimport { LowerLimitClass } from './LowerLimitClass';\nimport { TextObject } from './TextObjectClass';\nimport { Metric, Metadata } from 'types';\nimport { PositionParameterClass } from 'Models/PositionParameterClass';\n\nexport class CoordinateSpaceClass {\n  /** coordinate id */\n  id: number;\n  /** query */\n  linkURL: LinkURLClass;\n  meta: Metadata[];\n  lowerLimit: LowerLimitClass[];\n  label: string;\n  textObj: TextObject;\n  mainMetric: Metric;\n  metrics: Metric[];\n  colorMode: boolean;\n  traceBack: boolean;\n  traceBorder: boolean;\n  positionParameter: PositionParameterClass;\n\n  constructor(\n    id: number,\n    linkURL: LinkURLClass,\n    meta: Metadata[],\n    lowerLimit: LowerLimitClass[],\n    label: string,\n    textObj: TextObject,\n    mainMetric: Metric,\n    metrics: Metric[],\n    colorMode: boolean,\n    traceBack: boolean,\n    traceBorder: boolean,\n    positionParameter: PositionParameterClass\n  ) {\n    this.id = id;\n    this.linkURL = linkURL;\n    this.meta = meta;\n    this.lowerLimit = lowerLimit;\n    this.label = label;\n    this.textObj = textObj;\n    this.mainMetric = mainMetric;\n    this.metrics = metrics;\n    this.colorMode = colorMode;\n    this.traceBack = traceBack;\n    this.traceBorder = traceBorder;\n    this.positionParameter = positionParameter;\n  }\n}\n","import { SelectableValue } from '@grafana/data';\nimport { CoordinateSpaceClass } from './CoordinateSpaceClass';\nimport { LinkURLClass } from './LinkURLClass';\nimport { LowerLimitClass } from './LowerLimitClass';\nimport { TextObject } from './TextObjectClass';\nimport { Metric, Metadata } from 'types';\n//import { LinkClass } from './LinkClass';\nimport { PositionParameterClass } from './PositionParameterClass';\n\n/**\n * to do\n */\nexport class PointClass extends CoordinateSpaceClass {\n  name: string;\n  valueMetric: string;\n  drawGraphicMarker: SelectableValue<string>;\n  shape: SelectableValue<string>;\n  //sizeWidth: SelectableValue<string>;\n  sizeWidth: string;\n  sizeHeight: SelectableValue<string>;\n  rotateArrow: string;\n  positionShapeX: string;\n  positionShapeY: string;\n  color: string;\n  associateOrientedLinksIn: any[];\n  associateOrientedLinksOut: any[];\n  widthInitialSpaceDefault: string;\n  heightInitialSpaceDefault: string;\n  positionXDefault: string;\n  positionYDefault: string;\n\n  constructor(\n    id: number,\n    linkURL: LinkURLClass,\n    meta: Metadata[],\n    lowerLimitClass: LowerLimitClass[],\n    label: string,\n    textObj: TextObject,\n    mainMetric: Metric,\n    metrics: Metric[],\n    colorMode: boolean,\n    traceBack: boolean,\n    traceBorder: boolean,\n    positionParameter: PositionParameterClass,\n    name: string,\n    valueMetric: string,\n    drawGraphicMarker: SelectableValue<string>,\n    shape: SelectableValue<string>,\n    //sizeWidth: SelectableValue<string>,\n    sizeWidth: string,\n    sizeHeight: SelectableValue<string>,\n    rotateArrow: string,\n    positionShapeX: string,\n    positionShapeY: string,\n    color: string,\n    associateOrientedLinksIn: any[],\n    associateOrientedLinksOut: any[],\n    widthInitialSpaceDefault: string,\n    heightInitialSpaceDefault: string,\n    positionXDefault: string,\n    positionYDefault: string\n  ) {\n    super(id, linkURL, meta, lowerLimitClass, label, textObj, mainMetric, metrics, colorMode, traceBack, traceBorder, positionParameter);\n    this.name = name;\n    this.valueMetric = valueMetric;\n    this.drawGraphicMarker = drawGraphicMarker;\n    this.shape = shape;\n    this.sizeWidth = sizeWidth;\n    this.sizeHeight = sizeHeight;\n    this.rotateArrow = rotateArrow;\n    this.positionShapeX = positionShapeX;\n    this.positionShapeY = positionShapeY;\n    this.color = color;\n    this.associateOrientedLinksIn = associateOrientedLinksIn;\n    this.associateOrientedLinksOut = associateOrientedLinksOut;\n    this.widthInitialSpaceDefault = widthInitialSpaceDefault;\n    this.heightInitialSpaceDefault = heightInitialSpaceDefault;\n    this.positionXDefault = positionXDefault;\n    this.positionYDefault = positionYDefault;\n  }\n}\n","import { SelectableValue } from '@grafana/data';\n\nexport class PositionParameterClass {\n  labelAPositionX: string;\n  labelAPositionY: string;\n  labelBPositionX: string;\n  labelBPositionY: string;\n  tooltipPositionA: SelectableValue<string>;\n  tooltipPositionB: SelectableValue<string>;\n\n  constructor(\n    labelAPositionX: string,\n    labelAPositionY: string,\n    labelBPositionX: string,\n    labelBPositionY: string,\n    tooltipPositionA: SelectableValue<string>,\n    tooltipPositionB: SelectableValue<string>\n  ) {\n    this.labelAPositionX = labelAPositionX;\n    this.labelAPositionY = labelAPositionY;\n    this.labelBPositionX = labelBPositionX;\n    this.labelBPositionY = labelBPositionY;\n    this.tooltipPositionA = tooltipPositionA;\n    this.tooltipPositionB = tooltipPositionB;\n  }\n}\n","import { SelectableValue } from '@grafana/data';\nimport { LinkURLClass } from './LinkURLClass';\nimport { LowerLimitClass } from './LowerLimitClass';\nimport { TextObject } from './TextObjectClass';\nimport { Metric, Metadata } from 'types';\nimport { CoordinateSpaceClass } from './CoordinateSpaceClass';\nimport { PositionParameterClass } from './PositionParameterClass';\n\nexport class OrientedLinkClass extends CoordinateSpaceClass {\n  name: string;\n  orientationLink: SelectableValue<string>;\n  size: string;\n  pointAPositionX: string;\n  pointAPositionY: string;\n  colorCoordinateA: string;\n  pointBPositionX: string;\n  pointBPositionY: string;\n  colorCoordinateB: string;\n  valueMainMetricA: string;\n  valueMainMetricB: string;\n  pointIn: string;\n  pointOut: string;\n  regionIn: string;\n  regionOut: string;\n  zIndex: number;\n  pointCPositionX: string;\n  pointCPositionY: string;\n  isIncurved: SelectableValue<boolean>;\n  mainMetricB: Metric;\n  metricsB: Metric[];\n  widthInitialSpaceDefault: string;\n  heightInitialSpaceDefault: string;\n  pointAPositionXDefault: string;\n  pointAPositionYDefault: string;\n  pointBPositionXDefault: string;\n  pointBPositionYDefault: string;\n  pointCPositionXDefault: string;\n  pointCPositionYDefault: string;\n\n  constructor(\n    id: number,\n    linkURL: LinkURLClass,\n    meta: Metadata[],\n    lowerLimitClass: LowerLimitClass[],\n    label: string,\n    textObj: TextObject,\n    mainMetric: Metric,\n    metrics: Metric[],\n    colorMode: boolean,\n    traceBack: boolean,\n    traceBorder: boolean,\n    positionParameter: PositionParameterClass,\n    name: string,\n    orientationLink: SelectableValue<string>,\n    size: string,\n    pointAPositionX: string,\n    pointAPositionY: string,\n    colorCoordinateA: string,\n    pointBPositionX: string,\n    pointBPositionY: string,\n    colorCoordinateB: string,\n    valueMainMetricA: string,\n    valueMainMetricB: string,\n    pointIn: string,\n    pointOut: string,\n    regionIn: string,\n    regionOut: string,\n    zIndex: number,\n    pointCPositionX: string,\n    pointCPositionY: string,\n    isIncurved: SelectableValue<boolean>,\n    mainMetricB: Metric,\n    metricsB: Metric[],\n    widthInitialSpaceDefault: string,\n    heightInitialSpaceDefault: string,\n    pointAPositionXDefault: string,\n    pointAPositionYDefault: string,\n    pointBPositionXDefault: string,\n    pointBPositionYDefault: string,\n    pointCPositionXDefault: string,\n    pointCPositionYDefault: string\n  ) {\n    super(id, linkURL, meta, lowerLimitClass, label, textObj, mainMetric, metrics, colorMode, traceBack, traceBorder, positionParameter);\n    this.name = name;\n    this.orientationLink = orientationLink;\n    this.size = size;\n    this.pointAPositionX = pointAPositionX;\n    this.pointAPositionY = pointAPositionY;\n    this.colorCoordinateA = colorCoordinateA;\n    this.pointBPositionX = pointBPositionX;\n    this.pointBPositionY = pointBPositionY;\n    this.colorCoordinateB = colorCoordinateB;\n    this.valueMainMetricA = valueMainMetricA;\n    this.valueMainMetricB = valueMainMetricB;\n    this.pointIn = pointIn;\n    this.pointOut = pointOut;\n    this.regionIn = regionIn;\n    this.regionOut = regionOut;\n    this.zIndex = zIndex;\n    this.pointCPositionX = pointCPositionX;\n    this.pointCPositionY = pointCPositionY;\n    this.isIncurved = isIncurved;\n    this.mainMetricB = mainMetricB;\n    this.metricsB = metricsB;\n    this.widthInitialSpaceDefault = widthInitialSpaceDefault;\n    this.heightInitialSpaceDefault = heightInitialSpaceDefault;\n    this.pointAPositionXDefault = pointAPositionXDefault;\n    this.pointAPositionYDefault = pointAPositionYDefault;\n    this.pointBPositionXDefault = pointBPositionXDefault;\n    this.pointBPositionYDefault = pointBPositionYDefault;\n    this.pointCPositionXDefault = pointCPositionXDefault;\n    this.pointCPositionYDefault = pointCPositionYDefault;\n  }\n}\n","import { Style } from 'components/Parametrage/styleComponent';\n\nexport interface GenerateTextObject {\n  /** legend element */\n  legendElement: string;\n  /** numeric format element */\n  numericFormatElement: string;\n  /** unity mesure element */\n  unit: string;\n  /** display object in text */\n  displayObjectInTooltip: boolean;\n  /** display object permanently */\n  // displayObjectPermanently: boolean;\n  /** color text element active */\n  addColorTextElement: boolean;\n  /** color text element */\n  colorTextElement: string;\n  /** color back element active */\n  addColorBackElement: boolean;\n  /** color back element */\n  colorBackElement: string;\n}\n\n/** value of textObjects component */\nexport class TextObject {\n  /** legend object */\n  // legend: boolean;\n  /** object value */\n  value: string;\n  /** text display in element or tooltip */\n  isTextTooltip: boolean;\n  /** back color region */\n  colorBack: string;\n  /** color text region */\n  colorText: string;\n  /** style */\n  style: Style;\n  /** style text region */\n  // styleText: string;\n  /** generate object text */\n  generateObjectText: boolean;\n  /** if generateObjectText is true when use variable to stock data */\n  valueGenerateObjectText: GenerateTextObject;\n  /** text value for auxiliary metrics */\n  generateAuxiliaryElement: GenerateTextObject;\n  // generate metadata with text object\n  // generateMetadataElement: GenerateTextObject;\n\n  constructor(\n    // legend: boolean,\n    value: string,\n    isTextTooltip: boolean,\n    colorBack: string,\n    colorText: string,\n    style: Style,\n    // styleText: string,\n    generateObjectText: boolean,\n    valueGenerateObjectText: GenerateTextObject,\n    generateAuxiliaryElement: GenerateTextObject\n    // meta\n    // generateMetadataElement: GenerateTextObject\n  ) {\n    // this.legend = legend;\n    this.value = value;\n    this.isTextTooltip = isTextTooltip;\n    this.colorBack = colorBack;\n    this.colorText = colorText;\n    this.style = style;\n    // this.styleText = styleText;\n    this.generateObjectText = generateObjectText;\n    this.valueGenerateObjectText = valueGenerateObjectText;\n    this.generateAuxiliaryElement = generateAuxiliaryElement;\n    // add Meta\n    // this.generateMetadataElement = generateMetadataElement;\n  }\n}\n","/**\n * class for parametrage metric\n */\nexport class LinkURLClass {\n  /**\n   * link to follow when click data in dashboard\n   */\n  followLink: string;\n  /**\n   * link for tooltip\n   */\n  hoveringTooltipLink: string;\n  /**\n   * text for tooltip\n   */\n  hoveringTooltipText: string;\n\n  constructor(followLink: string, hoveringTooltipLink: string, hoveringTooltipText: string) {\n    this.followLink = followLink;\n    this.hoveringTooltipLink = hoveringTooltipLink;\n    this.hoveringTooltipText = hoveringTooltipText;\n  }\n\n  /**\n   * get followingLink\n   */\n  get getFollowLink(): string {\n    return this.followLink;\n  }\n\n  /**\n   * set followingLink\n   * @param {string} value new value\n   */\n  set setFollowLink(value: string) {\n    this.followLink = value;\n  }\n\n  /**\n   * get hoveringTooltipLink\n   */\n  get getHoveringTooltipLink(): string {\n    return this.hoveringTooltipLink;\n  }\n\n  /**\n   * setHoveringTooltipLink\n   * @param {string} value new value\n   */\n  set setHoveringTooltipLink(value: string) {\n    this.hoveringTooltipLink = value;\n  }\n\n  /**\n   * get hoveringTooltipText\n   */\n  get getHoveringTooltipText(): string {\n    return this.hoveringTooltipText;\n  }\n\n  /**\n   * set hoveringTooltipText\n   * @param {string} value new Value\n   */\n  set setHoveringTooltipText(value: string) {\n    this.hoveringTooltipText = value;\n  }\n}\n","import { RegionClass } from '../Models/RegionClass';\nimport { PointClass } from '../Models/PointClass';\nimport { DataFrame } from '@grafana/data';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\n\nexport const reqMetricRegion = (region: RegionClass, props: any) => {\n  const data: DataFrame[] = [];\n\n  for (const line of props.data.series) {\n    if (line.refId === region.mainMetric.refId) {\n      data.push(line);\n    }\n  }\n  region.mainMetric.returnQuery = data;\n};\n\nexport const reqMetricAuxRegion = (region: RegionClass, props: any) => {\n  for (const metric of region.metrics) {\n    const data: DataFrame[] = [];\n    for (const line of props.data.series) {\n      if (line.refId === metric.refId) {\n        data.push(line);\n      }\n    }\n    metric.returnQuery = data;\n  }\n};\n\nexport const reqMetricPoint = (point: PointClass, props: any) => {\n  const data: DataFrame[] = [];\n  for (const line of props.data.series) {\n    if (line.refId === point.mainMetric.refId) {\n      data.push(line);\n    }\n  }\n  point.mainMetric.returnQuery = data;\n};\n\nexport const reqMetricAuxPoint = (point: PointClass, props: any) => {\n  for (const metric of point.metrics) {\n    const data: DataFrame[] = [];\n    for (const line of props.data.series) {\n      if (line.refId === metric.refId) {\n        data.push(line);\n      }\n    }\n    metric.returnQuery = data;\n  }\n};\n\nexport const reqMetricLink = (link: OrientedLinkClass, props: any) => {\n  const data: DataFrame[] = [];\n  for (const line of props.data.series) {\n    if (line.refId === link.mainMetric.refId) {\n      data.push(line);\n    }\n  }\n  link.mainMetric.returnQuery = data;\n};\n\nexport const reqMetricAuxLink = (link: OrientedLinkClass, props: any) => {\n  for (const metric of link.metrics) {\n    const data: DataFrame[] = [];\n    for (const line of props.data.series) {\n      if (line.refId === metric.refId) {\n        data.push(line);\n      }\n    }\n    metric.returnQuery = data;\n  }\n};\n\nexport const reqMetricOrientedLink = (orientedLink: OrientedLinkClass, props: any) => {\n  const data: DataFrame[] = [];\n  const dataB: DataFrame[] = [];\n  for (const line of props.data.series) {\n    if (line.refId === orientedLink.mainMetric.refId) {\n      data.push(line);\n    }\n    if (line.refId === orientedLink.mainMetricB.refId) {\n      dataB.push(line);\n    }\n  }\n  orientedLink.mainMetric.returnQuery = data;\n  orientedLink.mainMetricB.returnQuery = dataB;\n};\n\nexport const reqMetricAuxOrientedLink = (orientedLink: OrientedLinkClass, props: any) => {\n  for (const metric of orientedLink.metrics) {\n    const data: DataFrame[] = [];\n    for (const line of props.data.series) {\n      if (line.refId === metric.refId) {\n        data.push(line);\n      }\n    }\n    metric.returnQuery = data;\n  }\n  for (const metric of orientedLink.metricsB) {\n    const dataB: DataFrame[] = [];\n    for (const line of props.data.series) {\n      if (line.refId === metric.refId) {\n        dataB.push(line);\n      }\n    }\n    metric.returnQuery = dataB;\n  }\n};\n\nexport const reqUpdateMetrics = (props: any) => {\n  // Update regions\n  for (const region of props.options.regionCoordinateSpace) {\n    reqMetricRegion(region, props);\n    reqMetricAuxRegion(region, props);\n  }\n  // Update links\n  for (const link of props.options.arrayLinks) {\n    reqMetricLink(link, props);\n    reqMetricAuxLink(link, props);\n  }\n\n  // Update links\n  for (const orientedLink of props.options.arrayOrientedLinks) {\n    reqMetricOrientedLink(orientedLink, props);\n    reqMetricAuxOrientedLink(orientedLink, props);\n  }\n  // Update points\n  for (const point of props.options.arrayPoints) {\n    reqMetricPoint(point, props);\n    reqMetricAuxPoint(point, props);\n  }\n};\n","import { Metric } from 'types';\nimport { DataFrame } from '@grafana/data';\nimport { Filtred } from '../Functions/loaderGabarit';\n\n/** search is key and keyValue is in query */\nconst searchNameIsKey = (query: DataFrame, mainMetric: Metric): boolean => {\n  if (mainMetric.key === '' && mainMetric.keyValue === '') {\n    return true;\n  }\n  let remove = query.name?.split('{');\n  const nameQuery: string[] =\n    remove![1].split(',').flatMap((value) => {\n      return value.replace(/[\\\"{}]/gm, '');\n    }) || [];\n  if (nameQuery && nameQuery.length > 0) {\n    for (const oneQuery of nameQuery) {\n      const keyValue: string[] = oneQuery.split('=');\n      if (keyValue.length === 2) {\n        if (keyValue[0] === mainMetric.key && keyValue[1] === mainMetric.keyValue) {\n          return true;\n        }\n      }\n    }\n  }\n  return false;\n};\n\nexport const searchNameIsFilter = (query: DataFrame, mainMetric: Metric): boolean => {\n  if (!mainMetric.filter) {\n    return true;\n  }\n  let res = 0;\n  const filters: Filtred[] = mainMetric.filter;\n  let remove = query.name?.split('{');\n  const nameQuery: string[] =\n    remove![1].split(',').map((value) => {\n      return value.replace(/[\\\"{}]/gm, '');\n    }) || [];\n  if (nameQuery && nameQuery.length > 0) {\n    for (const oneQuery of nameQuery) {\n      const keyValue: string[] = oneQuery.split('=');\n      for (const filter of filters) {\n        if (keyValue.length === 2) {\n          if (keyValue[0] === filter.label && keyValue[1] === filter.value) {\n            res++;\n          }\n        }\n      }\n    }\n    // console.log(res);\n    // console.log(filters.length)\n    if (res === filters.length) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport const getResultQuery = (mainMetric: Metric) => {\n  let cnt: number | null = null;\n  if (mainMetric.returnQuery && mainMetric.returnQuery.length > 0) {\n    const debug: number[] = [];\n    let countValue = 0;\n\n    cnt = 0;\n    if (!mainMetric.filter) {\n      for (const line of mainMetric.returnQuery) {\n        const result = searchNameIsKey(line, mainMetric);\n        if (result) {\n          const sizeQuery: number = line.fields[0].values.length;\n          // in grafana 7 change line.field[0] to line.field[1]\n          for (let i = 0; i < sizeQuery; i++) {\n            if (line.fields.length > 0 && line.fields[0].values.get(i)) {\n              cnt += line.fields[0].values.get(i);\n              debug.push(line.fields[0].values.get(i));\n              ++countValue;\n            }\n          }\n        }\n      }\n      if (mainMetric.manageValue === 'avg') {\n        cnt /= countValue;\n      } else if (mainMetric.manageValue === 'err') {\n        if (countValue > 1) {\n          cnt = null;\n        }\n      }\n    } else {\n      for (const line of mainMetric.returnQuery) {\n        const result = searchNameIsFilter(line, mainMetric);\n        if (result) {\n          const sizeQuery: number = line.fields[0].values.length;\n          // in grafana 7 change line.field[0] to line.field[1]\n          for (let i = 0; i < sizeQuery; i++) {\n            if (line.fields.length > 0 && line.fields[0].values.get(i)) {\n              cnt += line.fields[0].values.get(i);\n              debug.push(line.fields[0].values.get(i));\n              ++countValue;\n            }\n          }\n        }\n      }\n      if (mainMetric.manageValue === 'avg') {\n        cnt /= countValue;\n      } else if (mainMetric.manageValue === 'err') {\n        if (countValue > 1) {\n          cnt = null;\n        }\n      }\n    }\n  }\n\n  return cnt;\n};\n/*********************************** the best solution it's check the instant checbox in addquery */\n\n/*****************************Other solution but there are a problem with average of node_network_up */\n\n// export const getResultQuery = (mainMetric: Metric) => {\n//   let cnt: number | null = null;\n//   console.log(mainMetric.returnQuery);\n//   if (mainMetric.returnQuery && mainMetric.returnQuery.length > 0) {\n//     const debug: number[] = [];\n//     let countValue = 0;\n\n//     cnt = 0;\n//     for (const line of mainMetric.returnQuery) {\n//       const result = searchNameIsKey(line, mainMetric);\n//       if (result) {\n//         const sizeQuery: number = line.fields[0].values.length;\n//         // in grafana 7 change line.field[0] to line.field[1]\n//         for (let i = 0; i < sizeQuery; i++) {\n//           if (line.fields.length > 0 && line.fields[0].values.get(i)) {\n//             cnt += line.fields[0].values.get(i);\n//             debug.push(line.fields[0].values.get(i));\n//             ++countValue;\n//           }\n//           if (countValue > -1 && mainMetric.manageValue === 'sum') {\n//             break;\n//           }\n//         }\n//       }\n//     }\n//     if (mainMetric.manageValue === 'avg') {\n//       cnt /= countValue;\n//     } else if (mainMetric.manageValue === 'err') {\n//       if (countValue > -1) {\n//         cnt = null;\n//       }\n//     }\n//     console.log(debug);\n//   }\n\n//   return cnt;\n// };\n","import { CoordinateSpaceClass } from './CoordinateSpaceClass';\nimport { OrientedLinkClass } from './OrientedLinkClass';\nimport { LowerLimitClass } from './LowerLimitClass';\nimport { TextObject } from './TextObjectClass';\nimport { LinkURLClass } from './LinkURLClass';\nimport { Metric, Metadata } from 'types';\nimport { PositionParameterClass } from './PositionParameterClass';\n\nexport interface Coord4D {\n  /** coordinate x min */\n  xMin: string;\n  /** coordinate x max */\n  xMax: string;\n  /** coordinate y min */\n  yMin: string;\n  /** coordinate y max */\n  yMax: string;\n}\n\nexport class RegionClass extends CoordinateSpaceClass {\n  /** id of region object svg */\n  idSVG: string;\n  /** id svg or coordinate */\n  mode: boolean;\n  orientedLink: OrientedLinkClass[];\n  /** if coordinate mode, stock coordinate here */\n  coords: Coord4D;\n  /** coordinate to creation */\n  coordsDefault: Coord4D;\n  /** background image region if coordinate mode */\n  img: string;\n  /** width of initial */\n  widthInitialSpaceDefault: string;\n  /** height of initial */\n  heightInitialSpaceDefault: string;\n\n  constructor(\n    id: number,\n    linkURL: LinkURLClass,\n    meta: Metadata[],\n    lowerLimitClass: LowerLimitClass[],\n    label: string,\n    textObj: TextObject,\n    mainMetric: Metric,\n    metrics: Metric[],\n    colorMode: boolean,\n    traceBack: boolean,\n    traceBorder: boolean,\n    positionParameter: PositionParameterClass,\n    idSVG: string,\n    orientedLink: OrientedLinkClass[],\n    coords: Coord4D,\n    coordsDefault: Coord4D,\n    mode: boolean,\n    img: string,\n    widthInitialSpaceDefault: string,\n    heightInitialSpaceDefault: string\n  ) {\n    super(id, linkURL, meta, lowerLimitClass, label, textObj, mainMetric, metrics, colorMode, traceBack, traceBorder, positionParameter);\n    this.idSVG = idSVG;\n    this.mode = mode;\n    this.orientedLink = orientedLink;\n    this.coords = coords;\n    this.coordsDefault = coordsDefault;\n    this.img = img;\n    this.widthInitialSpaceDefault = widthInitialSpaceDefault;\n    this.heightInitialSpaceDefault = heightInitialSpaceDefault;\n  }\n}\n","import { RegionClass, Coord4D } from 'Models/RegionClass';\nimport { TextObject } from 'Models/TextObjectClass';\nimport { LinkURLClass } from 'Models/LinkURLClass';\nimport { PositionParameterClass } from 'Models/PositionParameterClass';\nimport { Metric } from 'types';\n\n/** init CoordinateSpaceExtendClass */\nexport const initRegionCoordinateSpace = (index: number): RegionClass => {\n  const newId: number = index + 1;\n  const initTextObject: TextObject = new TextObject(\n    '',\n    false,\n    'rgb(255, 255, 255, 0)',\n    'black',\n    { bold: false, italic: false, underline: false },\n    true,\n    {\n      legendElement: '',\n      numericFormatElement: '5',\n      unit: '',\n      displayObjectInTooltip: false,\n      // 'displayObjectPermanently': false,\n      addColorTextElement: false,\n      colorTextElement: 'white',\n      addColorBackElement: false,\n      colorBackElement: 'black',\n    },\n    {\n      legendElement: '',\n      numericFormatElement: '5',\n      unit: '',\n      displayObjectInTooltip: true,\n      // 'displayObjectPermanently': false,\n      addColorTextElement: false,\n      colorTextElement: 'white',\n      addColorBackElement: false,\n      colorBackElement: 'black',\n    }\n  );\n  const linkURL: LinkURLClass = new LinkURLClass('', '', '');\n  const coords: Coord4D = {\n    xMin: '0',\n    xMax: '0',\n    yMin: '0',\n    yMax: '0',\n  };\n  const coordsDefault: Coord4D = {\n    xMin: '0',\n    xMax: '0',\n    yMin: '0',\n    yMax: '0',\n  };\n  const positionParameter: PositionParameterClass = new PositionParameterClass('0', '0', '0', '0', { label: 'Right', value: 'Right' }, {});\n  const newCoordinate: RegionClass = new RegionClass(\n    newId,\n    linkURL,\n    [],\n    [],\n    '',\n    initTextObject,\n    { key: '', unit: '', format: '', keyValue: '', refId: '', manageValue: 'avg' },\n    [],\n    false,\n    false,\n    false,\n    positionParameter,\n    '',\n    [],\n    coords,\n    coordsDefault,\n    true,\n    '',\n    '',\n    ''\n  );\n  return newCoordinate;\n};\n\nexport const cloneRegionCoordinateSpace = (\n  region: RegionClass,\n  xMinInitialSpace: number,\n  xMaxInitialSpace: number,\n  widthBackground: number,\n  yMinInitialSpace: number,\n  yMaxInitialSpace: number,\n  heightBackground: number\n): RegionClass => {\n  const initTextObject: TextObject = new TextObject(\n    // region.textObj.legend,\n    region.textObj.value,\n    region.textObj.isTextTooltip,\n    region.textObj.colorBack,\n    region.textObj.colorText,\n    region.textObj.style,\n    region.textObj.generateObjectText,\n    region.textObj.valueGenerateObjectText,\n    region.textObj.generateAuxiliaryElement\n  );\n  const linkURL: LinkURLClass = new LinkURLClass(region.linkURL.followLink, region.linkURL.hoveringTooltipLink, region.linkURL.hoveringTooltipText);\n  const coords: Coord4D = {\n    xMin: region.coords.xMin,\n    xMax: region.coords.xMax,\n    yMin: region.coords.yMin,\n    yMax: region.coords.yMax,\n  };\n  const coordsDefault: Coord4D = {\n    xMin: region.coordsDefault.xMin,\n    xMax: region.coordsDefault.xMax,\n    yMin: region.coordsDefault.yMin,\n    yMax: region.coordsDefault.yMax,\n  };\n  const positionParameter: PositionParameterClass = new PositionParameterClass(\n    region.positionParameter.labelAPositionX,\n    region.positionParameter.labelAPositionY,\n    region.positionParameter.labelBPositionX,\n    region.positionParameter.labelBPositionY,\n    region.positionParameter.tooltipPositionA,\n    region.positionParameter.tooltipPositionB\n  );\n  const mainMetric: Metric = {\n    key: region.mainMetric.key,\n    unit: region.mainMetric.unit,\n    format: region.mainMetric.format,\n    keyValue: region.mainMetric.keyValue,\n    refId: region.mainMetric.refId,\n    expr: region.mainMetric.expr,\n    returnQuery: region.mainMetric.returnQuery,\n    manageValue: region.mainMetric.manageValue,\n  };\n\n  // const widthInitialSpace = xMaxInitialSpace - xMinInitialSpace;\n  // const xMinDefault = (((parseInt(region.coordsDefault.xMin, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n  // const xMaxDefault = (((parseInt(region.coordsDefault.xMax, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n\n  // const heightInitialSpace = yMaxInitialSpace - yMinInitialSpace;\n  // const yMinDefault = (((parseInt(region.coordsDefault.yMin, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n  // const yMaxDefault = (((parseInt(region.coordsDefault.yMax, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n\n  // const coordsDefault: Coord4D = {\n  //   xMin: xMinDefault,\n  //   xMax: xMaxDefault,\n  //   yMin: yMinDefault,\n  //   yMax: yMaxDefault,\n  // };\n\n  const newCoordinate: RegionClass = new RegionClass(\n    region.id,\n    linkURL,\n    region.meta,\n    region.lowerLimit,\n    region.label,\n    initTextObject,\n    mainMetric,\n    region.metrics,\n    region.colorMode,\n    region.traceBack,\n    region.traceBorder,\n    positionParameter,\n    region.idSVG,\n    region.orientedLink,\n    coords,\n    coordsDefault,\n    region.mode,\n    region.img,\n    region.widthInitialSpaceDefault,\n    region.heightInitialSpaceDefault\n  );\n  return newCoordinate;\n};\n","import { TextObject } from '../Models/TextObjectClass';\nimport { LinkURLClass } from '../Models/LinkURLClass';\nimport { PositionParameterClass } from '../Models/PositionParameterClass';\nimport { Metric } from '../types';\nimport { PointClass } from '../Models/PointClass';\n//rgba(255, 255, 255, 0)\nexport const initPoint = (index: number): PointClass => {\n  const newId: number = index;\n  const initTextObject: TextObject = new TextObject(\n    '',\n    false,\n    'white',\n    'black',\n    { italic: false, bold: false, underline: false },\n    true,\n    {\n      legendElement: '',\n      numericFormatElement: '5',\n      unit: '',\n      displayObjectInTooltip: false,\n      // 'displayObjectPermanently': false,\n      addColorTextElement: false,\n      colorTextElement: 'white',\n      addColorBackElement: false,\n      colorBackElement: 'black',\n    },\n    {\n      legendElement: '',\n      numericFormatElement: '5',\n      unit: '',\n      displayObjectInTooltip: true,\n      // 'displayObjectPermanently': false,\n      addColorTextElement: true,\n      colorTextElement: '',\n      addColorBackElement: true,\n      colorBackElement: 'black',\n    }\n  );\n  const linkURL: LinkURLClass = new LinkURLClass('', '', '');\n\n  const positionParameter: PositionParameterClass = new PositionParameterClass('0', '0', '0', '0', { label: 'Right', value: 'Right' }, {});\n  const newCoordinate: PointClass = new PointClass(\n    newId,\n    linkURL,\n    [],\n    [],\n    '',\n    initTextObject,\n    { key: '', unit: '', format: '', keyValue: '', refId: '', manageValue: 'avg' },\n    [],\n    false,\n    false,\n    false,\n    positionParameter,\n    'point' + newId.toString(),\n    '',\n    { label: 'Yes', value: 'true' },\n    { label: 'Circle', value: 'circle' },\n    '12',\n    { label: 'Medium', value: 'medium' },\n    '0',\n    '0',\n    '0',\n    'black',\n    [],\n    [],\n    '0',\n    '0',\n    '0',\n    '0'\n  );\n  return newCoordinate;\n};\n\nexport const clonePoint = (\n  point: PointClass,\n  xMinInitialSpace: number,\n  xMaxInitialSpace: number,\n  widthBackground: number,\n  yMinInitialSpace: number,\n  yMaxInitialSpace: number,\n  heightBackground: number\n): PointClass => {\n  const initTextObject: TextObject = new TextObject(\n    // point.textObj.legend,\n    point.textObj.value,\n    point.textObj.isTextTooltip,\n    point.textObj.colorBack,\n    point.textObj.colorText,\n    point.textObj.style,\n    point.textObj.generateObjectText,\n    point.textObj.valueGenerateObjectText,\n    point.textObj.generateAuxiliaryElement\n  );\n  const linkURL: LinkURLClass = new LinkURLClass(point.linkURL.followLink, point.linkURL.hoveringTooltipLink, point.linkURL.hoveringTooltipText);\n  const positionParameter: PositionParameterClass = new PositionParameterClass(\n    point.positionParameter.labelAPositionX,\n    point.positionParameter.labelAPositionY,\n    point.positionParameter.labelBPositionX,\n    point.positionParameter.labelBPositionY,\n    point.positionParameter.tooltipPositionA,\n    point.positionParameter.tooltipPositionB\n  );\n  const mainMetric: Metric = {\n    key: point.mainMetric.key,\n    unit: point.mainMetric.unit,\n    format: point.mainMetric.format,\n    keyValue: point.mainMetric.keyValue,\n    filter: point.mainMetric.filter,\n    refId: point.mainMetric.refId,\n    expr: point.mainMetric.expr,\n    returnQuery: point.mainMetric.returnQuery,\n    manageValue: point.mainMetric.manageValue,\n  };\n\n  const widthInitialSpace = xMaxInitialSpace - xMinInitialSpace;\n  const positionXDefault = (((parseInt(point.positionShapeX, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n\n  const heightInitialSpace = yMaxInitialSpace - yMinInitialSpace;\n  const positionYDefault = (((parseInt(point.positionShapeY, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n\n  const newCoordinate: PointClass = new PointClass(\n    point.id,\n    linkURL,\n    point.meta,\n    point.lowerLimit,\n    point.label,\n    initTextObject,\n    mainMetric,\n    point.metrics,\n    point.colorMode,\n    point.traceBack,\n    point.traceBorder,\n    positionParameter,\n    point.name,\n    point.valueMetric,\n    point.drawGraphicMarker,\n    point.shape,\n    point.sizeWidth,\n    point.sizeHeight,\n    point.rotateArrow,\n    point.positionShapeX,\n    point.positionShapeY,\n    point.color,\n    point.associateOrientedLinksIn,\n    point.associateOrientedLinksOut,\n    point.widthInitialSpaceDefault,\n    point.heightInitialSpaceDefault,\n    positionXDefault,\n    positionYDefault\n  );\n  return newCoordinate;\n};\n","import { TextObject } from '../Models/TextObjectClass';\nimport { LinkURLClass } from '../Models/LinkURLClass';\nimport { PositionParameterClass } from '../Models/PositionParameterClass';\nimport { Metric } from '../types';\nimport { OrientedLinkClass } from '../Models/OrientedLinkClass';\n\nexport const initOrientedLink = (newId: number, newZIndex: number): OrientedLinkClass => {\n  const num: number = newId;\n  const zIndex: number = newZIndex;\n  const initTextObject: TextObject = new TextObject(\n    '',\n    false,\n    'white',\n    'black',\n    { bold: false, italic: false, underline: false },\n    true,\n    {\n      legendElement: '',\n      numericFormatElement: '5',\n      unit: '',\n      displayObjectInTooltip: false,\n      // 'displayObjectPermanently': false,\n      addColorTextElement: false,\n      colorTextElement: 'white',\n      addColorBackElement: false,\n      colorBackElement: 'black',\n    },\n    {\n      legendElement: '',\n      numericFormatElement: '5',\n      unit: '',\n      displayObjectInTooltip: true,\n      // 'displayObjectPermanently': false,\n      addColorTextElement: true,\n      colorTextElement: 'white',\n      addColorBackElement: true,\n      colorBackElement: 'black',\n    }\n  );\n\n  const linkUrl: LinkURLClass = new LinkURLClass('', '', '');\n  const initPositionParameter: PositionParameterClass = new PositionParameterClass(\n    '0',\n    '0',\n    '0',\n    '0',\n    {\n      label: 'Right',\n      value: 'Right',\n    },\n    {\n      label: 'Right',\n      value: 'Right',\n    }\n  );\n  const initMainMetrics: Metric = { key: '', unit: '', format: '', keyValue: '', refId: '', manageValue: 'avg' };\n  const initMainMetricsB: Metric = { key: '', unit: '', format: '', keyValue: '', refId: '', manageValue: 'avg' };\n  const newCoordinate: OrientedLinkClass = new OrientedLinkClass(\n    num,\n    linkUrl,\n    [],\n    [],\n    '',\n    initTextObject,\n    // {\n    // \t'key': keyMainMetric || '',\n    // \t'unit': '',\n    // \t'format': '',\n    // \t'keyValue': keyValueMainMetric || '',\n    // \t'refId': refIdMainMetric || '',\n    // \t'manageValue': 'avg',\n    // }\n    initMainMetrics,\n    [],\n    false,\n    false,\n    false,\n    initPositionParameter,\n    'orientedLink' + num.toString(),\n    { label: 'Monodirectional', value: 'AB' },\n    '9',\n    '0',\n    '0',\n    '#5794F2',\n    '0',\n    '0',\n    '#E54658',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    zIndex,\n    '',\n    '',\n    {},\n    initMainMetricsB,\n    [],\n    '0',\n    '0',\n    '0',\n    '0',\n    '0',\n    '0',\n    '0',\n    '0'\n  );\n  return newCoordinate;\n};\n\nexport const cloneOrientedLink = (orientedLink: OrientedLinkClass): OrientedLinkClass => {\n  const initTextObject: TextObject = new TextObject(\n    //orientedLink.textObj.legend,\n    orientedLink.textObj.value,\n    orientedLink.textObj.isTextTooltip,\n    orientedLink.textObj.colorBack,\n    orientedLink.textObj.colorText,\n    orientedLink.textObj.style,\n    orientedLink.textObj.generateObjectText,\n    orientedLink.textObj.valueGenerateObjectText,\n    orientedLink.textObj.generateAuxiliaryElement\n  );\n  const linkURL: LinkURLClass = new LinkURLClass(\n    orientedLink.linkURL.followLink,\n    orientedLink.linkURL.hoveringTooltipLink,\n    orientedLink.linkURL.hoveringTooltipText\n  );\n  const positionParameter: PositionParameterClass = new PositionParameterClass(\n    orientedLink.positionParameter.labelAPositionX,\n    orientedLink.positionParameter.labelAPositionY,\n    orientedLink.positionParameter.labelBPositionX,\n    orientedLink.positionParameter.labelBPositionY,\n    orientedLink.positionParameter.tooltipPositionA,\n    orientedLink.positionParameter.tooltipPositionB\n  );\n  const mainMetric: Metric = {\n    key: orientedLink.mainMetric.key,\n    unit: orientedLink.mainMetric.unit,\n    format: orientedLink.mainMetric.format,\n    keyValue: orientedLink.mainMetric.keyValue,\n    refId: orientedLink.mainMetric.refId,\n    expr: orientedLink.mainMetric.expr,\n    returnQuery: orientedLink.mainMetric.returnQuery,\n    manageValue: orientedLink.mainMetric.manageValue,\n  };\n  const newCoordinate: OrientedLinkClass = new OrientedLinkClass(\n    orientedLink.id,\n    linkURL,\n    orientedLink.meta,\n    orientedLink.lowerLimit,\n    orientedLink.label,\n    initTextObject,\n    mainMetric,\n    orientedLink.metrics,\n    orientedLink.colorMode,\n    orientedLink.traceBack,\n    orientedLink.traceBorder,\n    positionParameter,\n    orientedLink.name,\n    orientedLink.orientationLink,\n    orientedLink.size,\n    orientedLink.pointAPositionX,\n    orientedLink.pointAPositionY,\n    orientedLink.colorCoordinateA,\n    orientedLink.pointBPositionX,\n    orientedLink.pointBPositionY,\n    orientedLink.colorCoordinateB,\n    orientedLink.valueMainMetricA,\n    orientedLink.valueMainMetricB,\n    orientedLink.pointIn,\n    orientedLink.pointOut,\n    orientedLink.regionIn,\n    orientedLink.regionOut,\n    orientedLink.zIndex,\n    orientedLink.pointCPositionX,\n    orientedLink.pointCPositionY,\n    orientedLink.isIncurved,\n    orientedLink.mainMetricB,\n    orientedLink.metricsB,\n    orientedLink.widthInitialSpaceDefault,\n    orientedLink.heightInitialSpaceDefault,\n    orientedLink.pointAPositionXDefault,\n    orientedLink.pointAPositionYDefault,\n    orientedLink.pointBPositionXDefault,\n    orientedLink.pointBPositionYDefault,\n    orientedLink.pointCPositionXDefault,\n    orientedLink.pointCPositionYDefault\n  );\n  return newCoordinate;\n};\n","import { InputClass } from './InputClass';\n\n/**\n * class ArayInput\n * @param id number\n * @param uneClassInput InputClass[]\n */\nexport class ArrayInputClass {\n  /**\n   * id\n   */\n  id: number;\n  /**\n   * array class InputClass\n   */\n  uneClassInput: InputClass[];\n\n  constructor(id: number, uneClassInput: InputClass[]) {\n    this.id = id;\n    this.uneClassInput = uneClassInput;\n  }\n\n  /**\n   * get id\n   */\n  getId() {\n    return this.id;\n  }\n\n  /**\n   * set id\n   * @param id new id\n   */\n  setId(id: number) {\n    this.id = id;\n  }\n\n  /**\n   * get value of InputClass[]\n   */\n  getUneClassInput() {\n    return this.uneClassInput;\n  }\n\n  /**\n   * set a new InputClass[]\n   * @param uneClassInput new object InputClass[]\n   */\n  setUneClassInput(uneClassInput: InputClass[]) {\n    this.uneClassInput = uneClassInput;\n  }\n}\n","import React, { FunctionComponent } from 'react';\nimport { FormField, Button } from '@grafana/ui';\n\ntype InputButtonFieldProps = {\n  label: string;\n  value: string;\n  name: string;\n  required: boolean;\n  _handleChange: (event: any) => void;\n  id: string;\n  withLabel?: boolean;\n};\n\nconst InputButtonField: FunctionComponent<InputButtonFieldProps> = ({ label, value, name, required, _handleChange, id, withLabel }) => {\n  if (withLabel === true) {\n    return (\n      <div>\n        <FormField\n          label={label}\n          labelWidth={10}\n          inputWidth={20}\n          type=\"button\"\n          required={required}\n          name={name}\n          id={id}\n          onClick={_handleChange}\n          value={label || ''}\n        />\n      </div>\n    );\n  } else {\n    return (\n      <div>\n        <Button onClick={_handleChange} variant=\"danger\" id={id} size=\"md\">\n          Delete\n        </Button>\n        {/* <FormField label={''}\n\t\t\t\t\t\t\t\tinputWidth={20}\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\tonClick={_handleChange}\n\t\t\t\t\t\t\t\tvalue={label || ''} /> */}\n      </div>\n    );\n  }\n};\n\nexport default InputButtonField;\n","import { FormField } from '@grafana/ui';\nimport React, { ChangeEvent, FunctionComponent } from 'react';\n// import { SelectableValue } from '@grafana/data';\n\n/**\n * props\n */\ntype InputTextFieldProps = {\n  label: string;\n  name: string;\n  placeholder: string;\n  required: boolean;\n  value: string;\n  _handleChange: (event: ChangeEvent<HTMLInputElement>) => any;\n  disabled?: boolean;\n  id?: string;\n};\n\nexport const InputTextField: FunctionComponent<InputTextFieldProps> = ({\n  label,\n  name,\n  placeholder,\n  required,\n  value,\n  _handleChange,\n  disabled,\n  id,\n}) => (\n  <div>\n    <FormField\n      id={id}\n      label={label}\n      labelWidth={15}\n      inputWidth={15}\n      type=\"text\"\n      required={required}\n      name={name}\n      value={value}\n      onChange={_handleChange}\n      placeholder={placeholder}\n      disabled={disabled ? disabled : false}\n    />\n  </div>\n);\n\nexport default InputTextField;\n\n// Math.round((label && label.length > 0 ? label.length : 1) * 1.7)\n","/**\n * class InputClass\n * @param id string\n * @param label string\n * @param name string\n * @param inputType string\n * @param required boolean\n * @param placeholder string?\n * @param value string?\n */\nexport class InputClass {\n  /**\n   * identiofiant unique\n   */\n  id: string;\n  /**\n   * label de l'input\n   */\n  label: string;\n  /**\n   * le nom de l'imput\n   */\n  name: string;\n  /**\n   * le type de l'input (button, text)\n   */\n  inputType: string;\n  /**\n   * obligatoire\n   */\n  required: boolean;\n  /**\n   * texte a afficher\n   */\n  placeholder?: string;\n  /**\n   * la value de l'input\n   */\n  value?: string;\n\n  constructor(id: string, label: string, name: string, inputType: string, required: boolean, placeholder?: string, value?: string) {\n    this.id = id;\n    this.label = label;\n    this.name = name;\n    this.inputType = inputType;\n    this.required = required;\n    this.placeholder = placeholder;\n    this.value = value;\n  }\n\n  /**\n   * get id\n   */\n  getId() {\n    return this.id;\n  }\n\n  /**\n   * set id\n   * @param id new id\n   */\n  setId(id: string) {\n    this.id = id;\n  }\n\n  /**\n   * get label\n   */\n  getLabel(): string {\n    return this.label;\n  }\n\n  /**\n   * set label\n   * @param label new label\n   */\n  setLabel(label: string) {\n    this.label = label;\n  }\n\n  /**\n   * get name\n   */\n  getName() {\n    return this.name;\n  }\n\n  /**\n   * set name\n   * @param name new name\n   */\n  setName(name: string) {\n    this.name = name;\n  }\n\n  /**\n   * get type input\n   */\n  getInputType() {\n    return this.inputType;\n  }\n\n  /**\n   * set type input\n   * @param inputType new input type\n   */\n  setInputType(inputType: string) {\n    this.inputType = inputType;\n  }\n\n  /**\n   * get required\n   */\n  getRequired() {\n    return this.required;\n  }\n\n  /**\n   * set required\n   * @param required new value required\n   */\n  setRequired(required: boolean) {\n    this.required = required;\n  }\n\n  /**\n   * get placeholder\n   */\n  getPlaceholder() {\n    return this.placeholder;\n  }\n\n  /**\n   * set placeholder\n   * @param placeholder new value placeholder\n   */\n  setPlaceholder(placeholder: string) {\n    this.placeholder = placeholder;\n  }\n\n  /**\n   * get value\n   */\n  getValue() {\n    return this.value;\n  }\n\n  /**\n   * set value\n   * @param value new value\n   */\n  setValue(value: string) {\n    this.value = value;\n  }\n}\n","import { InputClass } from 'Models/InputClass';\n\nexport const createInputCoor = (id: number, isInitial: boolean): InputClass[] => {\n  const l10n = require('Localization/en.json');\n\n  const newFieldLabel: InputClass = new InputClass(\n    id.toString() + 'label',\n    l10n.basics.label,\n    'label' + id.toString(),\n    'text',\n    true,\n    'Label',\n    undefined\n  );\n  const newFieldPositionXMin: InputClass = new InputClass(\n    id.toString() + 'xMin',\n    l10n.inputCoordinate.minXPosition,\n    'positionXMin' + id.toString(),\n    'text',\n    true,\n    l10n.inputCoordinate.minXPosition,\n    undefined\n  );\n  const newFieldPositionXMax: InputClass = new InputClass(\n    id.toString() + 'xMax',\n    l10n.inputCoordinate.maxXPosition,\n    'positionXMax' + id.toString(),\n    'text',\n    true,\n    l10n.inputCoordinate.maxXPosition,\n    undefined\n  );\n  const newFieldPositionYMin: InputClass = new InputClass(\n    id.toString() + 'yMin',\n    l10n.inputCoordinate.minYPosition,\n    'positionYMin' + id.toString(),\n    'text',\n    true,\n    l10n.inputCoordinate.minYPosition,\n    undefined\n  );\n  const newFieldPositionYMax: InputClass = new InputClass(\n    id.toString() + 'yMax',\n    l10n.inputCoordinate.maxYPosition,\n    'positionYMax' + id.toString(),\n    'text',\n    true,\n    l10n.inputCoordinate.maxYPosition,\n    undefined\n  );\n  // const newFieldKey: InputClass = new InputClass(id.toString() + 'key',\n  // \tl10n.inputCoordinate.key, 'key' + id.toString(),\n  // \t'text', true, l10n.inputCoordinate.key, undefined);\n  // const newFieldValueKey: InputClass = new InputClass(id.toString() + 'valueKey',\n  // \tl10n.inputCoordinate.valueKey, 'valueKey' + id.toString(),\n  // \t'text', true, l10n.inputCoordinate.valueKey, undefined);\n  // const newFieldButton: InputClass = new InputClass(id.toString() + 'supprimer',\n  // \tl10n.basics.delete, 'supprimer' + id.toString(),\n  // \t'button', false, undefined, l10n.basics.delete);\n\n  let finalArray: InputClass[] = [];\n  if (!isInitial) {\n    finalArray = [\n      newFieldLabel,\n      // newFieldButton,\n    ];\n  } else {\n    finalArray = [newFieldLabel, newFieldPositionXMin, newFieldPositionXMax, newFieldPositionYMin, newFieldPositionYMax];\n  }\n\n  return finalArray;\n};\n","import { RegionClass } from 'Models/RegionClass';\nimport { CoordinateSpaceInitial } from 'types';\n\n/**\n * Edit the parameter in Coor object\n * @param {string} name parameter to edit\n * @param {Coor} editCoor object to edit\n * @param {string} newValue value to insert in the parameter\n * @returns {Coor} object edit\n */\nexport const editGoodParameter = (\n  name: string,\n  editCoor: CoordinateSpaceInitial,\n  newValue: string,\n  widthBackground: number,\n  heigthBackground: number\n): CoordinateSpaceInitial => {\n  if (name.startsWith('positionXMin')) {\n    editCoor.coordinate.xMin = limitValueInitialSpace(newValue, 1, widthBackground, heigthBackground);\n    //editCoor.coordinate.xMin = newValue;\n  } else if (name.startsWith('positionXMax')) {\n    editCoor.coordinate.xMax = limitValueInitialSpace(newValue, 2, widthBackground, heigthBackground);\n    //editCoor.coordinate.xMax = newValue;\n  } else if (name.startsWith('positionYMin')) {\n    editCoor.coordinate.yMin = limitValueInitialSpace(newValue, 3, widthBackground, heigthBackground);\n    //editCoor.coordinate.yMin = newValue;\n  } else if (name.startsWith('positionYMax')) {\n    editCoor.coordinate.yMax = limitValueInitialSpace(newValue, 4, widthBackground, heigthBackground);\n    //editCoor.coordinate.yMax = newValue;\n  }\n  return editCoor;\n};\n\nexport const limitValueInitialSpace = (coorInitialSpace: string, position: number, widthBackground: number, heigthBackground: number): string => {\n  let result = parseInt(coorInitialSpace, 10);\n  if (position === 1 || position === 2) {\n    //xMin + xMax\n    if (result > widthBackground) {\n      result = widthBackground;\n    }\n  } else if (position === 3 || position === 4) {\n    //yMin + yMax\n    if (result > heigthBackground) {\n      result = heigthBackground;\n    }\n  }\n  // if (!defaultInitialSpace) {\n  //   result = coorInt;\n  // } else {\n  //   if (coorInt > 100) {\n  //     result = 100;\n  //   } else if (coorInt < 0) {\n  //     result = 0;\n  //   } else if (coorInt >= 0 && coorInt <= 100) {\n  //     result = coorInt;\n  //   } else {\n  //     result = 0;\n  //   }\n  // }\n  if (!result) {\n    result = 0;\n  }\n  return result.toString();\n};\n\nexport const editGoodParameterExtend = (\n  name: string,\n  editCoor: RegionClass,\n  newValue: string\n  // widthInitialSpace?: string,\n  // heightInitialSpace?: string\n): RegionClass => {\n  if (name.startsWith('positionXMin')) {\n    editCoor.coords.xMin = newValue;\n  } else if (name.startsWith('positionXMax')) {\n    editCoor.coords.xMax = newValue;\n  } else if (name.startsWith('positionYMin')) {\n    editCoor.coords.yMin = newValue;\n  } else if (name.startsWith('positionYMax')) {\n    editCoor.coords.yMax = newValue;\n  } else if (name.startsWith('label')) {\n    editCoor.label = newValue;\n  } else if (name.startsWith('image')) {\n    editCoor.img = newValue;\n  } else if (name.startsWith('key')) {\n    editCoor.mainMetric.key = newValue;\n  } else if (name.startsWith('valueKey')) {\n    editCoor.mainMetric.keyValue = newValue;\n  }\n  return editCoor;\n};\n","export class LowerLimitClass {\n  id: number;\n  lowerLimitMin: string;\n  lowerLimitMax: string;\n  backColor: string;\n  borderColor: string;\n  sizeBorder: string;\n  constructor(id: number, lowerLimitMin: string, lowerLimitMax: string, backColor: string, borderColor: string, sizeBorder: string) {\n    this.id = id;\n    this.lowerLimitMin = lowerLimitMin;\n    this.lowerLimitMax = lowerLimitMax;\n    this.backColor = backColor;\n    this.borderColor = borderColor;\n    this.sizeBorder = sizeBorder;\n  }\n\n  get getId(): number {\n    return this.id;\n  }\n\n  set setId(id: number) {\n    this.id = id;\n  }\n\n  get getlowerLimitMin(): string {\n    return this.lowerLimitMin;\n  }\n\n  set setlowerLimitMin(lowerLimitMin: string) {\n    this.lowerLimitMin = lowerLimitMin;\n  }\n\n  get getlowerLimitMax(): string {\n    return this.lowerLimitMax;\n  }\n\n  set setlowerLimitMax(lowerLimitMax: string) {\n    this.lowerLimitMax = lowerLimitMax;\n  }\n\n  get getSeuilbackColor(): string {\n    return this.backColor;\n  }\n\n  set setSeuilbackColor(couleur: string) {\n    this.backColor = couleur;\n  }\n\n  get getSeuilborderColor(): string {\n    return this.borderColor;\n  }\n\n  set setSeuilborderColor(couleur: string) {\n    this.borderColor = couleur;\n  }\n\n  get getsizeBorder(): string {\n    return this.sizeBorder;\n  }\n\n  set setsizeBorder(size: string) {\n    this.sizeBorder = size;\n  }\n}\n","import { ColorPicker, FormLabel } from '@grafana/ui';\nimport React, { FunctionComponent } from 'react';\n\n/**\n * props\n */\ntype InputTextFieldProps = {\n  color: string;\n  keyInt: number;\n  text: string;\n  _onChange: Function;\n  width?: number;\n};\n\n/**\n * 1.7 -> taille approximative d'un caractere\n * @param param0 voir InputTextFieldProps\n */\nexport const InputSeriesColorPicker: FunctionComponent<InputTextFieldProps> = ({ color, keyInt, text, _onChange, width }) => (\n  <div className=\"form-field\">\n    <FormLabel width={width ? width : 15}>{text}</FormLabel>\n    <div\n      id=\"colorPicker\"\n      style={{\n        margin: '0.5%',\n        padding: '0.5%',\n        paddingTop: '5px',\n        backgroundColor: '#1f1f20',\n        border: '3px solid black',\n      }}\n    >\n      <ColorPicker color={color} onChange={(newColor) => _onChange(keyInt, newColor)} />\n    </div>\n  </div>\n);\n\nexport default InputSeriesColorPicker;\n// width || Math.round(text.length * 1.7)\n","import React from 'react';\n\nimport { FormField } from '@grafana/ui';\n\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\n\nimport InputSeriesColorPicker from 'Functions/Input/inputSeriesColorPicker';\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions } from 'types';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** trace border? */\n  traceBorder: boolean;\n  /** trace background? */\n  traceBack: boolean;\n  /** last array lowerLimit */\n  lowerLimit: LowerLimitClass[];\n  /** function parent to save lower limit */\n  lowerLimitCallBack: (lowerLimit: LowerLimitClass[], id?: number) => void;\n\n  //lowerLimitDefault: (value: LowerLimitClass) => void;\n\n  isLink: boolean;\n}\n\ninterface State {\n  /** couleur du fond */\n  lowerLimit: LowerLimitClass[];\n  /** result html */\n  htmlResult: JSX.Element;\n}\n\n/**\n * edit color in fix mode\n */\nclass FixColor extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      lowerLimit: this.props.lowerLimit,\n      htmlResult: <div></div>,\n    };\n  }\n\n  /**\n   * edit background color with Promise\n   */\n  setStateAsyncSeuil = (state: {\n    /**\n     * edit colorFond\n     */\n    lowerLimit: LowerLimitClass[];\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * save data\n   */\n  callBack = (): void => {\n    this.props.lowerLimitCallBack(this.state.lowerLimit);\n  };\n\n  /**\n   * change background color\n   */\n  onChangeColorFond = async (key: number, color: string) => {\n    const newSeuil: LowerLimitClass[] = this.state.lowerLimit;\n    newSeuil[0].backColor = color;\n    await this.setStateAsyncSeuil({\n      lowerLimit: newSeuil,\n    });\n    this.callBack();\n    this.initComponent();\n    //this.props.lowerLimitDefault(this.state.lowerLimit[0]);\n  };\n\n  /**\n   * change contour color\n   */\n  onChangeColorContour = async (key: number, color: string) => {\n    const newSeuil: LowerLimitClass[] = this.state.lowerLimit;\n    newSeuil[0].borderColor = color;\n    await this.setStateAsyncSeuil({\n      lowerLimit: newSeuil,\n    });\n    this.callBack();\n    this.initComponent();\n    //this.props.lowerLimitDefault(this.state.lowerLimit[0]);\n  };\n\n  /**\n   * change size color\n   */\n  onChangeSzContour = async (value: string) => {\n    const newSeuil: LowerLimitClass[] = this.state.lowerLimit;\n    newSeuil[0].sizeBorder = value;\n    await this.setStateAsyncSeuil({\n      lowerLimit: newSeuil,\n    });\n    this.callBack();\n    this.initComponent();\n    //this.props.lowerLimitDefault(this.state.lowerLimit[0]);\n  };\n\n  /**\n   * add button color\n   */\n  addButtonColor = (): JSX.Element[] => {\n    const key = '0';\n    const couleur: JSX.Element[] = [];\n    const l10n = require('Localization/en.json');\n    let textInputColor = l10n.colorVariable.switchOutlineColor;\n    let labelSize = l10n.colorVariable.thicknessOutline;\n    let placeHolderSize = l10n.colorVariable.thicknessOutline;\n    if (this.props.traceBack) {\n      const keyFondColorPicker = key + 'FondcolorPicker';\n      couleur.push(\n        <InputSeriesColorPicker\n          key={keyFondColorPicker}\n          color={this.state.lowerLimit[0].backColor}\n          keyInt={0}\n          text={l10n.colorVariable.switchBackgroundColor}\n          _onChange={this.onChangeColorFond}\n        />\n      );\n    }\n    if (this.props.traceBorder) {\n      const keyContourDiv = key + 'ContourDiv';\n      couleur.push(\n        <div key={keyContourDiv}>\n          <InputSeriesColorPicker\n            color={this.state.lowerLimit[0].borderColor}\n            keyInt={0}\n            text={textInputColor}\n            _onChange={this.onChangeColorContour}\n          />\n\n          <FormField\n            labelWidth={15}\n            label={labelSize}\n            name=\"epaisseurContour\"\n            placeholder={placeHolderSize}\n            value={this.state.lowerLimit[0].sizeBorder}\n            onChange={(event) => this.onChangeSzContour(event.currentTarget.value)}\n          />\n        </div>\n      );\n    }\n    return couleur;\n  };\n\n  /** create form */\n  initComponent = () => {\n    this.setState({\n      htmlResult: <div>{this.addButtonColor()}</div>,\n    });\n  };\n\n  /** init component when component is mount */\n  componentDidMount = async () => {\n    if (this.state.lowerLimit.length === 0) {\n      await this.setStateAsyncSeuil({\n        lowerLimit: [new LowerLimitClass(0, '', '', '', '', '2')],\n      });\n    }\n    this.initComponent();\n  };\n\n  /** init component when  update props */\n  componentDidUpdate = (prevProps: Props) => {\n    if (prevProps.traceBorder !== this.props.traceBorder || prevProps.traceBack !== this.props.traceBack) {\n      this.initComponent();\n    }\n  };\n\n  /**\n   * result\n   */\n  render() {\n    return <div>{this.state.htmlResult}</div>;\n  }\n}\nexport default FixColor;\n","import React from 'react';\nimport { SimpleOptions } from 'types';\n\nimport { PanelEditorProps } from '@grafana/data';\nimport { Button, FormField } from '@grafana/ui';\n\nimport { ArrayInputClass } from 'Models/ArrayInputClass';\nimport { InputClass } from 'Models/InputClass';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\n\nimport InputSeriesColorPicker from 'Functions/Input/inputSeriesColorPicker';\nimport InputTextField from 'Functions/Input/inputText';\n\ninterface Props {\n  /** trace color border? */\n  traceBorder: boolean;\n  /** trace color back */\n  traceBack: boolean;\n  /** last lower limit array */\n  lowerLimit: LowerLimitClass[];\n  /** function parent to save lower limit */\n  lowerLimitCallBack: (lowerLimit: LowerLimitClass[], id?: number) => void;\n\n  isLink: boolean;\n}\n\ninterface State {\n  /**\n   * tableau d'input pour générer le form\n   */\n  arrayInputClass: ArrayInputClass[];\n  /**\n   * tableau des seuils qui sera renvoyé au parent\n   */\n  lowerLimit: LowerLimitClass[];\n  /**\n   * nombre de seuil\n   */\n  index: number;\n  /**\n   * nombre de variation à ajouter qui est affiché dans l'input\n   */\n  nbVariation: string;\n\n  /**\n   * fill dynamic input\n   */\n  dynamicInput: JSX.Element;\n  /** input final form */\n  //displayInput: boolean;\n}\n\n/**\n * edit colors in variable mode\n */\nclass VariableColor extends React.Component<Props, State, PanelEditorProps<SimpleOptions>> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      arrayInputClass: [],\n      lowerLimit: [],\n      index: 0,\n      nbVariation: '3',\n      dynamicInput: <br />,\n      //displayInput: false,\n    };\n  }\n\n  /**\n   * set state for arrayInputClass with Promise\n   */\n  setStateAsyncArrayInputClass = (state: {\n    /**\n     * edit arrayInputClass\n     */\n    arrayInputClass: ArrayInputClass[];\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * set state for seuil with Promise\n   */\n  setStateAsyncLowerLimit = (state: {\n    /**\n     * edit seuil\n     */\n    lowerLimit: LowerLimitClass[];\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * set state for index with Promise\n   */\n  setStateAsyncIndex = (state: {\n    /**\n     * edit index\n     */\n    index: number;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * set state for nbVariation with Promise\n   */\n  setStateAsyncNbVariation = (state: {\n    /**\n     * edit nbVariation\n     */\n    nbVariation: string;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * send data to parent\n   */\n  callBack = () => {\n    this.fillVarInput();\n    this.props.lowerLimitCallBack(this.state.lowerLimit);\n  };\n\n  /** old function */\n  saveData = () => {\n    // const { onOptionsChange } = this.props;\n    // console.table(this.state.seuil);\n    // onOptionsChange({\n    // \t...this.props.options,\n    // \tseuil: this.state.seuil,\n    // });\n  };\n\n  /**\n   * add new seuil\n   * @param idx index for id\n   */\n  addInput = async (idx: number, newLowerLimit: LowerLimitClass) => {\n    await this.setStateAsyncArrayInputClass({\n      arrayInputClass: this.state.arrayInputClass\n        .slice()\n        .concat(\n          new ArrayInputClass(idx, [\n            new InputClass('gestCouleurMin' + idx.toString(), 'Seuil min', 'lowerLimitMin', 'text', false, 'Seuil min', undefined),\n            new InputClass('gestCouleurMax' + idx.toString(), 'Seuil max', 'lowerLimitMax', 'text', false, 'Seuil max', undefined),\n          ])\n        ),\n    });\n\n    await this.setStateAsyncLowerLimit({\n      lowerLimit: this.state.lowerLimit.concat(newLowerLimit),\n    });\n\n    await this.setStateAsyncIndex({\n      index: idx + 1,\n    });\n  };\n\n  /**\n   * call function with value input change\n   * @param event event input\n   * @param idInput id input\n   * @param idLine index array\n   */\n  handleValueChange = async (event: string, idInput: string, idLine: number) => {\n    const cpy: LowerLimitClass[] = this.state.lowerLimit.slice();\n    if (idInput === 'lowerLimitMin') {\n      cpy[idLine].lowerLimitMin = event;\n    } else {\n      cpy[idLine].lowerLimitMax = event;\n      if (cpy.length > idLine + 1) {\n        cpy[idLine + 1].lowerLimitMin = '>' + event;\n      }\n    }\n    await this.setStateAsyncLowerLimit({\n      lowerLimit: cpy,\n    });\n    this.callBack();\n  };\n\n  /**\n   * call function when colorFond value change\n   * @param key line index to modify\n   * @param color the new color to add\n   */\n  onChangeColorFond = async (key: number, color: string) => {\n    const cpy: LowerLimitClass[] = this.state.lowerLimit;\n    cpy[key].backColor = color;\n    await this.setStateAsyncLowerLimit({\n      lowerLimit: cpy,\n    });\n    this.callBack();\n  };\n\n  /**\n   * call fonction when colorContour change\n   * @param key line index to modify\n   * @param color the new color to add\n   */\n  onChangeColorContour = async (key: number, color: string) => {\n    const cpy: LowerLimitClass[] = this.state.lowerLimit;\n    cpy[key].borderColor = color;\n    await this.setStateAsyncLowerLimit({\n      lowerLimit: cpy,\n    });\n    this.callBack();\n  };\n\n  /**\n   * call function when sizeBorder value change\n   * @param key line index to modify\n   * @param size the new size to add\n   */\n  onChangeSzContour = async (key: number, size: string) => {\n    const cpy: LowerLimitClass[] = this.state.lowerLimit;\n    cpy[key].sizeBorder = size;\n    await this.setStateAsyncLowerLimit({\n      lowerLimit: cpy,\n    });\n    this.callBack();\n  };\n\n  /**\n   * insert color picker\n   * @param keyInt index to edit line\n   * @returns JSX.Element\n   */\n  addButtonColor = (keyInt: number): JSX.Element[] => {\n    const key = keyInt.toString();\n    const couleur: JSX.Element[] = [];\n    const l10n = require('Localization/en.json');\n\n    if (this.props.traceBack) {\n      const keyFondColorPicker = key + 'FondcolorPicker';\n\n      couleur.push(\n        <InputSeriesColorPicker\n          key={keyFondColorPicker}\n          color={this.state.lowerLimit[keyInt].backColor}\n          keyInt={keyInt}\n          text={l10n.colorVariable.switchBackgroundColor}\n          _onChange={this.onChangeColorFond}\n        />\n      );\n    }\n    if (this.props.traceBorder) {\n      const keyContourDiv = key + 'ContourDiv';\n      let nameInputSize = '';\n      if (this.props.isLink) {\n        nameInputSize = 'Size';\n      } else {\n        nameInputSize = l10n.colorVariable.thicknessOutline;\n      }\n\n      couleur.push(\n        <div key={keyContourDiv}>\n          <InputSeriesColorPicker\n            color={this.state.lowerLimit[keyInt].borderColor}\n            keyInt={keyInt}\n            text={l10n.colorVariable.switchOutlineColor}\n            _onChange={this.onChangeColorContour}\n          />\n\n          <FormField\n            labelWidth={15}\n            label={nameInputSize}\n            name=\"epaisseurContour\"\n            placeholder={l10n.colorVariable.thicknessOutline}\n            value={this.state.lowerLimit[keyInt].sizeBorder}\n            onChange={(event) => this.onChangeSzContour(keyInt, event.currentTarget.value)}\n          />\n        </div>\n      );\n    }\n    return couleur;\n  };\n\n  /**\n   * call fonction when edit nbVariation\n   */\n  onChangeVariation = async (event: {\n    /** currentTarget is item that is being edited */\n    currentTarget: HTMLInputElement;\n  }) => {\n    await this.setStateAsyncNbVariation({ nbVariation: event.currentTarget.value });\n  };\n\n  /** generate array input */\n  test = async (newSeuil: LowerLimitClass[]) => {\n    const arrayInput: ArrayInputClass[] = this.state.arrayInputClass.slice();\n    let idx = this.state.index;\n    const pSeuil: LowerLimitClass[] = this.state.lowerLimit;\n\n    for (const line of newSeuil) {\n      arrayInput.push(\n        new ArrayInputClass(idx, [\n          new InputClass('gestCouleurMin' + idx.toString(), 'Seuil min', 'lowerLimitMin', 'text', false, 'Seuil min', undefined),\n          new InputClass('gestCouleurMax' + idx.toString(), 'Seuil max', 'lowerLimitMax', 'text', false, 'Seuil max', undefined),\n        ])\n      );\n      idx++;\n      pSeuil.push(line);\n    }\n    await this.setStateAsyncArrayInputClass({\n      arrayInputClass: arrayInput,\n    });\n\n    await this.setStateAsyncLowerLimit({\n      lowerLimit: pSeuil,\n    });\n\n    await this.setStateAsyncIndex({\n      index: idx,\n    });\n  };\n\n  /**\n   * call addInput to prepare new inputs\n   * @param nb number inputs to add\n   */\n  addMultipleVariation = async (nb: number, seuil?: LowerLimitClass[]) => {\n    if (seuil) {\n      await this.test(seuil);\n      this.fillVarInput();\n    }\n  };\n\n  /** add new lower limit */\n  addVariation = async (nb: number, seuil?: LowerLimitClass[]) => {\n    for (let i = 0; i < nb; i++) {\n      let newSeuil: LowerLimitClass = seuil ? seuil[i] : new LowerLimitClass(i, '', '', '', '', '');\n      if (this.props.isLink) {\n        newSeuil = seuil ? seuil[i] : new LowerLimitClass(i, '', '', '', '', '10');\n      }\n      await this.addInput(i, newSeuil);\n    }\n    this.fillVarInput();\n  };\n\n  /**\n   * call function when display n input according to nbVariation\n   */\n  onClickVariation = async () => {\n    await this.setStateAsyncArrayInputClass({\n      arrayInputClass: [],\n    });\n    await this.setStateAsyncIndex({\n      index: 0,\n    });\n    await this.setStateAsyncLowerLimit({\n      lowerLimit: [],\n    });\n\n    // this.setState({\n    //   displayInput: true,\n    // });\n\n    const nb: number = parseInt(this.state.nbVariation, 10);\n    await this.addVariation(nb);\n  };\n\n  /**\n   * generate input seuil min and max with value\n   * @returns JSX.Element\n   */\n  fillVarInput = (): void => {\n    let final: JSX.Element[] = [];\n\n    if (this.state.lowerLimit.length === 0) {\n      this.setState({\n        dynamicInput: <br />,\n      });\n      return;\n    }\n\n    let i = 0;\n    for (const line of this.state.arrayInputClass) {\n      if (line.uneClassInput.length <= 0) {\n        this.setState({\n          dynamicInput: <br />,\n        });\n        return;\n      }\n      const result = line.uneClassInput.map((obj: InputClass) => (\n        <InputTextField\n          key={obj.id}\n          label={obj.label}\n          name={obj.name}\n          placeholder={obj.placeholder || ''}\n          required={obj.required}\n          value={\n            obj.name === 'lowerLimitMin'\n              ? line.id === 0\n                ? '-∞'\n                : this.state.lowerLimit[i].lowerLimitMin\n              : line.id === this.state.index - 1\n              ? '+∞'\n              : this.state.lowerLimit[i].lowerLimitMax\n          }\n          _handleChange={(event: {\n            /**\n             * get currentTarget in event element\n             */\n            currentTarget: HTMLInputElement;\n          }) => this.handleValueChange(event.currentTarget.value, obj.name, line.id)}\n          disabled={obj.name === 'lowerLimitMin' || line.id === this.state.index - 1}\n        />\n      ));\n      i++;\n      const couleur: JSX.Element[] = this.addButtonColor(line.id);\n      const newKey = line.id.toString() + 'brGestColor';\n      final = final.concat(result.concat(couleur.concat(<br key={newKey} />)));\n    }\n    this.setState({\n      dynamicInput: <ul>{final}</ul>,\n    });\n  };\n\n  /**\n   * debug\n   */\n  infoSeuil = () => {};\n\n  /**\n   * component mount\n   */\n  componentDidMount = () => {\n    if (this.props.lowerLimit.length > 0) {\n      const nb: number = parseInt(this.state.nbVariation, 10);\n      this.addMultipleVariation(nb, this.props.lowerLimit);\n    }\n  };\n\n  componentDidUpdate = (prevProps: Props) => {\n    if (prevProps.traceBorder !== this.props.traceBorder || prevProps.traceBack !== this.props.traceBack) {\n      this.fillVarInput();\n    }\n  };\n\n  /**\n   * render\n   */\n  render() {\n    const l10n = require('Localization/en.json');\n\n    return (\n      <div>\n        <InputTextField\n          label={l10n.colorVariable.variationNumber}\n          name=\"nbVariation\"\n          placeholder={l10n.colorVariable.number}\n          required={true}\n          value={this.state.nbVariation}\n          _handleChange={this.onChangeVariation}\n        />\n        <Button onClick={this.onClickVariation}>{l10n.colorVariable.addColor}</Button>\n        <br />\n        <br />\n        {this.state.dynamicInput}\n      </div>\n    );\n  }\n}\nexport default VariableColor;\n","import React from 'react';\n\nimport { Switch, Collapse, FormLabel } from '@grafana/ui';\n\nimport { CoordinateSpaceClass } from 'Models/CoordinateSpaceClass';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\n\nimport FixColor from 'components/Parametrage/fixColor';\nimport VariableColor from 'components/Parametrage/VariableColor';\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions } from 'types';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** last data */\n  coordinate: CoordinateSpaceClass;\n  /** function parent to save data */\n  callBack: (coordinate: CoordinateSpaceClass, id?: number) => void;\n  /** function parent to save lower limit */\n  lowerLimitCallBack: (lowerLimit: LowerLimitClass[], id?: number) => void;\n\n  isLink: boolean;\n}\n\ninterface State {\n  /** copy coordinate */\n  coordinate: CoordinateSpaceClass;\n  /** collapse */\n  openLowerLimit: boolean;\n  lowerLimitFix: LowerLimitClass;\n  lowerLimitVariable: LowerLimitClass[];\n}\n\n/**\n * def class\n */\nclass ManageLowerLimit extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      coordinate: this.props.coordinate,\n      openLowerLimit: false,\n      lowerLimitFix: new LowerLimitClass(0, '', '', '', '', ''),\n      lowerLimitVariable: [],\n    };\n  }\n\n  /** update state with promise */\n  setStateAsyncCoordinate = (state: {\n    /** new value */\n    coordinate: CoordinateSpaceClass;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** update state with promise */\n  setStateAsyncOpenLowerLimit = (state: {\n    /** new value */\n    openLowerLimit: boolean;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * save data in type\n   */\n  onSave = () => {\n    this.props.callBack(this.props.coordinate);\n    this.props.lowerLimitCallBack(this.state.coordinate.lowerLimit);\n  };\n\n  /**\n   * Edit fondIsChecked with switch\n   */\n  onSwitchFond = async () => {\n    const newValue: CoordinateSpaceClass = this.state.coordinate;\n\n    newValue.traceBack = !newValue.traceBack;\n    await this.setStateAsyncCoordinate({ coordinate: newValue });\n    this.onSave();\n  };\n\n  /**\n   * Edit contourIsChecked with switch\n   */\n  onSwitchContour = async () => {\n    const newValue: CoordinateSpaceClass = this.state.coordinate;\n\n    newValue.traceBorder = !newValue.traceBorder;\n    await this.setStateAsyncCoordinate({ coordinate: newValue });\n    this.onSave();\n  };\n\n  /**\n   * switch colorMode -> fixe / variable\n   */\n  onSwitchColorMode = async () => {\n    const newValue: CoordinateSpaceClass = this.state.coordinate;\n\n    newValue.colorMode = !newValue.colorMode;\n    if (!this.state.coordinate.colorMode) {\n      if (this.state.coordinate.lowerLimit && this.state.coordinate.lowerLimit.length > 0) {\n        this.setState({\n          lowerLimitVariable: this.state.coordinate.lowerLimit,\n        });\n      }\n      // let defaultSizeBorder = '';\n      // if (this.props.isLink) {\n      //   defaultSizeBorder = '10';\n      // }\n      //newValue.lowerLimit = new LowerLimitClass(0, '', '', '', '', defaultSizeBorder);\n      let lowerLimitFix = this.state.lowerLimitFix;\n      //lowerLimitFix.sizeBorder = defaultSizeBorder;\n      newValue.lowerLimit[0] = lowerLimitFix;\n      await this.setStateAsyncCoordinate({ coordinate: newValue });\n    } else {\n      if (this.state.coordinate && this.state.coordinate.lowerLimit && this.state.coordinate.lowerLimit.length > 0) {\n        this.setState({\n          lowerLimitFix: this.state.coordinate.lowerLimit[0],\n        });\n      }\n      newValue.lowerLimit = this.state.lowerLimitVariable;\n      await this.setStateAsyncCoordinate({ coordinate: newValue });\n    }\n    this.onSave();\n  };\n\n  // updateLowerLimitDefault = (value: LowerLimitClass) => {\n  //   this.setState({\n  //     lowerLimitFix: value,\n  //   })\n  // }\n\n  /** open or close toggle lower limit */\n  onToggleLowerLimit = (isOpen: boolean) => {\n    this.setState({\n      openLowerLimit: isOpen,\n    });\n  };\n\n  /** update component when coordinate props change */\n  componentDidUpdate = async (prevProps: Props) => {\n    if (prevProps.coordinate !== this.state.coordinate) {\n      await this.setStateAsyncCoordinate({\n        coordinate: prevProps.coordinate,\n      });\n      await this.setStateAsyncOpenLowerLimit({\n        openLowerLimit: false,\n      });\n    }\n  };\n\n  /**\n   * result\n   */\n  render() {\n    const l10n = require('Localization/en.json');\n    return (\n      <div>\n        <Collapse label={'Lower limit'} isOpen={this.state.openLowerLimit} onToggle={this.onToggleLowerLimit}>\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>{l10n.genericParameter.variableColor}</FormLabel>\n            <Switch label={''} checked={this.state.coordinate.colorMode} onChange={this.onSwitchColorMode} />\n          </div>\n          <br />\n          {/* {!this.props.isLink ? (\n            <div>\n              <div style={{ display: 'flex' }}>\n                <FormLabel width={15}>{l10n.genericParameter.traceBackground}</FormLabel>\n                <Switch label={''} checked={this.state.coordinate.traceBack} onChange={this.onSwitchFond} />\n              </div>\n              <div style={{ display: 'flex' }}>\n                <FormLabel width={15}>{l10n.genericParameter.traceContour}</FormLabel>\n                <Switch label={''} checked={this.state.coordinate.traceBorder} onChange={this.onSwitchContour} />\n              </div>\n            </div>\n          ) : (\n            <div style={{ display: 'flex' }}>\n              <FormLabel width={15}>{'Color/Size'}</FormLabel>\n              <Switch label={''} checked={this.state.coordinate.traceBack} onChange={this.onSwitchFond} />\n            </div>\n          )} \n          */}\n          <div>\n            <div style={{ display: 'flex' }}>\n              <FormLabel width={15}>{l10n.genericParameter.traceBackground}</FormLabel>\n              <Switch label={''} checked={this.state.coordinate.traceBack} onChange={this.onSwitchFond} />\n            </div>\n            <div style={{ display: 'flex' }}>\n              <FormLabel width={15}>{l10n.genericParameter.traceContour}</FormLabel>\n              <Switch label={''} checked={this.state.coordinate.traceBorder} onChange={this.onSwitchContour} />\n            </div>\n          </div>\n\n          {this.state.coordinate.colorMode ? (\n            <VariableColor\n              traceBorder={this.state.coordinate.traceBorder}\n              traceBack={this.state.coordinate.traceBack}\n              lowerLimit={this.state.coordinate.lowerLimit}\n              lowerLimitCallBack={this.props.lowerLimitCallBack}\n              isLink={this.props.isLink}\n            />\n          ) : (\n            <FixColor\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              traceBorder={this.state.coordinate.traceBorder}\n              traceBack={this.state.coordinate.traceBack}\n              lowerLimit={this.state.coordinate.lowerLimit}\n              //lowerLimitDefault={this.updateLowerLimitDefault}\n              lowerLimitCallBack={this.props.lowerLimitCallBack}\n              isLink={this.props.isLink}\n            />\n          )}\n        </Collapse>\n      </div>\n    );\n  }\n}\nexport default ManageLowerLimit;\n","import React from 'react';\nimport { SimpleOptions, TManageValue, Metric } from 'types';\n\nimport { PanelEditorProps, SelectableValue, DataFrame } from '@grafana/data';\nimport { Select, FormField, Collapse, FormLabel } from '@grafana/ui';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\n//import { OrientedLinkClass } from 'Models/OrientedLinkClass';\n\ninterface Prop extends PanelEditorProps<SimpleOptions> {\n  /** id coordinate. Use to check if componentDidUpdate launch update */\n  idCoordinate: number;\n  /** parent data */\n  mainMetric: Metric;\n  /** call function when save data */\n  mainMetricB?: Metric;\n  /** call function when save data mainMetric*/\n  callBackToParent: (mainMetric: Metric, id?: number) => void;\n  /** call function when save data mainMetricB*/\n  callBackToParentMainMetricB?: (mainMetricB: Metric, id?: number) => void;\n  /** id coordinateSpace for link and point*/\n  id?: number;\n  /** check if is OrientedLink */\n  isLink: boolean;\n}\n\ninterface State {\n  /** data for manipulate mainMetric */\n  mainMetric: Metric;\n  /** data for manipulate mainMetric of OrientedLink if is bidirectionnal*/\n  mainMetricB: Metric;\n  /** collapse main metric open or close */\n  collapseMainMetric: boolean;\n  /** collapse linkA open or close */\n  collapseLinkA: boolean;\n  /** collapse linkB open or close */\n  collapseLinkB: boolean;\n  /** value for manage value (for query => ) */\n  selectManageValue: Array<SelectableValue<TManageValue>>;\n  /** default value for manage value */\n  //selectDefaultManageValue: SelectableValue<TManageValue>;\n  /** select aux query */\n  selectQuery: Array<SelectableValue<DataFrame>>;\n  /** select main query */\n  selectQueryDefault: SelectableValue<DataFrame>;\n}\n\n/**\n * def\n */\nclass ManageQuery extends React.Component<Prop, State> {\n  constructor(props: Prop) {\n    super(props);\n    this.state = {\n      mainMetric: this.props.mainMetric,\n      mainMetricB: this.props.mainMetricB || { key: '', unit: '', format: '', keyValue: '', refId: '', manageValue: 'avg' },\n      collapseMainMetric: false,\n      collapseLinkA: false,\n      collapseLinkB: false,\n      selectManageValue: [],\n      // selectDefaultManageValue: { value: 'avg', label: 'avg' },\n      selectQuery: [],\n      selectQueryDefault: [],\n    };\n  }\n\n  /** call back to parent */\n  callBack = () => {\n    this.props.callBackToParent(this.state.mainMetric, this.props.id);\n  };\n\n  /** call back to parent for mainMetricB */\n  callBackB = () => {\n    if (this.props.callBackToParentMainMetricB) {\n      this.props.callBackToParentMainMetricB(this.state.mainMetricB, this.props.id);\n    }\n  };\n\n  /** get mainMetricB of OrientedLink bidirectionnal */\n  getMainMetricB = (): any => {\n    let mainMetricB: any = {};\n    const arrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    for (const orientedLink of arrayOrientedLink) {\n      if (orientedLink.id === this.props.idCoordinate) {\n        mainMetricB = orientedLink.mainMetricB;\n      }\n    }\n    return mainMetricB;\n  };\n\n  /** edit value for default select manage value */\n  onChangeSelectManageValue = (value: SelectableValue<TManageValue>) => {\n    const newMainMetric: Metric = this.state.mainMetric;\n    newMainMetric.manageValue = value.value || 'err';\n    this.setState({\n      mainMetric: newMainMetric,\n      //selectDefaultManageValue: value,\n    });\n    this.callBack();\n  };\n\n  /** edit value for default select manage value */\n  onChangeSelectManageValueB = (value: SelectableValue<TManageValue>) => {\n    const newMainMetric: Metric = this.state.mainMetricB;\n    //const arrayOrientedLinks: OrientedLink = this.props.options.arrayOrientedLinks\n    newMainMetric.manageValue = value.value || 'err';\n    this.setState({\n      mainMetricB: newMainMetric,\n    });\n    this.callBackB();\n  };\n\n  /** edit value key for mainMetric */\n  _handleChangeKey = (value: string) => {\n    const newMainMetric: Metric = this.state.mainMetric;\n    newMainMetric.key = value;\n    this.setState({\n      mainMetric: newMainMetric,\n    });\n    this.callBack();\n  };\n\n  /** edit value key for mainMetric */\n  _handleChangeKeyB = (value: string) => {\n    const newMainMetric: Metric = this.state.mainMetricB;\n    newMainMetric.key = value;\n    this.setState({\n      mainMetricB: newMainMetric,\n    });\n    this.callBackB();\n  };\n\n  /** edit value keyValue for mainMetric */\n  _handleChangeKeyValue = (value: string) => {\n    const newMainMetric: Metric = this.state.mainMetric;\n    newMainMetric.keyValue = value;\n    this.setState({\n      mainMetric: newMainMetric,\n    });\n    this.callBack();\n  };\n\n  /** edit value keyValue for mainMetric */\n  _handleChangeKeyValueB = (value: string) => {\n    const newMainMetric: Metric = this.state.mainMetricB;\n    newMainMetric.keyValue = value;\n    this.setState({\n      mainMetricB: newMainMetric,\n    });\n    this.callBackB();\n  };\n\n  /** edit value for select */\n  onChangeSelectQuery = (value: SelectableValue<DataFrame>) => {\n    const newMainMetric: Metric = this.state.mainMetric;\n    newMainMetric.refId = value.value?.refId || '';\n    newMainMetric.expr = '';\n    this.setState({\n      mainMetric: newMainMetric,\n      selectQueryDefault: value,\n    });\n    this.callBack();\n  };\n\n  /** edit value for select */\n  onChangeSelectQueryB = (value: SelectableValue<DataFrame>) => {\n    const newMainMetric: Metric = this.state.mainMetricB;\n    newMainMetric.refId = value.value?.refId || '';\n    newMainMetric.expr = '';\n    this.setState({\n      mainMetricB: newMainMetric,\n    });\n    this.callBackB();\n  };\n\n  /** switch value collapseMainMetric when click collapse */\n  onToggleMainMetric = (isOpen: boolean) => {\n    this.setState({\n      collapseMainMetric: isOpen,\n    });\n  };\n\n  /** switch value collapseLinkA when click collapse */\n  onToggleLinkA = (isOpen: boolean) => {\n    this.setState({\n      collapseLinkA: isOpen,\n    });\n  };\n\n  /** switch value collapseLinkB when click collapse */\n  onToggleLinkB = (isOpen: boolean) => {\n    this.setState({\n      collapseLinkB: isOpen,\n    });\n  };\n\n  private getDefaultQueryB = (): SelectableValue<DataFrame> => {\n    let defaultValue: SelectableValue<DataFrame> = { label: 'No value', value: undefined };\n    const mainMetricB: Metric = this.state.mainMetricB;\n    for (const value of this.state.selectQuery) {\n      if (mainMetricB.refId) {\n        if (mainMetricB.refId === value.label) {\n          defaultValue = value;\n        }\n      }\n    }\n    return defaultValue;\n  };\n\n  private getDefaultManageValue = (): SelectableValue<TManageValue> => {\n    let defaultValue: SelectableValue<TManageValue> = { label: 'avg', value: 'avg' };\n    const mainMetric: Metric = this.state.mainMetric;\n    for (const value of this.state.selectManageValue) {\n      if (mainMetric.manageValue) {\n        if (mainMetric.manageValue === value.value) {\n          defaultValue = value;\n        }\n      }\n    }\n    return defaultValue;\n  };\n\n  private getDefaultManageValueB = (): SelectableValue<TManageValue> => {\n    let defaultValue: SelectableValue<TManageValue> = { label: 'avg', value: 'avg' };\n    const mainMetricB: Metric = this.state.mainMetricB;\n    for (const value of this.state.selectManageValue) {\n      if (mainMetricB.manageValue) {\n        if (mainMetricB.manageValue === value.value) {\n          defaultValue = value;\n        }\n      }\n    }\n    return defaultValue;\n  };\n\n  /** add all query in select */\n  fillSelectQuery = () => {\n    const valueSelect: Array<SelectableValue<DataFrame>> = [];\n    const newMainMetric: Metric = this.state.mainMetric;\n\n    valueSelect.push({ value: undefined, label: 'No value' });\n    for (const line of this.props.data.series) {\n      let duplicate = false;\n      for (const valueSave of valueSelect) {\n        if (valueSave.value?.refId === line.refId) {\n          duplicate = true;\n          break;\n        }\n      }\n      if (!duplicate) {\n        valueSelect.push({ value: line, label: line.refId });\n      }\n    }\n    if (newMainMetric.refId === '') {\n      newMainMetric.refId = valueSelect.length > 0 ? valueSelect[0].value?.refId || '' : '';\n    }\n\n    const refId: string | undefined = this.state.mainMetric.refId;\n    let defaultValue: SelectableValue<DataFrame>;\n\n    defaultValue = { value: undefined, label: 'No value' };\n    if (refId) {\n      for (const line of valueSelect) {\n        if (line.value?.refId === refId) {\n          defaultValue = line;\n          break;\n        }\n      }\n    }\n    this.setState({\n      mainMetric: newMainMetric,\n      selectQuery: valueSelect,\n      selectQueryDefault: defaultValue,\n    });\n  };\n\n  /** fill data when component mount */\n  componentDidMount = () => {\n    this.fillSelectQuery();\n    const newSelectManageValue: Array<SelectableValue<TManageValue>> = [\n      { value: 'avg', label: 'average' },\n      { value: 'sum', label: 'total' },\n      { value: 'err', label: 'error' },\n    ];\n    // let defaultValue: SelectableValue<TManageValue> = newSelectManageValue[0];\n    // for (const line of newSelectManageValue) {\n    //   if (line.value === this.state.mainMetric.manageValue) {\n    //     defaultValue = line;\n    //   }\n    // }\n\n    this.setState({\n      selectManageValue: newSelectManageValue,\n      //selectDefaultManageValue: defaultValue,\n    });\n  };\n\n  /** update with promise mainMetric state */\n  setStateAsyncMainMetric = (state: {\n    /** new value main metric */\n    mainMetric: Metric;\n  }) => {\n    return new Promise((resolve) => this.setState(state, resolve));\n  };\n\n  /** update with promise mainMetric state */\n  setStateAsyncMainMetricB = (state: {\n    /** new value main metric */\n    mainMetricB: Metric;\n  }) => {\n    return new Promise((resolve) => this.setState(state, resolve));\n  };\n\n  /** update data when props is update */\n  componentDidUpdate = async (prevProps: Prop) => {\n    if (prevProps.idCoordinate !== this.props.idCoordinate) {\n      this.setState({\n        collapseMainMetric: false,\n      });\n      await this.setStateAsyncMainMetric({ mainMetric: this.props.mainMetric });\n      if (this.props.mainMetricB) {\n        await this.setStateAsyncMainMetricB({ mainMetricB: this.props.mainMetricB });\n      }\n      this.fillSelectQuery();\n    }\n    if (prevProps.data.series !== this.props.data.series) {\n      this.fillSelectQuery();\n    }\n  };\n\n  private displayHtml = (): JSX.Element => {\n    let result: JSX.Element;\n    let currentOrientedLink: any;\n    const arrayOrientedLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    for (const orientedLink of arrayOrientedLinks) {\n      if (orientedLink.id === this.props.idCoordinate) {\n        currentOrientedLink = orientedLink;\n      }\n    }\n    if (this.props.isLink && currentOrientedLink && currentOrientedLink.orientationLink.value === 'double') {\n      result = (\n        <Collapse isOpen={this.state.collapseMainMetric} label=\"Main metric\" onToggle={this.onToggleMainMetric}>\n          <Collapse isOpen={this.state.collapseLinkA} label=\"Link A\" onToggle={this.onToggleLinkA}>\n            <div style={{ display: 'flex' }}>\n              <FormLabel width={15}>Query</FormLabel>\n              <Select\n                onChange={(value) => this.onChangeSelectQuery(value)}\n                allowCustomValue={false}\n                options={this.state.selectQuery}\n                width={30}\n                value={this.state.selectQueryDefault}\n              />\n            </div>\n            {/* <br /> */}\n            <FormField\n              label=\"Key\"\n              labelWidth={15}\n              inputWidth={30}\n              type=\"text\"\n              value={this.state.mainMetric.key}\n              name=\"key\"\n              onChange={(event) => this._handleChangeKey(event.currentTarget.value)}\n            />\n            <FormField\n              label=\"Value key\"\n              labelWidth={15}\n              inputWidth={30}\n              type=\"text\"\n              value={this.state.mainMetric.keyValue}\n              name=\"valueKey\"\n              onChange={(event) => this._handleChangeKeyValue(event.currentTarget.value)}\n            />\n            {/* <br /> */}\n            <div style={{ display: 'flex' }}>\n              <FormLabel width={15}>Manipulate</FormLabel>\n              <Select\n                onChange={(value) => this.onChangeSelectManageValue(value)}\n                allowCustomValue={false}\n                options={this.state.selectManageValue}\n                width={30}\n                value={this.getDefaultManageValue()}\n              />\n            </div>\n          </Collapse>\n          <Collapse isOpen={this.state.collapseLinkB} label=\"Link B\" onToggle={this.onToggleLinkB}>\n            <div style={{ display: 'flex', marginTop: '10px' }}>\n              <FormLabel width={15}>Query</FormLabel>\n              <Select\n                onChange={(value) => this.onChangeSelectQueryB(value)}\n                allowCustomValue={false}\n                options={this.state.selectQuery}\n                width={30}\n                value={this.getDefaultQueryB()}\n              />\n            </div>\n            {/* <br /> */}\n            <FormField\n              label=\"Key\"\n              labelWidth={15}\n              inputWidth={30}\n              type=\"text\"\n              value={this.state.mainMetricB.key}\n              name=\"key\"\n              onChange={(event) => this._handleChangeKeyB(event.currentTarget.value)}\n            />\n            <FormField\n              label=\"Value key\"\n              labelWidth={15}\n              inputWidth={30}\n              type=\"text\"\n              value={this.state.mainMetricB.keyValue}\n              name=\"valueKey\"\n              onChange={(event) => this._handleChangeKeyValueB(event.currentTarget.value)}\n            />\n            {/* <br /> */}\n            <div style={{ display: 'flex' }}>\n              <FormLabel width={15}>Manipulate</FormLabel>\n              <Select\n                onChange={(value) => this.onChangeSelectManageValueB(value)}\n                allowCustomValue={false}\n                options={this.state.selectManageValue}\n                width={30}\n                value={this.getDefaultManageValueB()}\n              />\n            </div>\n          </Collapse>\n        </Collapse>\n      );\n    } else {\n      result = (\n        <Collapse isOpen={this.state.collapseMainMetric} label=\"Main metric\" onToggle={this.onToggleMainMetric}>\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>Query</FormLabel>\n            <Select\n              onChange={(value) => this.onChangeSelectQuery(value)}\n              allowCustomValue={false}\n              options={this.state.selectQuery}\n              width={30}\n              value={this.state.selectQueryDefault}\n            />\n          </div>\n          {/* <br /> */}\n          <FormField\n            label=\"Key\"\n            labelWidth={15}\n            inputWidth={30}\n            type=\"text\"\n            value={this.state.mainMetric.key}\n            name=\"key\"\n            onChange={(event) => this._handleChangeKey(event.currentTarget.value)}\n          />\n          <FormField\n            label=\"Value key\"\n            labelWidth={15}\n            inputWidth={30}\n            type=\"text\"\n            value={this.state.mainMetric.keyValue}\n            name=\"valueKey\"\n            onChange={(event) => this._handleChangeKeyValue(event.currentTarget.value)}\n          />\n          {/* <br /> */}\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>Manipulate</FormLabel>\n            <Select\n              onChange={(value) => this.onChangeSelectManageValue(value)}\n              allowCustomValue={false}\n              options={this.state.selectManageValue}\n              width={30}\n              value={this.getDefaultManageValue()}\n            />\n          </div>\n        </Collapse>\n      );\n    }\n    return result;\n  };\n\n  /**\n   * result\n   */\n  render() {\n    return <div>{this.displayHtml()}</div>;\n  }\n}\nexport default ManageQuery;\n","import React from 'react';\n\nimport { CoordinateSpaceClass } from 'Models/CoordinateSpaceClass';\nimport { TextObject } from 'Models/TextObjectClass';\n\nimport InputTextField from 'Functions/Input/inputText';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n\ninterface Props {\n  /** id for coordinate space */\n  coordinateSpace: CoordinateSpaceClass;\n  /** save data to parent */\n  callBackToParent: (linkUrl?: LinkURLClass, textObj?: TextObject) => void;\n}\n\ninterface State {\n  /** link */\n  followLink: string;\n  /**\n   * link for tooltip\n   */\n  hoveringTooltipLink: string;\n  /**\n   * text for tooltip\n   */\n  hoveringTooltipText: string;\n}\n\n/**\n * def\n */\nclass ManageLink extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      followLink: this.props.coordinateSpace.linkURL.followLink,\n      hoveringTooltipLink: this.props.coordinateSpace.linkURL.hoveringTooltipLink,\n      hoveringTooltipText: this.props.coordinateSpace.linkURL.hoveringTooltipText,\n    };\n  }\n\n  /**\n   * edit followLink with Promise\n   */\n  setStateAsyncFollowLink = (state: {\n    /**\n     * edit followLink\n     */\n    followLink: string;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * edit link for tooltip with Promise\n   */\n  setStateAsyncHoveringTooltipLink = (state: {\n    /**\n     * edit hoveringTooltipLink\n     */\n    hoveringTooltipLink: string;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * edit text for tooltip with Promise\n   */\n  setStateAsyncHoveringTooltipText = (state: {\n    /**\n     * edit hoveringTooltipText\n     */\n    hoveringTooltipText: string;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /**\n   * save data\n   */\n  callBack = () => {\n    this.props.callBackToParent(new LinkURLClass(this.state.followLink, this.state.hoveringTooltipLink, this.state.hoveringTooltipText), undefined);\n  };\n\n  /**\n   * call function when follow link change\n   */\n  onChangeFollowLink = async (value: string) => {\n    await this.setStateAsyncFollowLink({\n      followLink: value,\n    });\n    this.callBack();\n  };\n\n  /**\n   * call function when follow link change\n   */\n  onChangeHoveringTooltipLink = async (value: string) => {\n    await this.setStateAsyncHoveringTooltipLink({\n      hoveringTooltipLink: value,\n    });\n    this.callBack();\n  };\n\n  /**\n   * call function when follow link change\n   */\n  onChangeHoveringTooltipText = async (value: string) => {\n    await this.setStateAsyncHoveringTooltipText({\n      hoveringTooltipText: value,\n    });\n    this.callBack();\n  };\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.coordinateSpace.id !== this.props.coordinateSpace.id) {\n      this.setState({\n        followLink: prevProps.coordinateSpace.linkURL.followLink,\n        hoveringTooltipLink: prevProps.coordinateSpace.linkURL.hoveringTooltipLink,\n        hoveringTooltipText: prevProps.coordinateSpace.linkURL.hoveringTooltipText,\n      });\n    }\n  }\n\n  /**\n   * result\n   */\n  render() {\n    const l10n = require('Localization/en.json');\n    return (\n      <div>\n        <InputTextField\n          id=\"followLink\"\n          label={l10n.metricPrincipalSetting.followLink}\n          name=\"followLink\"\n          placeholder={l10n.metricPrincipalSetting.link}\n          required={false}\n          value={this.state.followLink}\n          _handleChange={(event: { currentTarget: HTMLInputElement }) => this.onChangeFollowLink(event.currentTarget.value)}\n        />\n\n        <InputTextField\n          label={l10n.metricPrincipalSetting.linkTooltip}\n          name=\"linkTooltip\"\n          placeholder={l10n.metricPrincipalSetting.link}\n          required={false}\n          value={this.state.hoveringTooltipLink}\n          _handleChange={(event: { currentTarget: HTMLInputElement }) => this.onChangeHoveringTooltipLink(event.currentTarget.value)}\n        />\n\n        <InputTextField\n          label={l10n.metricPrincipalSetting.textInTooltip}\n          name=\"textTooltip\"\n          placeholder={l10n.metricPrincipalSetting.text}\n          required={false}\n          value={this.state.hoveringTooltipText}\n          _handleChange={(event: { currentTarget: HTMLInputElement }) => this.onChangeHoveringTooltipText(event.currentTarget.value)}\n        />\n        <br />\n        <br />\n      </div>\n    );\n  }\n}\nexport default ManageLink;\n","import React from 'react';\n\nimport { Switch, FormLabel } from '@grafana/ui';\n\nexport interface Style {\n  bold: boolean;\n  italic: boolean;\n  underline: boolean;\n}\n\ninterface Props {\n  oldStyle: Style;\n  saveParent: (style: Style) => void;\n}\n\ninterface State {\n  style: Style;\n}\n\n/**\n * def\n */\nclass StyleComponent extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      style: this.props.oldStyle, //{ bold: false, italic: false, underline: false },\n    };\n  }\n\n  /** save data in Parent */\n  callBack = () => {\n    this.props.saveParent(this.state.style);\n  };\n\n  /** change bold */\n  onChangeBold = () => {\n    const style = this.state.style;\n    style.bold = !style.bold;\n    this.setState({\n      style: style,\n    });\n    this.callBack();\n  };\n\n  /** change italic */\n  onChangeItalic = () => {\n    const style = this.state.style;\n    style.italic = !style.italic;\n    this.setState({\n      style: style,\n    });\n    this.callBack();\n  };\n\n  /** change underline */\n  onChangeUnderline = () => {\n    const style = this.state.style;\n    style.underline = !style.underline;\n    this.setState({\n      style: style,\n    });\n    this.callBack();\n  };\n\n  /**\n   * result\n   */\n  render() {\n    return (\n      <section>\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Bold</FormLabel>\n          <Switch label=\"\" checked={this.state.style.bold} onChange={this.onChangeBold} />\n        </div>\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Italic</FormLabel>\n          <Switch label=\"\" checked={this.state.style.italic} onChange={this.onChangeItalic} />\n        </div>\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Underline</FormLabel>\n          <Switch label=\"\" checked={this.state.style.underline} onChange={this.onChangeUnderline} />\n        </div>\n        {/* <Button onChange={this.onChangeBold}>Bold</Button>\n        <Button onChange={this.onChangeItalic}>Italic</Button>\n        <Button onChange={this.onChangeUnderline}>Underline</Button> */}\n      </section>\n    );\n  }\n}\nexport default StyleComponent;\n","import React from 'react';\nimport { Switch, FormLabel } from '@grafana/ui';\n\nimport { Style } from 'components/Parametrage/styleComponent';\nimport StyleComponent from 'components/Parametrage/styleComponent';\n\nimport { CoordinateSpaceClass } from 'Models/CoordinateSpaceClass';\nimport { TextObject } from 'Models/TextObjectClass';\n\nimport InputTextField from 'Functions/Input/inputText';\nimport InputSeriesColorPicker from 'Functions/Input/inputSeriesColorPicker';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n\ninterface Props {\n  /** id coordinate */\n  coordinateSpace: CoordinateSpaceClass;\n  /** call function to save data in parent */\n  callBackToParent: (linkUrl?: LinkURLClass, textObj?: TextObject) => void;\n}\n\ninterface State {\n  /** get text object */\n  textObject: TextObject;\n}\n\n/**\n * def\n */\nclass TextObjects extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      textObject: this.props.coordinateSpace.textObj,\n    };\n  }\n\n  /** save data in async mode */\n  stateAsyncTextObject = (state: {\n    /** new text object */\n    textObject: TextObject;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n      //this.callBack();\n    });\n  };\n\n  /** call back to parent */\n  callBack = () => {\n    this.props.callBackToParent(undefined, this.state.textObject);\n  };\n\n  // /** change value for legend input */\n  // onSwitchLegend = async () => {\n  // \tconst newTextObject: TextObject = this.state.textObject;\n\n  // \tnewTextObject.legend = !newTextObject.legend;\n  // \tawait this.stateAsyncTextObject({ textObject: newTextObject });\n  // \tthis.callBack();\n  // }\n\n  /** change value for value input */\n  onChangeValeur = async (value: string) => {\n    const newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.value = value;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for back color input */\n  onChangeBackColor = async (key: number, color: string) => {\n    const newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.colorBack = color;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for color region */\n  onChangeColorText = async (key: number, color: string) => {\n    const newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.colorText = color;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for style text region */\n  // onChangeStyleText = async (event: {\n  //   /** target for style text region input */\n  //   currentTarget: HTMLInputElement;\n  // }) => {\n  //   const newTextObject: TextObject = this.state.textObject;\n\n  //   newTextObject.styleText = event.currentTarget.value;\n  //   await this.stateAsyncTextObject({ textObject: newTextObject });\n  //   this.callBack();\n  // };\n\n  /** switch value for generate text object */\n  onSwitchGenerateObjectText = async () => {\n    const newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateObjectText = !this.state.textObject.generateObjectText;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for legend element */\n  onChangeLegendElement = async (event: {\n    /** target for legend text element input */\n    currentTarget: HTMLInputElement;\n  }) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.legendElement = event.currentTarget.value;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for unity mesure element */\n  onChangeunit = async (event: {\n    /** target for unity mesure element input */\n    currentTarget: HTMLInputElement;\n  }) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.unit = event.currentTarget.value;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change format for numeric text object */\n  onChangeFormatageNumeriqueTextObject = async (event: {\n    /** target for numeric format text object input */\n    currentTarget: HTMLInputElement;\n  }) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.numericFormatElement = event.currentTarget.value;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** switch value for display object text */\n  onSwitchdisplayObjectInTooltip = async () => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.displayObjectInTooltip = !this.state.textObject.generateAuxiliaryElement.displayObjectInTooltip;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  // /** switch value for display object permanently */\n  // onSwitchDisplayObjectPermanently = async () => {\n  // \tconst newTextObject: TextObject = this.state.textObject;\n\n  // \tnewTextObject.generateAuxiliaryElement.displayObjectPermanently =\n  // \t\t!this.state.textObject.generateAuxiliaryElement.displayObjectPermanently;\n  // \tawait this.stateAsyncTextObject({ textObject: newTextObject });\n  // \tthis.callBack();\n  // }\n\n  /** choice to apply color or not for text element */\n  onSwitchAddColorTextElement = async () => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.addColorTextElement = !this.state.textObject.generateAuxiliaryElement.addColorTextElement;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** choice to apply color or not for back element */\n  onSwitchAddColorBackElement = async () => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.addColorBackElement = !this.state.textObject.generateAuxiliaryElement.addColorBackElement;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** switch display text */\n  onSwitchisTextTooltip = async () => {\n    // console.clear();\n\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.isTextTooltip = !this.state.textObject.isTextTooltip;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for color text element */\n  onChangeColorTextElement = async (key: number, color: string) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.colorTextElement = color;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for back element */\n  onChangeColorBackElement = async (key: number, color: string) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.generateAuxiliaryElement.colorBackElement = color;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for legend element */\n  onChangeValueGenerateObjectTextLegendElement = async (event: {\n    /** target for legend text element input */\n    currentTarget: HTMLInputElement;\n  }) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.legendElement = event.currentTarget.value;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for unity mesure element */\n  onChangeValueGenerateObjectTextunit = async (event: {\n    /** target for unity mesure element input */\n    currentTarget: HTMLInputElement;\n  }) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.unit = event.currentTarget.value;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change format for numeric text object */\n  onChangeValueGenerateObjectTextFormatageNumeriqueTextObject = async (event: {\n    /** target for numeric format text object input */\n    currentTarget: HTMLInputElement;\n  }) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.numericFormatElement = event.currentTarget.value;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** switch value for display object text */\n  onSwitchValueGenerateObjectTextdisplayObjectInTooltip = async () => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.displayObjectInTooltip = !this.state.textObject.valueGenerateObjectText.displayObjectInTooltip;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  // /** switch value for display object permanently */\n  // onSwitchValueGenerateObjectTextDisplayObjectPermanently = async () => {\n  // \tconst newTextObject: TextObject = this.state.textObject;\n\n  // \tnewTextObject.valueGenerateObjectText.displayObjectPermanently =\n  // \t\t!this.state.textObject.valueGenerateObjectText.displayObjectPermanently;\n  // \tawait this.stateAsyncTextObject({ textObject: newTextObject });\n  // \tthis.callBack();\n  // }\n\n  /** choice to apply color or not for text element */\n  onSwitchValueGenerateObjectTextAddColorTextElement = async () => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.addColorTextElement = !this.state.textObject.valueGenerateObjectText.addColorTextElement;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** choice to apply color or not for back element */\n  onSwitchValueGenerateObjectTextAddColorBackElement = async () => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.addColorBackElement = !this.state.textObject.valueGenerateObjectText.addColorBackElement;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for color text element */\n  onChangeValueGenerateObjectTextColorTextElement = async (key: number, color: string) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.colorTextElement = color;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  /** change value for back element */\n  onChangeValueGenerateObjectTextColorBackElement = async (key: number, color: string) => {\n    let newTextObject: TextObject = this.state.textObject;\n\n    newTextObject.valueGenerateObjectText.colorBackElement = color;\n    await this.stateAsyncTextObject({ textObject: newTextObject });\n    this.callBack();\n  };\n\n  saveData = (style: Style): void => {\n    let newText = this.state.textObject;\n    newText.style = style;\n    this.setState({\n      textObject: newText,\n    });\n    this.callBack();\n  };\n\n  /**\n   * result\n   */\n  render() {\n    const l10n = require('Localization/en.json');\n\n    return (\n      <div>\n        {/* <div>\n\t\t\t\t\t<h4>{l10n.textObject.titleTextObject}</h4>\n\t\t\t\t\t<Switch\n\t\t\t\t\t\tlabel={l10n.textObject.optionalLegend}\n\t\t\t\t\t\tchecked={this.state.textObject.legend}\n\t\t\t\t\t\tonChange={this.onSwitchLegend} />\n\t\t\t\t\t<br /><br />\n\t\t\t\t</div> */}\n\n        <div>\n          <h4>{l10n.textObject.principalMetric}</h4>\n\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>Display text in region or tooltip</FormLabel>\n            <Switch label=\"\" checked={this.state.textObject.isTextTooltip} onChange={this.onSwitchisTextTooltip} />\n          </div>\n\n          <h5 hidden={this.state.textObject.isTextTooltip}>{l10n.textObject.textRegion}</h5>\n          <h5 hidden={!this.state.textObject.isTextTooltip}>{l10n.textObject.textBubble}</h5>\n\n          <InputSeriesColorPicker\n            color={this.state.textObject.colorBack}\n            keyInt={0}\n            text={l10n.textObject.colorBackground}\n            _onChange={this.onChangeBackColor}\n          />\n\n          <InputSeriesColorPicker\n            color={this.state.textObject.colorText}\n            keyInt={0}\n            text={l10n.textObject.colorText}\n            _onChange={this.onChangeColorText}\n          />\n\n          <StyleComponent oldStyle={this.state.textObject.style} saveParent={this.saveData} />\n\n          {/* <InputTextField\n            label={l10n.textObject.textStyle}\n            name=\"textStyleTextObject\"\n            placeholder={l10n.textObject.style}\n            required={false}\n            value={this.state.textObject.styleText}\n            _handleChange={this.onChangeStyleText}\n          /> */}\n          <br />\n          <br />\n        </div>\n        <div>\n          <h4>Generate text object</h4>\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>{l10n.textObject.generateTextObject}</FormLabel>\n            <Switch label={''} checked={this.state.textObject.generateObjectText} onChange={this.onSwitchGenerateObjectText} />\n          </div>\n\n          {this.state.textObject.generateObjectText && (\n            <div>\n              {/* <h4>Object text</h4> */}\n              <InputTextField\n                label={l10n.textObject.legend}\n                name=\"legendTextObject\"\n                placeholder={l10n.textObject.legend}\n                required={false}\n                value={this.state.textObject.valueGenerateObjectText.legendElement}\n                _handleChange={this.onChangeValueGenerateObjectTextLegendElement}\n              />\n              <InputTextField\n                label={l10n.textObject.digitalFormatting}\n                name=\"formatageNumeriqueTextObject\"\n                placeholder={l10n.textObject.digitalFormatting}\n                required={false}\n                value={this.state.textObject.valueGenerateObjectText.numericFormatElement}\n                _handleChange={this.onChangeValueGenerateObjectTextFormatageNumeriqueTextObject}\n              />\n              <InputTextField\n                label={l10n.textObject.mesureUnit}\n                name=\"mesureUnityTextObject\"\n                placeholder={l10n.textObject.unit}\n                required={false}\n                value={this.state.textObject.valueGenerateObjectText.unit}\n                _handleChange={this.onChangeValueGenerateObjectTextunit}\n              />\n              <div style={{ display: 'flex' }}>\n                <FormLabel width={15}>{l10n.textObject.objectDisplayTextTooltip}</FormLabel>\n                <Switch\n                  label={''}\n                  checked={this.state.textObject.valueGenerateObjectText.displayObjectInTooltip}\n                  onChange={this.onSwitchValueGenerateObjectTextdisplayObjectInTooltip}\n                />\n              </div>\n\n              {/* <Switch\n\t\t\t\t\t\t\t\tlabel={l10n.textObject.objectDisplayInPermanentlyHover}\n\t\t\t\t\t\t\t\tchecked={this.state.textObject.valueGenerateObjectText.displayObjectPermanently}\n\t\t\t\t\t\t\t\tonChange={this.onSwitchValueGenerateObjectTextDisplayObjectPermanently}\n\t\t\t\t\t\t\t/> */}\n              <div style={{ display: 'flex' }}>\n                <FormLabel width={15}>{l10n.textObject.colorText}</FormLabel>\n                <Switch\n                  label={''}\n                  checked={this.state.textObject.valueGenerateObjectText.addColorTextElement}\n                  onChange={this.onSwitchValueGenerateObjectTextAddColorTextElement}\n                />\n              </div>\n\n              {this.state.textObject.valueGenerateObjectText.addColorTextElement && (\n                <InputSeriesColorPicker\n                  color={this.state.textObject.valueGenerateObjectText.colorTextElement}\n                  keyInt={0}\n                  text={l10n.textObject.colorTextOptional}\n                  _onChange={this.onChangeValueGenerateObjectTextColorTextElement}\n                />\n              )}\n              <div style={{ display: 'flex' }}>\n                <FormLabel width={15}>{l10n.textObject.backgroundColor}</FormLabel>\n                <Switch\n                  label={''}\n                  checked={this.state.textObject.valueGenerateObjectText.addColorBackElement}\n                  onChange={this.onSwitchValueGenerateObjectTextAddColorBackElement}\n                />\n              </div>\n\n              {this.state.textObject.valueGenerateObjectText.addColorBackElement && (\n                <InputSeriesColorPicker\n                  color={this.state.textObject.valueGenerateObjectText.colorBackElement}\n                  keyInt={0}\n                  text={l10n.textObject.optionalBackgroundColor}\n                  _onChange={this.onChangeValueGenerateObjectTextColorBackElement}\n                />\n              )}\n            </div>\n          )}\n          <br />\n          <br />\n        </div>\n\n        <div>\n          <h4>{l10n.textObject.auxiliaryElement}</h4>\n          <InputTextField\n            label={l10n.textObject.legend}\n            name=\"legendTextObject\"\n            placeholder={l10n.textObject.legend}\n            required={false}\n            value={this.state.textObject.generateAuxiliaryElement.legendElement}\n            _handleChange={this.onChangeLegendElement}\n          />\n          <InputTextField\n            label={l10n.textObject.digitalFormatting}\n            name=\"formatageNumeriqueTextObject\"\n            placeholder={l10n.textObject.digitalFormatting}\n            required={false}\n            value={this.state.textObject.generateAuxiliaryElement.numericFormatElement}\n            _handleChange={this.onChangeFormatageNumeriqueTextObject}\n          />\n          <InputTextField\n            label={l10n.textObject.mesureUnit}\n            name=\"mesureUnityTextObject\"\n            placeholder={l10n.textObject.unit}\n            required={false}\n            value={this.state.textObject.generateAuxiliaryElement.unit}\n            _handleChange={this.onChangeunit}\n          />\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>{l10n.textObject.objectDisplayTextTooltip}</FormLabel>\n            <Switch\n              label={''}\n              checked={this.state.textObject.generateAuxiliaryElement.displayObjectInTooltip}\n              onChange={this.onSwitchdisplayObjectInTooltip}\n            />\n          </div>\n\n          {/* <Switch\n\t\t\t\t\t\tlabel={l10n.textObject.objectDisplayInPermanentlyHover}\n\t\t\t\t\t\tchecked={this.state.textObject.generateAuxiliaryElement.displayObjectPermanently}\n\t\t\t\t\t\tonChange={this.onSwitchDisplayObjectPermanently}\n\t\t\t\t\t/> */}\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>{l10n.textObject.colorText}</FormLabel>\n            <Switch\n              label={''}\n              checked={this.state.textObject.generateAuxiliaryElement.addColorTextElement}\n              onChange={this.onSwitchAddColorTextElement}\n            />\n          </div>\n\n          {this.state.textObject.generateAuxiliaryElement.addColorTextElement && (\n            <InputSeriesColorPicker\n              color={this.state.textObject.generateAuxiliaryElement.colorTextElement}\n              keyInt={0}\n              text={l10n.textObject.colorTextOptional}\n              _onChange={this.onChangeColorTextElement}\n            />\n          )}\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>{l10n.textObject.backgroundColor}</FormLabel>\n            <Switch\n              label={''}\n              checked={this.state.textObject.generateAuxiliaryElement.addColorBackElement}\n              onChange={this.onSwitchAddColorBackElement}\n            />\n          </div>\n\n          {this.state.textObject.generateAuxiliaryElement.addColorBackElement && (\n            <InputSeriesColorPicker\n              color={this.state.textObject.generateAuxiliaryElement.colorBackElement}\n              keyInt={0}\n              text={l10n.textObject.optionalBackgroundColor}\n              _onChange={this.onChangeColorBackElement}\n            />\n          )}\n          <br />\n          <br />\n        </div>\n      </div>\n    );\n  }\n}\nexport default TextObjects;\n","import React from 'react';\nimport { SimpleOptions } from 'types';\n\nimport { Collapse } from '@grafana/ui';\nimport { PanelEditorProps } from '@grafana/data';\n\n// import { RegionClass } from 'Models/RegionClass';\nimport { TextObject } from 'Models/TextObjectClass';\n\nimport ManageLink from './manageLink';\nimport TextObjects from './textObjects';\nimport { CoordinateSpaceClass } from 'Models/CoordinateSpaceClass';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** id coordinate */\n  coordinateSpace: CoordinateSpaceClass;\n  /** call function to save data in parent */\n  callBackToParent: (linkUrl?: LinkURLClass, textObj?: TextObject) => void;\n}\n\ninterface State {\n  /** open or close collapse main metric */\n  collapseLink: boolean;\n  /** open or close text object */\n  collapseTextObject: boolean;\n}\n\n/**\n * class ParametresGeneriques\n */\nclass ParametresGeneriques extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      collapseLink: false,\n      collapseTextObject: false,\n    };\n  }\n\n  /** switch value collapseLink when click collapse */\n  onToggleLinkCollapse = (isOpen: boolean) => {\n    this.setState({\n      collapseLink: isOpen,\n    });\n  };\n\n  /** switch value collapseTextObject when click collapse */\n  onToggleTextObject = (isOpen: boolean) => {\n    this.setState({\n      collapseTextObject: isOpen,\n    });\n  };\n\n  /** close collapse when coordinateSpace object change */\n  componentDidUpdate = (prevProps: Props) => {\n    if (prevProps.coordinateSpace !== this.props.coordinateSpace) {\n      this.setState({\n        collapseLink: false,\n        collapseTextObject: false,\n      });\n    }\n  };\n\n  /** HTML */\n  render() {\n    // const l10n = require('Localization/en.json');\n\n    return (\n      <div>\n        <Collapse isOpen={this.state.collapseLink} label=\"Manage link\" onToggle={this.onToggleLinkCollapse}>\n          <div>\n            <ManageLink coordinateSpace={this.props.coordinateSpace} callBackToParent={this.props.callBackToParent} />\n          </div>\n        </Collapse>\n\n        <Collapse isOpen={this.state.collapseTextObject} label=\"Text object\" onToggle={this.onToggleTextObject}>\n          <div>\n            <TextObjects coordinateSpace={this.props.coordinateSpace} callBackToParent={this.props.callBackToParent} />\n          </div>\n        </Collapse>\n      </div>\n    );\n  }\n}\nexport default ParametresGeneriques;\n","import React from 'react';\nimport { SimpleOptions, TManageValue, Metric } from '../../types';\n\nimport { PanelEditorProps, SelectableValue, DataFrame } from '@grafana/data';\nimport { Select, FormField, Collapse, FormLabel, Button } from '@grafana/ui';\nimport { PointClass } from 'Models/PointClass';\nimport { RegionClass } from 'Models/RegionClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** id coordinate. Use to check if componentDidUpdate launch update */\n  idCoordinate: number;\n  /** parent data */\n  metrics: Metric[];\n  /** check if coordinateSpace is OrientedLink */\n  isLink?: boolean;\n  /** check if coordinateSpace is Point */\n  isPoint?: boolean;\n  /** check if coordinateSpace is Region */\n  isRegion?: boolean;\n}\n\ninterface State {\n  /** collapse AuxMetric open or close */\n  collapse: boolean;\n  /** collapse linkA if orientedLink is bidirectionnal open or close */\n  collapseLinkA: boolean;\n  /** collapse linkB if orientedLink is bidirectionnal open or close */\n  collapseLinkB: boolean;\n  // /**  */\n  // selectQuery: Array<SelectableValue<DataFrame>>;\n  // /** */\n  // selectQueryDefault: SelectableValue<DataFrame>;\n  // /** */\n  // currentRefQuery: string;\n  // /** */\n  // currentRefQueryB: string;\n}\n/**\n * def\n */\nclass ManageAuxiliaryQuery extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      collapse: false,\n      collapseLinkA: false,\n      collapseLinkB: false,\n      // selectQuery: [],\n      // selectQueryDefault: [],\n      // currentRefQuery: '',\n      // currentRefQueryB: '',\n    };\n  }\n\n  private saveAuxMetrics = (newAuxMetrics: Metric[], isLinkB: boolean) => {\n    const idCurrentCoordinateSpace: number = this.props.idCoordinate;\n    if (this.props.isPoint) {\n      const newArrayPoints: PointClass[] = this.props.options.arrayPoints;\n      for (const point of newArrayPoints) {\n        if (point.id === idCurrentCoordinateSpace) {\n          point.metrics = newAuxMetrics;\n        }\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayPoints: newArrayPoints,\n      });\n    } else if (this.props.isLink) {\n      const newArrayLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n      for (const orientedLink of newArrayLink) {\n        if (orientedLink.id === idCurrentCoordinateSpace) {\n          if (isLinkB) {\n            orientedLink.metricsB = newAuxMetrics;\n          } else {\n            orientedLink.metrics = newAuxMetrics;\n          }\n        }\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayOrientedLinks: newArrayLink,\n      });\n    } else if (this.props.isRegion) {\n      const newArrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n      for (const region of newArrayRegion) {\n        if (region.id === idCurrentCoordinateSpace) {\n          region.metrics = newAuxMetrics;\n        }\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        regionCoordinateSpace: newArrayRegion,\n      });\n    }\n  };\n\n  private getAuxiliaryMetrics = (isLinkB: boolean): Metric[] => {\n    let auxiliaryMetrics: Metric[] = [];\n    const idCurrentCoordinateSpace: number = this.props.idCoordinate;\n    if (this.props.isLink) {\n      const arrayOrientedLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n      for (const orientedLink of arrayOrientedLinks) {\n        if (orientedLink.id === idCurrentCoordinateSpace) {\n          if (isLinkB) {\n            auxiliaryMetrics = orientedLink.metricsB;\n          } else {\n            auxiliaryMetrics = orientedLink.metrics;\n          }\n        }\n      }\n    } else if (this.props.isPoint) {\n      const arrayPoints: PointClass[] = this.props.options.arrayPoints;\n      for (const point of arrayPoints) {\n        if (point.id === idCurrentCoordinateSpace) {\n          auxiliaryMetrics = point.metrics;\n        }\n      }\n    } else if (this.props.isRegion) {\n      const arrayRegions: RegionClass[] = this.props.options.regionCoordinateSpace;\n      for (const region of arrayRegions) {\n        if (region.id === idCurrentCoordinateSpace) {\n          auxiliaryMetrics = region.metrics;\n        }\n      }\n    }\n    return auxiliaryMetrics;\n  };\n\n  // private getReferenceMainMetric = (isLinkB: boolean): string => {\n  //   let newRefId = '';\n  //   const idCurrentCoordinateSpace: number = this.props.idCoordinate;\n  //   if (this.props.isLink) {\n  //     const arrayOrientedLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n  //     for (const orientedLink of arrayOrientedLinks) {\n  //       if (orientedLink.id === idCurrentCoordinateSpace) {\n  //         if (isLinkB) {\n  //           newRefId = orientedLink.mainMetricB.refId || '';\n  //         } else {\n  //           newRefId = orientedLink.mainMetric.refId || '';\n  //         }\n  //       }\n  //     }\n  //   } else if (this.props.isPoint) {\n  //     const newArrayPoints: PointClass[] = this.props.options.arrayPoints;\n  //     for (const point of newArrayPoints) {\n  //       if (point.id === idCurrentCoordinateSpace) {\n  //         newRefId = point.mainMetric.refId || '';\n  //       }\n  //     }\n  //   } else if (this.props.isRegion) {\n  //     const arrayRegions: RegionClass[] = this.props.options.regionCoordinateSpace;\n  //     for (const region of arrayRegions) {\n  //       if (region.id === idCurrentCoordinateSpace) {\n  //         newRefId = region.mainMetric.refId || '';\n  //       }\n  //     }\n  //   }\n  //   const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(isLinkB);\n  //   for (const metric of newAuxiliaryMetrics) {\n  //     if (metric.refId !== newRefId) {\n  //       metric.refId = newRefId;\n  //       this.saveAuxMetrics(newAuxiliaryMetrics, isLinkB);\n  //     }\n  //   }\n  //   return newRefId;\n  // };\n\n  /** switch value collapse when click collapse */\n  private onToggleCollapse = (isOpen: boolean) => {\n    this.setState({\n      collapse: isOpen,\n    });\n  };\n\n  /** switch value collapseLinkA when click collapse */\n  private onToggleCollapseLinkA = (isOpen: boolean) => {\n    this.setState({\n      collapseLinkA: isOpen,\n    });\n  };\n\n  /** switch value collapseLinkB when click collapse */\n  private onToggleCollapseLinkB = (isOpen: boolean) => {\n    this.setState({\n      collapseLinkB: isOpen,\n    });\n  };\n\n  private getAllQuery = (id: string): Array<SelectableValue<DataFrame>> => {\n    let allQuery: Array<SelectableValue<DataFrame>> = [];\n    allQuery.push({ id: id, value: undefined, label: 'No value' });\n    for (const line of this.props.data.series) {\n      let duplicate = false;\n      for (const valueSave of allQuery) {\n        if (valueSave.value?.refId === line.refId) {\n          duplicate = true;\n          break;\n        }\n      }\n      if (!duplicate) {\n        allQuery.push({ id: id, value: line, label: line.refId });\n      }\n    }\n    return allQuery;\n  };\n\n  private getCurrentQuery = (id: string, isLinkB: boolean): SelectableValue<DataFrame> => {\n    let currentQuery: SelectableValue<DataFrame> = [];\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(false);\n    currentQuery = { id: id, label: newAuxiliaryMetrics[parseInt(id, 10)].refId };\n    return currentQuery;\n  };\n\n  private getCurrentQueryB = (id: string, isLinkB: boolean): SelectableValue<DataFrame> => {\n    let currentQuery: SelectableValue<DataFrame> = [];\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(true);\n    currentQuery = { id: id, label: newAuxiliaryMetrics[parseInt(id, 10)].refId };\n    return currentQuery;\n  };\n\n  /** edit value for select */\n  private onChangeSelectQuery = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(false);\n    const id: number = event.id;\n    newAuxiliaryMetrics[id].refId = event.label;\n    this.saveAuxMetrics(newAuxiliaryMetrics, false);\n  };\n\n  /** edit value for select */\n  private onChangeSelectQueryB = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(true);\n    const id: number = event.id;\n    newAuxiliaryMetrics[id].refId = event.label;\n    this.saveAuxMetrics(newAuxiliaryMetrics, true);\n  };\n\n  private onChangeKey = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(false);\n    const idCurrentAuxMetrics: number = event.currentTarget.id;\n    const value: string = event.currentTarget.value;\n    newAuxiliaryMetrics[idCurrentAuxMetrics].key = value;\n    this.saveAuxMetrics(newAuxiliaryMetrics, false);\n  };\n\n  private onChangeKeyB = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(true);\n    const idCurrentAuxMetrics: number = event.currentTarget.id;\n    const value: string = event.currentTarget.value;\n    newAuxiliaryMetrics[idCurrentAuxMetrics].key = value;\n    this.saveAuxMetrics(newAuxiliaryMetrics, true);\n  };\n\n  private onChangeValueKey = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(false);\n    const id: number = event.currentTarget.id;\n    const value: string = event.currentTarget.value;\n    newAuxiliaryMetrics[id].keyValue = value;\n    this.saveAuxMetrics(newAuxiliaryMetrics, false);\n  };\n\n  private onChangeValueKeyB = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(true);\n    const id: number = event.currentTarget.id;\n    const value: string = event.currentTarget.value;\n    newAuxiliaryMetrics[id].keyValue = value;\n    this.saveAuxMetrics(newAuxiliaryMetrics, true);\n  };\n\n  private onChangeManageValue = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(false);\n    const id: number = event.id;\n    newAuxiliaryMetrics[id].manageValue = event.value;\n    this.saveAuxMetrics(newAuxiliaryMetrics, false);\n  };\n\n  private onChangeManageValueB = (event: any) => {\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(true);\n    const id: number = event.id;\n    newAuxiliaryMetrics[id].manageValue = event.value;\n    this.saveAuxMetrics(newAuxiliaryMetrics, true);\n  };\n\n  private addAuxiliaryMetric = () => {\n    // const refIdMetric: string = this.state.currentRefQuery;\n    let newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(false);\n    newAuxiliaryMetrics.push({\n      key: '',\n      unit: '',\n      format: '',\n      keyValue: '',\n      refId: '',\n      manageValue: 'avg',\n    });\n    this.saveAuxMetrics(newAuxiliaryMetrics, false);\n    this.displayInputs(false);\n  };\n\n  private addAuxiliaryMetricB = () => {\n    // const refIdMetric: string = this.state.currentRefQueryB;\n    let newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(true);\n    newAuxiliaryMetrics.push({\n      key: '',\n      unit: '',\n      format: '',\n      keyValue: '',\n      refId: '',\n      manageValue: 'avg',\n    });\n    this.saveAuxMetrics(newAuxiliaryMetrics, true);\n    this.displayInputs(true);\n  };\n\n  private deleteAuxiliaryMetric = (event: any) => {\n    const id: number = event.currentTarget.id;\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(false);\n    newAuxiliaryMetrics.splice(id, 1);\n    this.saveAuxMetrics(newAuxiliaryMetrics, false);\n    this.displayInputs(false);\n  };\n\n  private deleteAuxiliaryMetricB = (event: any) => {\n    const id: number = event.currentTarget.id;\n    const newAuxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(true);\n    newAuxiliaryMetrics.splice(id, 1);\n    this.saveAuxMetrics(newAuxiliaryMetrics, true);\n    this.displayInputs(true);\n  };\n\n  private getAllManageValue = (id: string): Array<SelectableValue<TManageValue>> => {\n    const selectManageValue: Array<SelectableValue<TManageValue>> = [\n      { id: id, value: 'avg', label: 'average' },\n      { id: id, value: 'sum', label: 'total' },\n      { id: id, value: 'err', label: 'error' },\n    ];\n    return selectManageValue;\n  };\n\n  private getCurrentManageValue = (id: number, isLinkB: boolean): SelectableValue<TManageValue> => {\n    let label = '';\n    const auxMetrics: Metric[] = this.getAuxiliaryMetrics(isLinkB);\n    if (auxMetrics[id].manageValue === 'avg') {\n      label = 'average';\n    } else if (auxMetrics[id].manageValue === 'sum') {\n      label = 'total';\n    } else if (auxMetrics[id].manageValue === 'err') {\n      label = 'error';\n    }\n    const value: SelectableValue<TManageValue> = {\n      id: id,\n      value: auxMetrics[id].manageValue,\n      label: label,\n    };\n    return value;\n  };\n\n  private generateInputs = (index: number, isLinkB: boolean): JSX.Element => {\n    const id: number = index;\n    //const refIdMetric: string = this.state.currentQuery.label || '';\n    const auxMetrics: Metric[] = this.getAuxiliaryMetrics(isLinkB);\n    const idCoordinateSpace: string = this.props.idCoordinate?.toString() || '';\n\n    const styleTitle = {\n      marginTop: '10px',\n      textAlign: 'center',\n    } as React.CSSProperties;\n\n    const styleMainDiv = {\n      marginTop: '5px',\n      border: '1px solid rgb(23, 23, 24)',\n    } as React.CSSProperties;\n\n    const styleContent = {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      marginBottom: '5px',\n    } as React.CSSProperties;\n\n    const styleSelect = {\n      display: 'flex',\n      flexDirection: 'row',\n      marginBottom: '2px',\n    } as React.CSSProperties;\n\n    // const styleReferenceMetric = {\n    //   width: '416px',\n    //   height: '35px',\n    //   border: '1px solid #262628',\n    //   borderRadius: '0 3px 3px 0',\n    //   backgroundColor: '#09090b',\n    //   padding: '8px',\n    //   fontSize: '14px',\n    //   lineHeight: '18px',\n    //   color: '#d8d9da',\n    //   marginBottom: '0px',\n    // } as React.CSSProperties;\n\n    let item: JSX.Element;\n    if (isLinkB) {\n      item = (\n        <div key={idCoordinateSpace + 'mainDiv' + id.toString()} style={styleMainDiv}>\n          <p key={idCoordinateSpace + 'title' + id.toString()} style={styleTitle}>\n            {'Auxiliary Metric ' + (id + 1).toString()}\n          </p>\n          <div key={idCoordinateSpace + 'content' + id.toString()} style={styleContent}>\n            <div key={idCoordinateSpace + 'inputs' + id.toString()}>\n              {/* <div key={idCoordinateSpace + 'refBloc' + id.toString()} style={styleSelect}>\n                <FormLabel key={idCoordinateSpace + 'labelref' + id.toString()} width={10}>\n                  Query\n                </FormLabel>\n                <p key={this.props.idCoordinate?.toString() || '' + 'refValue' + id.toString()} style={styleReferenceMetric}>\n                  {refIdMetric}\n                </p>\n              </div> */}\n              <div key={idCoordinateSpace + 'refBloc' + id.toString()} style={{ display: 'flex' }}>\n                <FormLabel key={idCoordinateSpace + 'labelref' + id.toString()} width={15}>\n                  Query\n                </FormLabel>\n                <Select\n                  key={this.props.idCoordinate?.toString() || '' + 'refValue' + id.toString()}\n                  onChange={this.onChangeSelectQueryB}\n                  allowCustomValue={false}\n                  options={this.getAllQuery(id.toString())}\n                  width={30}\n                  value={this.getCurrentQueryB(id.toString(), isLinkB)}\n                />\n              </div>\n              <FormField\n                key={idCoordinateSpace + 'inputKey' + id.toString()}\n                id={id.toString()}\n                label=\"Key\"\n                labelWidth={15}\n                inputWidth={30}\n                type=\"text\"\n                value={auxMetrics[id].key}\n                name=\"key\"\n                onChange={this.onChangeKeyB}\n              />\n              <FormField\n                key={idCoordinateSpace + 'valueKey' + id.toString()}\n                id={id.toString()}\n                label=\"Value key\"\n                labelWidth={15}\n                inputWidth={30}\n                type=\"text\"\n                value={auxMetrics[id].keyValue}\n                name=\"valueKey\"\n                onChange={this.onChangeValueKeyB}\n              />\n              <div key={idCoordinateSpace + 'divTypeOfValue' + id.toString()} id={id.toString()} style={styleSelect}>\n                <FormLabel key={idCoordinateSpace + 'labelTypeOfValue' + id.toString()} width={15}>\n                  Value\n                </FormLabel>\n                <Select\n                  key={idCoordinateSpace + 'selectTypeOfValue' + id.toString()}\n                  onChange={this.onChangeManageValueB}\n                  allowCustomValue={false}\n                  options={this.getAllManageValue(id.toString())}\n                  width={30}\n                  value={this.getCurrentManageValue(id, isLinkB)}\n                />\n              </div>\n            </div>\n            <div key={idCoordinateSpace + 'buttonDelete' + id.toString()}>\n              <Button id={id.toString()} onClick={this.deleteAuxiliaryMetricB} variant={'danger'}>\n                Delete\n              </Button>\n            </div>\n          </div>\n        </div>\n      );\n    } else {\n      item = (\n        <div key={idCoordinateSpace + 'mainDiv' + id.toString()} style={styleMainDiv}>\n          <p key={idCoordinateSpace + 'title' + id.toString()} style={styleTitle}>\n            {'Auxiliary Metric ' + (id + 1).toString()}\n          </p>\n          <div key={idCoordinateSpace + 'content' + id.toString()} style={styleContent}>\n            <div key={idCoordinateSpace + 'inputs' + id.toString()}>\n              {/* <div key={idCoordinateSpace + 'refBloc' + id.toString()} style={styleSelect}>\n                <FormLabel key={idCoordinateSpace + 'labelref' + id.toString()} width={15}>\n                  Query\n                </FormLabel>\n                <p key={this.props.idCoordinate?.toString() || '' + 'refValue' + id.toString()} style={styleReferenceMetric}>\n                  {refIdMetric}\n                </p>\n              </div> */}\n              <div key={idCoordinateSpace + 'refBloc' + id.toString()} style={{ display: 'flex' }}>\n                <FormLabel key={idCoordinateSpace + 'labelref' + id.toString()} width={15}>\n                  Query\n                </FormLabel>\n                <Select\n                  key={this.props.idCoordinate?.toString() || '' + 'refValue' + id.toString()}\n                  onChange={this.onChangeSelectQuery}\n                  allowCustomValue={false}\n                  options={this.getAllQuery(id.toString())}\n                  width={30}\n                  value={this.getCurrentQuery(id.toString(), isLinkB)}\n                />\n              </div>\n              <FormField\n                key={idCoordinateSpace + 'inputKey' + id.toString()}\n                id={id.toString()}\n                label=\"Key\"\n                labelWidth={15}\n                inputWidth={30}\n                type=\"text\"\n                value={auxMetrics[id].key}\n                name=\"key\"\n                onChange={this.onChangeKey}\n              />\n              <FormField\n                key={idCoordinateSpace + 'valueKey' + id.toString()}\n                id={id.toString()}\n                label=\"Value key\"\n                labelWidth={15}\n                inputWidth={30}\n                type=\"text\"\n                value={auxMetrics[id].keyValue}\n                name=\"valueKey\"\n                onChange={this.onChangeValueKey}\n              />\n              <div key={idCoordinateSpace + 'divTypeOfValue' + id.toString()} id={id.toString()} style={styleSelect}>\n                <FormLabel key={idCoordinateSpace + 'labelTypeOfValue' + id.toString()} width={15}>\n                  Value\n                </FormLabel>\n                <Select\n                  key={idCoordinateSpace + 'selectTypeOfValue' + id.toString()}\n                  onChange={this.onChangeManageValue}\n                  allowCustomValue={false}\n                  options={this.getAllManageValue(id.toString())}\n                  width={30}\n                  value={this.getCurrentManageValue(id, isLinkB)}\n                />\n              </div>\n            </div>\n            <div key={idCoordinateSpace + 'buttonDelete' + id.toString()}>\n              <Button id={id.toString()} onClick={this.deleteAuxiliaryMetric} variant={'danger'}>\n                Delete\n              </Button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n    return <div key={idCoordinateSpace + 'listInputOneMetric' + id.toString()}>{item}</div>;\n  };\n\n  private displayInputs = (isLinkB: boolean) => {\n    const idCoordinateSpace: string = this.props.idCoordinate?.toString() || '';\n    let auxiliaryMetrics: Metric[] = this.getAuxiliaryMetrics(isLinkB);\n\n    const mapItems: JSX.Element[] = [];\n    let index = 0;\n\n    auxiliaryMetrics.forEach(() => {\n      const item: JSX.Element = this.generateInputs(index, isLinkB);\n      mapItems.push(item);\n      index++;\n    });\n\n    return <div key={idCoordinateSpace + 'listInputAllMetrics'}>{mapItems}</div>;\n  };\n\n  componentDidMount = () => {\n    //this.fillSelectQuery();\n  };\n\n  /**\n   * result\n   */\n  render() {\n    const idCoordinateSpace: string = this.props.idCoordinate?.toString() || '';\n    const styleButtonAdd = {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'center',\n      marginTop: '10px',\n    } as React.CSSProperties;\n\n    let currentOrientedLink: any;\n    const arrayOrientedLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    for (const orientedLink of arrayOrientedLinks) {\n      if (orientedLink.id === this.props.idCoordinate) {\n        currentOrientedLink = orientedLink;\n      }\n    }\n\n    if (this.props.isLink && currentOrientedLink && currentOrientedLink.orientationLink.value === 'double') {\n      return (\n        <Collapse isOpen={this.state.collapse} label=\"Auxiliary metrics\" onToggle={this.onToggleCollapse}>\n          <Collapse isOpen={this.state.collapseLinkA} label=\"Link A\" onToggle={this.onToggleCollapseLinkA}>\n            {this.displayInputs(false)}\n            <div key={idCoordinateSpace + 'buttonAdd'} style={styleButtonAdd}>\n              <Button onClick={this.addAuxiliaryMetric}>Add Auxiliary Metric</Button>\n            </div>\n          </Collapse>\n          <Collapse isOpen={this.state.collapseLinkB} label=\"Link B\" onToggle={this.onToggleCollapseLinkB}>\n            {this.displayInputs(true)}\n            <div key={idCoordinateSpace + 'buttonAdd'} style={styleButtonAdd}>\n              <Button onClick={this.addAuxiliaryMetricB}>Add Auxiliary Metric</Button>\n            </div>\n          </Collapse>\n        </Collapse>\n      );\n    } else {\n      return (\n        <Collapse isOpen={this.state.collapse} label=\"Auxiliary metrics\" onToggle={this.onToggleCollapse}>\n          {this.displayInputs(false)}\n          <div key={idCoordinateSpace + 'buttonAdd'} style={styleButtonAdd}>\n            <Button onClick={this.addAuxiliaryMetric}>Add Auxiliary Metric</Button>\n          </div>\n        </Collapse>\n      );\n    }\n  }\n}\nexport default ManageAuxiliaryQuery;\n","import React, { /*ChangeEvent,*/ Fragment /*, SyntheticEvent*/ } from 'react';\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions, Metadata } from 'types';\nimport { Button, FormField, Collapse, FormLabel, Switch } from '@grafana/ui';\nimport { TextObject } from 'Models/TextObjectClass';\nimport { InputSeriesColorPicker } from 'Functions/Input/inputSeriesColorPicker';\nimport { PointClass } from 'Models/PointClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { RegionClass } from 'Models/RegionClass';\nimport { initPoint } from 'Functions/initPoint';\nimport { initRegionCoordinateSpace } from 'Functions/initRegionCoordinateSpace';\nimport { initOrientedLink } from 'Functions/initOrientedLink';\n// import InputSeriesColorPicker from 'Functions/Input/inputSeriesColorPicker';\n// import StyleComponent, { Style } from './../Parametrage/styleComponent';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  idCoordinate: number;\n  type: string;\n  saveToParent: (meta: Metadata[]) => void;\n}\n\ninterface State {\n  newMeta: string;\n  collapseMetaValue: boolean;\n}\n/*\nManage Metadata\n*/\nclass ManageMetadata extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      newMeta: '',\n      collapseMetaValue: false,\n    };\n  }\n\n  onMetaStrChanged = (event: { currentTarget: HTMLInputElement }) => {\n    if (this.props.type === 'point') {\n      let newData: Metadata = this.getCurrentPoint().meta[parseInt(event.currentTarget.id, 10)];\n      newData.meta = event.currentTarget.value;\n      this.getCurrentPoint().meta[parseInt(event.currentTarget.id, 10)].meta = newData.meta;\n      this.props.onOptionsChange({ ...this.props.options, arrayPoints: this.props.options.arrayPoints });\n    }\n    if (this.props.type === 'region') {\n      let newData: Metadata = this.getCurrentRegion().meta[parseInt(event.currentTarget.id, 10)];\n      newData.meta = event.currentTarget.value;\n      this.getCurrentRegion().meta[parseInt(event.currentTarget.id, 10)].meta = newData.meta;\n      this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: this.props.options.regionCoordinateSpace });\n    }\n    if (this.props.type === 'link') {\n      let newData: Metadata = this.getCurrentLink().meta[parseInt(event.currentTarget.id, 10)];\n      newData.meta = event.currentTarget.value;\n      this.getCurrentLink().meta[parseInt(event.currentTarget.id, 10)].meta = newData.meta;\n      this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: this.props.options.arrayOrientedLinks });\n    }\n  };\n\n  onChangeBackColor = (keyInt: number, color: string) => {\n    if (this.props.type === 'point') {\n      const newTextObject: TextObject = this.getCurrentPoint().meta[keyInt].obj;\n\n      newTextObject.colorBack = color;\n      this.getCurrentPoint().meta[keyInt].obj = newTextObject;\n      this.props.onOptionsChange({ ...this.props.options, arrayPoints: this.props.options.arrayPoints });\n    }\n    if (this.props.type === 'link') {\n      const newTextObject: TextObject = this.getCurrentLink().meta[keyInt].obj;\n\n      newTextObject.colorBack = color;\n      this.getCurrentLink().meta[keyInt].obj = newTextObject;\n      this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: this.props.options.arrayOrientedLinks });\n    }\n    if (this.props.type === 'region') {\n      const newTextObject: TextObject = this.getCurrentRegion().meta[keyInt].obj;\n\n      newTextObject.colorBack = color;\n      this.getCurrentRegion().meta[keyInt].obj = newTextObject;\n      this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: this.props.options.regionCoordinateSpace });\n    }\n  };\n\n  onChangeTextColor = (keyInt: number, color: string) => {\n    if (this.props.type === 'point') {\n      const newTextObject: TextObject = this.getCurrentPoint().meta[keyInt].obj;\n\n      newTextObject.colorText = color;\n      this.getCurrentPoint().meta[keyInt].obj = newTextObject;\n      this.props.onOptionsChange({ ...this.props.options, arrayPoints: this.props.options.arrayPoints });\n    }\n    if (this.props.type === 'link') {\n      const newTextObject: TextObject = this.getCurrentLink().meta[keyInt].obj;\n\n      newTextObject.colorText = color;\n      this.getCurrentLink().meta[keyInt].obj = newTextObject;\n      this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: this.props.options.arrayOrientedLinks });\n    }\n    if (this.props.type === 'region') {\n      const newTextObject: TextObject = this.getCurrentRegion().meta[keyInt].obj;\n\n      newTextObject.colorText = color;\n      this.getCurrentRegion().meta[keyInt].obj = newTextObject;\n      this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: this.props.options.regionCoordinateSpace });\n    }\n  };\n\n  // onChangeBold = (event: SyntheticEvent<HTMLInputElement, Event> | undefined ) => {\n  //   // if (this.props.type === 'point') {\n  //   //   const newTextObject: TextObject = this.props.options.arrayPoints[this.props.idCoordinate - 1].meta[keyInt].obj;\n\n  //   //   newTextObject.style.bold = ;\n  //   //   this.props.options.arrayPoints[this.props.idCoordinate - 1].meta[keyInt].obj = newTextObject;\n  //   //   this.props.onOptionsChange({ ...this.props.options, arrayPoints: this.props.options.arrayPoints });\n  //   // }\n  //   // if (this.props.type === 'link') {\n  //   //   const newTextObject: TextObject = this.props.options.arrayOrientedLinks[this.props.idCoordinate - 1].meta[keyInt].obj;\n\n  //   //   newTextObject.colorText = color;\n  //   //   this.props.options.arrayOrientedLinks[this.props.idCoordinate - 1].meta[keyInt].obj = newTextObject;\n  //   //   this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: this.props.options.arrayOrientedLinks });\n  //   // }\n  //   // if (this.props.type === 'region') {\n  //   //   const newTextObject: TextObject = this.props.options.regionCoordinateSpace[this.props.idCoordinate - 1].meta[keyInt].obj;\n\n  //   //   newTextObject.colorText = color;\n  //   //   this.props.options.regionCoordinateSpace[this.props.idCoordinate - 1].meta[keyInt].obj = newTextObject;\n  //   //   this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: this.props.options.regionCoordinateSpace });\n  //   // }\n  // };\n\n  // onChangeBold = (index: number, event: any) => {\n  //   const divParent\n  //   const id = event.currentTarget;\n  //   if (this.props.type === 'point') {\n  //     let newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n  //     if (newArrayPoint[this.props.idCoordinate - 1].meta[parseInt(event.currentTarget.id, 10) - 5].obj.style.bold) {\n  //       newArrayPoint[this.props.idCoordinate - 1].meta[parseInt(event.currentTarget.id, 10) - 5].obj.style.bold = false;\n  //     } else {\n  //       newArrayPoint[this.props.idCoordinate - 1].meta[parseInt(event.currentTarget.id, 10) - 5].obj.style.bold = true;\n  //     }\n  //     this.props.onOptionsChange({ ...this.props.options, arrayPoints: newArrayPoint });\n  //   }\n  // }\n\n  addMeta = (onClick: { currentTarget: HTMLButtonElement }) => {\n    if (this.props.type === 'point') {\n      let obj = new TextObject(\n        '',\n        false,\n        '',\n        '',\n        { bold: false, italic: false, underline: false },\n        false,\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: 'white',\n          addColorBackElement: false,\n          colorBackElement: 'black',\n        },\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: 'white',\n          addColorBackElement: false,\n          colorBackElement: 'black',\n        }\n      );\n      let meta = this.state.newMeta;\n      this.getCurrentPoint().meta.push({ meta, obj });\n      this.props.onOptionsChange({ ...this.props.options, arrayPoints: this.props.options.arrayPoints });\n      this.setState({ newMeta: '' });\n    }\n    if (this.props.type === 'link') {\n      let obj = new TextObject(\n        '',\n        false,\n        '',\n        '',\n        { bold: false, italic: false, underline: false },\n        false,\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: 'white',\n          addColorBackElement: false,\n          colorBackElement: 'black',\n        },\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: 'white',\n          addColorBackElement: false,\n          colorBackElement: 'black',\n        }\n      );\n      let meta = this.state.newMeta;\n      this.getCurrentLink().meta.push({ meta, obj });\n      this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: this.props.options.arrayOrientedLinks });\n      this.setState({ newMeta: '' });\n    }\n    if (this.props.type === 'region') {\n      let obj = new TextObject(\n        '',\n        false,\n        '',\n        '',\n        { bold: false, italic: false, underline: false },\n        false,\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: 'white',\n          addColorBackElement: false,\n          colorBackElement: 'black',\n        },\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: 'white',\n          addColorBackElement: false,\n          colorBackElement: 'black',\n        }\n      );\n      let meta = this.state.newMeta;\n      this.getCurrentRegion().meta.push({ meta, obj });\n      this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: this.props.options.regionCoordinateSpace });\n      this.setState({ newMeta: '' });\n    }\n  };\n\n  getCurrentPoint = (): PointClass => {\n    let point: PointClass = initPoint(0);\n    this.props.options.arrayPoints.forEach((pointToFind) => {\n      if (pointToFind.id === this.props.idCoordinate) {\n        point = pointToFind;\n      }\n    });\n    return point;\n  };\n\n  getCurrentRegion = (): RegionClass => {\n    let region: RegionClass = initRegionCoordinateSpace(0);\n    this.props.options.regionCoordinateSpace.forEach((regionToFind) => {\n      if (regionToFind.id === this.props.idCoordinate) {\n        region = regionToFind;\n      }\n    });\n    return region;\n  };\n\n  getCurrentLink = (): OrientedLinkClass => {\n    let link: OrientedLinkClass = initOrientedLink(0, 0);\n    this.props.options.arrayOrientedLinks.forEach((linkToFind) => {\n      if (linkToFind.id === this.props.idCoordinate) {\n        link = linkToFind;\n      }\n    });\n    return link;\n  };\n\n  // element for one Meta\n  displayMetaList = (props: any): JSX.Element => {\n    const l10n = require('Localization/en.json');\n    if (props.type === 'point' && this.props.options.arrayPoints.length !== 0) {\n      let point: PointClass = this.getCurrentPoint();\n      const list = point.meta.map((meta: Metadata, index: number) => (\n        <div\n          key={'point' + this.props.idCoordinate + 'EditorMetadata'}\n          style={{\n            marginTop: '5px',\n            border: '1px solid black',\n            padding: '10px',\n          }}\n        >\n          <p style={{ fontSize: '16px', fontWeight: 'normal', textAlign: 'left', paddingLeft: '8px' }}>Metadata {index + 1}</p>\n          <div\n            key={'Meta' + index}\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'space-around',\n            }}\n          >\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <FormField\n                id={index.toString()}\n                key={'Meta' + index.toString()}\n                label={'Text metadata'}\n                labelWidth={10}\n                inputWidth={23}\n                type=\"string\"\n                value={meta.meta || ''}\n                onChange={this.onMetaStrChanged.bind(this)}\n              />\n              <InputSeriesColorPicker\n                width={30}\n                color={meta.obj.colorBack}\n                keyInt={index}\n                text={l10n.textObject.colorBackground}\n                _onChange={this.onChangeBackColor}\n              />\n              <InputSeriesColorPicker\n                width={30}\n                color={meta.obj.colorText}\n                keyInt={index}\n                text={l10n.textObject.colorText}\n                _onChange={this.onChangeTextColor}\n              />\n            </div>\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Bold</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.bold}\n                  onChange={() => {\n                    let newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n                    if (this.getCurrentPoint().meta[index].obj.style.bold) {\n                      this.getCurrentPoint().meta[index].obj.style.bold = false;\n                    } else {\n                      this.getCurrentPoint().meta[index].obj.style.bold = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, arrayPoints: newArrayPoint });\n                  }}\n                />\n              </div>\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Italic</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.italic}\n                  onChange={() => {\n                    let newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n                    if (this.getCurrentPoint().meta[index].obj.style.italic) {\n                      this.getCurrentPoint().meta[index].obj.style.italic = false;\n                    } else {\n                      this.getCurrentPoint().meta[index].obj.style.italic = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, arrayPoints: newArrayPoint });\n                  }}\n                />\n              </div>\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Underline</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.underline}\n                  onChange={() => {\n                    let newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n                    if (this.getCurrentPoint().meta[index].obj.style.underline) {\n                      this.getCurrentPoint().meta[index].obj.style.underline = false;\n                    } else {\n                      this.getCurrentPoint().meta[index].obj.style.underline = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, arrayPoints: newArrayPoint });\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'right',\n              margin: '10px 0px',\n            }}\n          >\n            <Button\n              variant={'danger'}\n              onClick={() => {\n                let newArrayPoints: PointClass[] = this.props.options.arrayPoints;\n                this.getCurrentPoint().meta.splice(index, 1);\n                this.props.onOptionsChange({ ...this.props.options, arrayPoints: newArrayPoints });\n              }}\n            >\n              Delete\n            </Button>\n          </div>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    if (props.type === 'region' && this.props.options.regionCoordinateSpace.length !== 0) {\n      let region: RegionClass = this.getCurrentRegion();\n      const list = region.meta.map((meta: Metadata, index: number) => (\n        <div\n          key={'region' + this.props.idCoordinate + 'EditorMetadata' + index}\n          style={{\n            marginTop: '5px',\n            border: '1px solid black',\n            padding: '10px',\n          }}\n        >\n          <p style={{ fontSize: '16px', fontWeight: 'normal', textAlign: 'center', paddingLeft: '8px' }}>Metadata {index + 1}</p>\n          <div\n            key={'Meta' + index}\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'space-around',\n            }}\n          >\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <FormField\n                id={index.toString()}\n                key={'Meta' + index.toString()}\n                label={'Text metadata'}\n                labelWidth={10}\n                inputWidth={23}\n                type=\"string\"\n                value={meta.meta || ''}\n                onChange={this.onMetaStrChanged.bind(this)}\n              />\n              <InputSeriesColorPicker\n                width={30}\n                color={meta.obj.colorBack}\n                keyInt={index}\n                text={l10n.textObject.colorBackground}\n                _onChange={this.onChangeBackColor}\n              />\n              <InputSeriesColorPicker\n                width={30}\n                color={meta.obj.colorText}\n                keyInt={index}\n                text={l10n.textObject.colorText}\n                _onChange={this.onChangeTextColor}\n              />\n            </div>\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Bold</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.bold}\n                  onChange={() => {\n                    let newArrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n                    if (this.getCurrentRegion().meta[index].obj.style.bold) {\n                      this.getCurrentRegion().meta[index].obj.style.bold = false;\n                    } else {\n                      this.getCurrentRegion().meta[index].obj.style.bold = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: newArrayRegion });\n                  }}\n                />\n              </div>\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Italic</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.italic}\n                  onChange={() => {\n                    let newArrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n                    if (this.getCurrentRegion().meta[index].obj.style.italic) {\n                      this.getCurrentRegion().meta[index].obj.style.italic = false;\n                    } else {\n                      this.getCurrentRegion().meta[index].obj.style.italic = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: newArrayRegion });\n                  }}\n                />\n              </div>\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Underline</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.underline}\n                  onChange={() => {\n                    let newArrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n                    if (this.getCurrentRegion().meta[index].obj.style.underline) {\n                      this.getCurrentRegion().meta[index].obj.style.underline = false;\n                    } else {\n                      this.getCurrentRegion().meta[index].obj.style.underline = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: newArrayRegion });\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'right',\n              margin: '10px',\n            }}\n          >\n            <Button\n              variant={'danger'}\n              onClick={() => {\n                let newArrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n                this.getCurrentRegion().meta.splice(index, 1);\n                this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: newArrayRegion });\n              }}\n            >\n              Delete\n            </Button>\n          </div>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    if (props.type === 'link' && this.props.options.arrayOrientedLinks.length !== 0) {\n      let link: OrientedLinkClass = this.getCurrentLink();\n      const list = link.meta.map((meta: Metadata, index: number) => (\n        <div\n          key={'link' + this.props.idCoordinate + 'EditorMetadata'}\n          style={{\n            marginTop: '5px',\n            border: '1px solid black',\n            padding: '10px',\n          }}\n        >\n          <p style={{ fontSize: '16px', fontWeight: 'normal', textAlign: 'center', paddingLeft: '8px' }}>Metadata {index + 1}</p>\n          <div\n            key={'Meta' + index}\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'space-around',\n            }}\n          >\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <FormField\n                id={index.toString()}\n                key={'Meta' + index.toString()}\n                label={'Text metadata'}\n                labelWidth={10}\n                inputWidth={23}\n                type=\"string\"\n                value={meta.meta || ''}\n                onChange={this.onMetaStrChanged.bind(this)}\n              />\n              <InputSeriesColorPicker\n                width={30}\n                color={meta.obj.colorBack}\n                keyInt={index}\n                text={l10n.textObject.colorBackground}\n                _onChange={this.onChangeBackColor}\n              />\n              <InputSeriesColorPicker\n                width={30}\n                color={meta.obj.colorText}\n                keyInt={index}\n                text={l10n.textObject.colorText}\n                _onChange={this.onChangeTextColor}\n              />\n            </div>\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Bold</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.bold}\n                  onChange={() => {\n                    let newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n                    if (this.getCurrentLink().meta[index].obj.style.bold) {\n                      this.getCurrentLink().meta[index].obj.style.bold = false;\n                    } else {\n                      this.getCurrentLink().meta[index].obj.style.bold = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: newArrayOrientedLink });\n                  }}\n                />\n              </div>\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Italic</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.italic}\n                  onChange={() => {\n                    let newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n                    if (this.getCurrentLink().meta[index].obj.style.italic) {\n                      this.getCurrentLink().meta[index].obj.style.italic = false;\n                    } else {\n                      this.getCurrentLink().meta[index].obj.style.italic = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: newArrayOrientedLink });\n                  }}\n                />\n              </div>\n              <div id={index.toString()} style={{ display: 'flex' }}>\n                <FormLabel width={30}>Underline</FormLabel>\n                <Switch\n                  label=\"\"\n                  checked={meta.obj.style.underline}\n                  onChange={() => {\n                    let newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n                    if (this.getCurrentLink().meta[index].obj.style.underline) {\n                      this.getCurrentLink().meta[index].obj.style.underline = false;\n                    } else {\n                      this.getCurrentLink().meta[index].obj.style.underline = true;\n                    }\n                    this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: newArrayOrientedLink });\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'right',\n              marginBottom: '10px',\n            }}\n          >\n            <Button\n              variant={'danger'}\n              onClick={() => {\n                let newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n                this.getCurrentLink().meta.splice(index, 1);\n                this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: newArrayOrientedLink });\n              }}\n            >\n              Delete\n            </Button>\n          </div>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    return <div></div>;\n  };\n\n  onToggleMetaValue = (isOpen: boolean) => {\n    this.setState({\n      collapseMetaValue: isOpen,\n    });\n  };\n\n  printProps = () => {\n    console.log(this.props);\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <Collapse isOpen={this.state.collapseMetaValue} label=\"Metadata\" onToggle={this.onToggleMetaValue}>\n          <div style={{ display: 'flex' }}>\n            {/* <InputTextField\n              key={'metaAdd'}\n              label={'Text'}\n              name={'Meta'}\n              required={true}\n              placeholder={'Enter meta'}\n              value={this.state.newMeta}\n              _handleChange={(event: {\n                currentTarget: HTMLInputElement;\n              }) => this.setState({ newMeta: event.currentTarget.value })}\n            /> */}\n            <FormField\n              key={'metaAdd'}\n              label={'Text metadata'}\n              labelWidth={15}\n              inputWidth={25}\n              name={'Meta'}\n              required={true}\n              placeholder={'Enter meta'}\n              value={this.state.newMeta}\n              onChange={(event: {\n                /** get currentTarget in event element */\n                currentTarget: HTMLInputElement;\n              }) => this.setState({ newMeta: event.currentTarget.value })}\n            />\n            <Button variant=\"primary\" className=\"button\" onClick={this.addMeta}>\n              <span style={{ padding: '0px 8px' }}>Add</span>\n            </Button>\n          </div>\n          <this.displayMetaList type={this.props.type} id={this.props.idCoordinate - 1} />\n        </Collapse>\n      </Fragment>\n    );\n  }\n}\n\nexport default ManageMetadata;\n","import React from 'react';\nimport { PanelEditorProps, SelectableValue } from '@grafana/data';\nimport { SimpleOptions } from 'types';\nimport { FormField, Collapse, Select, FormLabel, Button } from '@grafana/ui';\nimport { PositionParameterClass } from 'Models/PositionParameterClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { PointClass } from 'Models/PointClass';\nimport { RegionClass } from 'Models/RegionClass';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  callBackToParentZIndex: (zIndex: number, id: number) => void;\n  isPoint: boolean;\n  isLink: boolean;\n  isRegion: boolean;\n  id: number;\n}\n\ninterface State {\n  /** get text object */\n  collapsepositionParameter: boolean;\n  collapseLabel: boolean;\n  collapseTooltip: boolean;\n  collapseLayerLevel: boolean;\n  orientedLinkComparedToDowngrade: any;\n  orientedLinkComparedToUpgrade: any;\n}\n\n/**\n * def\n */\nclass PositionParameter extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      collapsepositionParameter: false,\n      collapseLabel: false,\n      collapseTooltip: false,\n      collapseLayerLevel: false,\n      orientedLinkComparedToDowngrade: {},\n      orientedLinkComparedToUpgrade: {},\n    };\n  }\n\n  private savePositionParameter = (newPositionParameter: PositionParameterClass) => {\n    const idCurrentCoordinateSpace: number = this.props.id || 0;\n    if (this.props.isPoint) {\n      const newArrayPoints: PointClass[] = this.props.options.arrayPoints;\n      for (const point of newArrayPoints) {\n        if (point.id === idCurrentCoordinateSpace) {\n          point.positionParameter = newPositionParameter;\n        }\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayPoints: newArrayPoints,\n      });\n    } else if (this.props.isLink) {\n      const newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n      for (const orientedLink of newArrayOrientedLink) {\n        if (orientedLink.id === idCurrentCoordinateSpace) {\n          orientedLink.positionParameter = newPositionParameter;\n        }\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayOrientedLinks: newArrayOrientedLink,\n      });\n    } else if (this.props.isRegion) {\n      const newArrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n      for (const region of newArrayRegion) {\n        if (region.id === idCurrentCoordinateSpace) {\n          region.positionParameter = newPositionParameter;\n        }\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        regionCoordinateSpace: newArrayRegion,\n      });\n    }\n  };\n\n  private getPositionParameter = (): PositionParameterClass => {\n    let positionParameter: PositionParameterClass = {\n      labelAPositionX: '0',\n      labelAPositionY: '0',\n      labelBPositionX: '0',\n      labelBPositionY: '0',\n      tooltipPositionA: {},\n      tooltipPositionB: {},\n    };\n    const idCurrentCoordinateSpace: number = this.props.id || 0;\n    if (this.props.isLink) {\n      const newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n      for (const orientedLink of newArrayOrientedLink) {\n        if (orientedLink.id === idCurrentCoordinateSpace) {\n          positionParameter = orientedLink.positionParameter;\n        }\n      }\n    } else if (this.props.isPoint) {\n      const arrayPoints: PointClass[] = this.props.options.arrayPoints;\n      for (const point of arrayPoints) {\n        if (point.id === idCurrentCoordinateSpace) {\n          positionParameter = point.positionParameter;\n        }\n      }\n    } else if (this.props.isRegion) {\n      const arrayRegions: RegionClass[] = this.props.options.regionCoordinateSpace;\n      for (const region of arrayRegions) {\n        if (region.id === idCurrentCoordinateSpace) {\n          positionParameter = region.positionParameter;\n        }\n      }\n    }\n    return positionParameter;\n  };\n\n  // private callBack() {\n  //   this.props.callBackToParent(this.state.positionParameter, this.props.id || 0);\n  // }\n\n  private callBackZIndex(zIndex: number, id: number) {\n    this.props.callBackToParentZIndex(zIndex, id);\n  }\n\n  private handleChangeLabelAPositionX = (event: any) => {\n    const newPositionParameter = this.getPositionParameter();\n    newPositionParameter.labelAPositionX = event.currentTarget.value;\n    this.savePositionParameter(newPositionParameter);\n    // this.setState({\n    //   positionParameter: newPositionParameter,\n    // });\n    // this.callBack();\n  };\n\n  private handleChangeLabelAPositionY = (event: any) => {\n    const newPositionParameter = this.getPositionParameter();\n    newPositionParameter.labelAPositionY = event.currentTarget.value;\n    this.savePositionParameter(newPositionParameter);\n    // this.setState({\n    //   positionParameter: newPositionParameter,\n    // });\n    // this.callBack();\n  };\n\n  private handleChangeLabelBPositionX = (event: any) => {\n    const newPositionParameter = this.getPositionParameter();\n    newPositionParameter.labelBPositionX = event.currentTarget.value;\n    this.savePositionParameter(newPositionParameter);\n    // this.setState({\n    //   positionParameter: newPositionParameter,\n    // });\n    // this.callBack();\n  };\n\n  private handleChangeLabelBPositionY = (event: any) => {\n    const newPositionParameter = this.getPositionParameter();\n    newPositionParameter.labelBPositionY = event.currentTarget.value;\n    this.savePositionParameter(newPositionParameter);\n    // this.setState({\n    //   positionParameter: newPositionParameter,\n    // });\n    // this.callBack();\n  };\n\n  private handleChangeTooltipPositionA = (event: any) => {\n    const newPositionParameter = this.getPositionParameter();\n    newPositionParameter.tooltipPositionA = { label: event.value, value: event.value };\n    this.savePositionParameter(newPositionParameter);\n    // this.setState({\n    //   positionParameter: newPositionParameter,\n    // });\n    // this.callBack();\n  };\n\n  private handleChangeTooltipPositionB = (event: any) => {\n    const newPositionParameter = this.getPositionParameter();\n    newPositionParameter.tooltipPositionB = { label: event.value, value: event.value };\n    this.savePositionParameter(newPositionParameter);\n    // this.setState({\n    //   positionParameter: newPositionParameter,\n    // });\n    // this.callBack();\n  };\n\n  private handleChangeSelectOrientedLinkToUpgrade = (event: any) => {\n    const newOrientedLinkComparedToToUpgrade: SelectableValue<OrientedLinkClass> = {\n      label: event.label,\n      value: event.value,\n    };\n    this.setState({\n      orientedLinkComparedToUpgrade: newOrientedLinkComparedToToUpgrade,\n    });\n  };\n\n  private handleChangeSelectOrientedLinkToDowngrade = (event: any) => {\n    const newOrientedLinkComaparedToDowngrade: SelectableValue<OrientedLinkClass> = {\n      label: event.label,\n      value: event.value,\n    };\n    this.setState({\n      orientedLinkComparedToDowngrade: newOrientedLinkComaparedToDowngrade,\n    });\n  };\n\n  private downgradeLayerLevel = () => {\n    const orientedLinkComparedTo: OrientedLinkClass = this.state.orientedLinkComparedToDowngrade.value;\n    const zIndex: number = orientedLinkComparedTo.zIndex - 1;\n    this.callBackZIndex(zIndex, this.props.id || 0);\n  };\n\n  private upgradeLayerLevel = () => {\n    const orientedLinkComparedTo: OrientedLinkClass = this.state.orientedLinkComparedToUpgrade.value;\n    const zIndex: number = orientedLinkComparedTo.zIndex + 1;\n    this.callBackZIndex(zIndex, this.props.id || 0);\n  };\n\n  private defineListOrientedLink = (): Array<SelectableValue<OrientedLinkClass>> => {\n    let listOptions: Array<SelectableValue<OrientedLinkClass>> = [];\n    const arrayOrientedLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n\n    arrayOrientedLinks.forEach((orientedLink) => {\n      let selectableValue = {\n        label: orientedLink.label || orientedLink.name,\n        value: orientedLink,\n      };\n      listOptions.push(selectableValue);\n    });\n    return listOptions;\n  };\n\n  private defineLabelPositionInputs = (): JSX.Element => {\n    let item: JSX.Element;\n    const positionParameter: PositionParameterClass = this.getPositionParameter();\n    let currentOrientedLink: any;\n    const arrayOrientedLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    for (const orientedLink of arrayOrientedLinks) {\n      if (orientedLink.id === this.props.id) {\n        currentOrientedLink = orientedLink;\n      }\n    }\n\n    if (this.props.isLink && currentOrientedLink && currentOrientedLink.orientationLink.value === 'double') {\n      item = (\n        <div>\n          <div>\n            <div>\n              <FormField\n                label=\"Label A Position X\"\n                labelWidth={10}\n                inputWidth={20}\n                type=\"text\"\n                value={positionParameter.labelAPositionX}\n                onChange={this.handleChangeLabelAPositionX}\n                placeholder={'Label A Position X'}\n              />\n              <FormField\n                label=\"Label A Position Y\"\n                labelWidth={10}\n                inputWidth={20}\n                type=\"text\"\n                value={positionParameter.labelAPositionY}\n                onChange={this.handleChangeLabelAPositionY}\n                placeholder={'Label A Position Y'}\n              />\n            </div>\n          </div>\n          <div>\n            <div>\n              <FormField\n                label=\"Label B Position X\"\n                labelWidth={10}\n                inputWidth={20}\n                type=\"text\"\n                value={positionParameter.labelBPositionX}\n                onChange={this.handleChangeLabelBPositionX}\n                placeholder={'Label B Position X'}\n              />\n              <FormField\n                label=\"Label B Position Y\"\n                labelWidth={10}\n                inputWidth={20}\n                type=\"text\"\n                value={positionParameter.labelBPositionY}\n                onChange={this.handleChangeLabelBPositionY}\n                placeholder={'Label B Position Y'}\n              />\n            </div>\n          </div>\n        </div>\n      );\n    } else {\n      item = (\n        <div>\n          <FormField\n            label=\"Position X\"\n            labelWidth={10}\n            inputWidth={20}\n            type=\"text\"\n            value={positionParameter.labelAPositionX}\n            onChange={this.handleChangeLabelAPositionX}\n            placeholder={'Position X'}\n          />\n          <FormField\n            label=\"Position Y\"\n            labelWidth={10}\n            inputWidth={20}\n            type=\"text\"\n            value={positionParameter.labelAPositionY}\n            onChange={this.handleChangeLabelAPositionY}\n            placeholder={'Position Y'}\n          />\n        </div>\n      );\n    }\n\n    return item;\n  };\n\n  private defineTooltipPositionInputs = (): JSX.Element => {\n    let item: JSX.Element;\n    const optionsSelectTooltipPosition: Array<SelectableValue<string>> = [\n      { label: 'Top', value: 'Top' },\n      { label: 'Bottom', value: 'Bottom' },\n      { label: 'Left', value: 'Left' },\n      { label: 'Right', value: 'Right' },\n    ];\n    const positionParameter: PositionParameterClass = this.getPositionParameter();\n    let currentOrientedLink: any;\n    const arrayOrientedLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    for (const orientedLink of arrayOrientedLinks) {\n      if (orientedLink.id === this.props.id) {\n        currentOrientedLink = orientedLink;\n      }\n    }\n\n    if (this.props.isLink && currentOrientedLink && currentOrientedLink.orientationLink.value === 'double') {\n      item = (\n        <div>\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={10}>Tooltip A Position</FormLabel>\n            <Select\n              onChange={this.handleChangeTooltipPositionA}\n              allowCustomValue={false}\n              options={optionsSelectTooltipPosition}\n              value={positionParameter.tooltipPositionA}\n              width={20}\n            />\n          </div>\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={10}>Tooltip B Position</FormLabel>\n            <Select\n              onChange={this.handleChangeTooltipPositionB}\n              allowCustomValue={false}\n              options={optionsSelectTooltipPosition}\n              value={positionParameter.tooltipPositionB}\n              width={20}\n            />\n          </div>\n        </div>\n      );\n    } else {\n      item = (\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={10}>Tooltip position</FormLabel>\n          <Select\n            onChange={this.handleChangeTooltipPositionA}\n            allowCustomValue={false}\n            options={optionsSelectTooltipPosition}\n            value={positionParameter.tooltipPositionA}\n            width={20}\n          />\n        </div>\n      );\n    }\n    return item;\n  };\n\n  defineLayerLevel = (): JSX.Element => {\n    let item: JSX.Element;\n    const options: Array<SelectableValue<OrientedLinkClass>> = this.defineListOrientedLink();\n\n    if (this.props.isLink) {\n      item = (\n        <Collapse\n          isOpen={this.state.collapseLayerLevel}\n          label={'LayerLevel'}\n          onToggle={(isOpen) => {\n            this.setState({\n              collapseLayerLevel: isOpen,\n            });\n          }}\n        >\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>Upgrade on </FormLabel>\n            <Select\n              onChange={this.handleChangeSelectOrientedLinkToUpgrade}\n              allowCustomValue={false}\n              options={options}\n              value={this.state.orientedLinkComparedToUpgrade}\n              width={15}\n            />\n            <Button onClick={this.upgradeLayerLevel}>Submit</Button>\n          </div>\n          <div style={{ display: 'flex' }}>\n            <FormLabel width={15}>Downgrade on</FormLabel>\n            <Select\n              onChange={this.handleChangeSelectOrientedLinkToDowngrade}\n              allowCustomValue={false}\n              options={options}\n              value={this.state.orientedLinkComparedToDowngrade}\n              width={15}\n            />\n            <Button onClick={this.downgradeLayerLevel}>Submit</Button>\n          </div>\n        </Collapse>\n      );\n    } else {\n      item = <div></div>;\n    }\n\n    return item;\n  };\n\n  render() {\n    return (\n      <Collapse\n        isOpen={this.state.collapsepositionParameter}\n        label={'Position Parameter'}\n        onToggle={(isOpen) => {\n          this.setState({\n            collapsepositionParameter: isOpen,\n          });\n        }}\n      >\n        <Collapse\n          isOpen={this.state.collapseLabel}\n          label={'Label'}\n          onToggle={(isOpen) => {\n            this.setState({\n              collapseLabel: isOpen,\n            });\n          }}\n        >\n          <div>{this.defineLabelPositionInputs()}</div>\n        </Collapse>\n        <Collapse\n          isOpen={this.state.collapseTooltip}\n          label={'Tooltip'}\n          onToggle={(isOpen) => {\n            this.setState({\n              collapseTooltip: isOpen,\n            });\n          }}\n        >\n          <div>{this.defineTooltipPositionInputs()}</div>\n        </Collapse>\n        <div>{this.defineLayerLevel()}</div>\n      </Collapse>\n    );\n  }\n}\n\nexport default PositionParameter;\n","import React, { CSSProperties } from 'react';\nimport { SimpleOptions, Metric, Metadata } from 'types';\n\nimport { PanelEditorProps, SelectableValue } from '@grafana/data';\nimport { Button, Select, Alert, FormField, FormLabel } from '@grafana/ui';\n\nimport { ArrayInputClass } from 'Models/ArrayInputClass';\nimport { CoordinateSpaceClass } from 'Models/CoordinateSpaceClass';\nimport { InputClass } from 'Models/InputClass';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\nimport { RegionClass, Coord4D } from 'Models/RegionClass';\nimport { TextObject } from 'Models/TextObjectClass';\n\nimport InputButtonField from 'Functions/Input/inputButton';\nimport InputTextField from 'Functions/Input/inputText';\nimport { createInputCoor } from 'Functions/CreateInput/createInputCoor';\nimport { editGoodParameterExtend } from 'Functions/EditParameter/editGoodParameter';\nimport { returnAllId } from 'Functions/searchIDLimit';\nimport { cloneRegionCoordinateSpace } from 'Functions/initRegionCoordinateSpace';\n\nimport ManageLowerLimit from 'components/Parametrage/manageLowerLimit';\nimport ManageQuery from './manageQuery';\nimport ParametresGeneriques from 'components/Parametrage/parametresGeneriques';\n\nimport 'style/CoordinateSpace.css';\nimport ManageAuxiliaryQuery from './manageAuxiliaryQuery';\n\nimport ManageMetadata from '../../components/CoordinateSpace/manageMetada';\nimport PositionParameter from 'components/Parametrage/positionParameters';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n\nexport declare type AlertVariant = 'success' | 'warning' | 'error' | 'info';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** if it's parent component is add then don't display delete button  */\n  isAddCoordinate: boolean;\n  /** coordinate to edit */\n  coordinate: RegionClass;\n  /** save data in parent */\n  callBackToParent: (id: number, newCoordinate?: RegionClass) => void;\n  /** id coordinateSpace */\n  id?: number;\n}\n\ninterface State {\n  /** stock coordinates in array object for Parent Component */\n  arrayCoor: RegionClass;\n  /** stock HTML input coordinates */\n  arrayInput: ArrayInputClass[];\n  /** stock html form */\n  htmlInput: JSX.Element;\n  /** display alert when form error */\n  hiddenAlert: boolean;\n  /** text to display alert */\n  titleAlert: string;\n  /** alert type */\n  severityAlert: AlertVariant;\n  /** choice svg mode */\n  selectedRadio: string;\n  /** selectedSVG */\n  allIDSelected: Array<SelectableValue<string>>;\n  /** selectedDefault id svg */\n  selectedDefaultSVG: SelectableValue<string>;\n}\n\n/**\n * component edit space coordinate\n */\nclass CoordinateSpace extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      arrayCoor: cloneRegionCoordinateSpace(\n        this.props.coordinate,\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10),\n        parseInt(this.props.options.baseMap.width, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10),\n        parseInt(this.props.options.baseMap.height, 10)\n      ),\n      arrayInput: [],\n      htmlInput: <div></div>,\n      hiddenAlert: true,\n      titleAlert: 'Error: label is empty',\n      severityAlert: 'error',\n      selectedRadio: 'svgMode',\n      allIDSelected: [],\n      selectedDefaultSVG: [],\n    };\n  }\n\n  /** update state with promise */\n  setStateAsyncArrayCoor = (state: {\n    /** new espace coordinate */\n    arrayCoor: RegionClass;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** update state with promise */\n  setStateAsyncArrayInput = (state: {\n    /** new line in array input */\n    arrayInput: ArrayInputClass[];\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** add inputs for a new coordiante */\n  addInput = async (id: number) => {\n    await this.setStateAsyncArrayInput({\n      arrayInput: this.state.arrayInput.concat([new ArrayInputClass(id, createInputCoor(id, false))]),\n    });\n  };\n\n  /**\n   * Delete array input and value\n   * @param {event} event event click delete button\n   */\n  deleteOwnInput = (): void => {\n    const del: boolean = confirm('Delete \"' + this.state.arrayCoor.label + '\" ?');\n    // alert(del);\n    if (del) {\n      this.props.callBackToParent(this.state.arrayCoor.id, undefined);\n    }\n\n    // update by default SVG style after delete regionSVG\n    if (this.state.arrayCoor.idSVG) {\n      const htmlRegionSVG = document.getElementById(this.state.arrayCoor.idSVG);\n      if (htmlRegionSVG) {\n        htmlRegionSVG.style.fill = 'white';\n        htmlRegionSVG.style.fillOpacity = '';\n        htmlRegionSVG.style.stroke = 'white';\n        htmlRegionSVG.style.strokeOpacity = '';\n        htmlRegionSVG.style.strokeWidth = '';\n      }\n    }\n  };\n\n  /**\n   * Use function if value input change\n   * @param {string} currentTarget new value of input\n   * @param {string} name name of input\n   * @param {number} index id of input\n   */\n  _handleChange(currentTarget: string, name: string, index: number): void {\n    let tmp: RegionClass = this.state.arrayCoor;\n\n    // UPDATE xMinDefault and xMaxDefault\n    const widthBackground = parseInt(this.props.options.baseMap.width, 10);\n    const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const widthInitialSpace = xMaxInitialSpace - xMinInitialSpace;\n    let newCoordDefault: Coord4D = tmp.coordsDefault;\n    if (name.startsWith('positionXMin')) {\n      newCoordDefault.xMin = (((parseInt(currentTarget, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n    }\n    if (name.startsWith('positionXMax')) {\n      newCoordDefault.xMax = (((parseInt(currentTarget, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n    }\n\n    // UPDATE yMinDefault and yMaxDefault\n    const heightBackground = parseInt(this.props.options.baseMap.height, 10);\n    const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    const heightInitialSpace = yMaxInitialSpace - yMinInitialSpace;\n    if (name.startsWith('positionYMin')) {\n      newCoordDefault.yMin = (((parseInt(currentTarget, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n    }\n    if (name.startsWith('positionYMax')) {\n      newCoordDefault.yMax = (((parseInt(currentTarget, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n    }\n    tmp.coordsDefault = newCoordDefault;\n\n    tmp = editGoodParameterExtend(name, tmp, currentTarget);\n    this.setState({\n      arrayCoor: tmp,\n    });\n    this.fillInputEspaceCoor();\n    if (this.props.isAddCoordinate === false) {\n      this.callBack();\n    }\n  }\n\n  /**\n   * Get value of input with state.arrayCoor\n   * @param {number} id id of element\n   * @param {string} param name of input\n   * @returns {string} value of the array element\n   */\n  getGoodValue(id: number, param: string): string {\n    let value: string;\n\n    value = '';\n    if (param.startsWith('positionXMin')) {\n      value = this.state.arrayCoor.coords.xMin;\n    } else if (param.startsWith('positionXMax')) {\n      value = this.state.arrayCoor.coords.xMax;\n    } else if (param.startsWith('positionYMin')) {\n      value = this.state.arrayCoor.coords.yMin;\n    } else if (param.startsWith('positionYMax')) {\n      value = this.state.arrayCoor.coords.yMax;\n    } else if (param.startsWith('label')) {\n      value = this.state.arrayCoor.label;\n    } else if (param.startsWith('image')) {\n      value = this.state.arrayCoor.img;\n    } else if (param.startsWith('key')) {\n      value = this.state.arrayCoor.mainMetric.key;\n    } else if (param.startsWith('valueKey')) {\n      value = this.state.arrayCoor.mainMetric.keyValue;\n    }\n    return value;\n  }\n\n  /** create dynamic input */\n  fillInputEspaceCoor(): void {\n    const { arrayInput } = this.state;\n    let finalItem: JSX.Element[] = [];\n\n    for (const line of arrayInput) {\n      const mapItems = line.getUneClassInput().map((obj: InputClass) =>\n        obj.getInputType() === 'text' ? (\n          <InputTextField\n            key={obj.getId()}\n            label={obj.getLabel()}\n            name={obj.getName()}\n            placeholder={obj.getPlaceholder() || ''}\n            required={obj.getRequired()}\n            value={this.getGoodValue(line.getId(), obj.getName())}\n            _handleChange={(event: {\n              /** get currentTarget in event element */\n              currentTarget: HTMLInputElement;\n            }) => this._handleChange(event.currentTarget.value, obj.getName(), line.getId())}\n          />\n        ) : !this.props.isAddCoordinate ? (\n          <InputButtonField\n            key={obj.getId()}\n            label={obj.getLabel()}\n            value={obj.getValue() || ''}\n            name={obj.getName()}\n            required={obj.getRequired()}\n            _handleChange={this.deleteOwnInput}\n            id={obj.getId()}\n          />\n        ) : (\n          <div></div>\n        )\n      );\n      const divKey: string = 'inputCoor' + line.getId().toString();\n      const newInput: JSX.Element = (\n        <div key={'addCoordinate' + divKey} className=\"inputCoor\">\n          {mapItems}\n        </div>\n      );\n      finalItem = finalItem.concat(newInput);\n    }\n    this.setState((prevState: State) => ({\n      htmlInput: <ul>{finalItem}</ul>,\n      selectedRadio: prevState.arrayCoor.mode ? 'svgMode' : 'coordinateMode',\n    }));\n  }\n\n  /** edit value for selectedDefaultValue and edit idSVG arrayCoor */\n  onChangeSelectSVG = (value: SelectableValue<string>) => {\n    // const newId: SelectableValue<string> = value;\n    const coordinate: RegionClass = this.state.arrayCoor;\n    coordinate.idSVG = value.value || '';\n    this.setState({\n      selectedDefaultSVG: value,\n      arrayCoor: coordinate,\n    });\n    if (this.props.isAddCoordinate === false) {\n      this.callBack();\n    }\n  };\n\n  /** call function to return arrayCoor a SimpleEditor */\n  callBack = (): void => {\n    // Define defaultCoor + defaultWidth + default height to creation of region\n    let newArrayCoor = this.state.arrayCoor;\n    // newArrayCoor.coordsDefault = {\n    //   xMin: this.state.arrayCoor.coords.xMin,\n    //   xMax: this.state.arrayCoor.coords.xMax,\n    //   yMin: this.state.arrayCoor.coords.yMin,\n    //   yMax: this.state.arrayCoor.coords.yMax,\n    // };\n    newArrayCoor.widthInitialSpaceDefault = (\n      parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10) -\n      parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10)\n    ).toString();\n    newArrayCoor.heightInitialSpaceDefault = (\n      parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10) -\n      parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10)\n    ).toString();\n    this.setState({\n      arrayCoor: newArrayCoor,\n    });\n\n    const waitAlert = 3000;\n\n    if (this.state.arrayCoor.label === '') {\n      this.setState({\n        severityAlert: 'error',\n        titleAlert: 'Error: label is empty',\n        hiddenAlert: false,\n      });\n      setTimeout(() => {\n        this.setState({\n          hiddenAlert: true,\n        });\n      }, waitAlert);\n    } else {\n      this.props.callBackToParent(this.state.arrayCoor.id, this.state.arrayCoor);\n      this.setState({\n        severityAlert: 'success',\n        titleAlert: 'Save',\n        hiddenAlert: false,\n      });\n      if (!this.props.isAddCoordinate) {\n        setTimeout(() => {\n          this.setState({\n            hiddenAlert: true,\n          });\n        }, waitAlert);\n      }\n    }\n  };\n\n  /** save data in parent */\n  callBackToOther = (linkUrl?: LinkURLClass, textObj?: TextObject): void => {\n    const oldCoor: RegionClass = this.state.arrayCoor;\n    // if (followLink || followLink === '') {\n    //   oldCoor.linkURL.followLink = followLink;\n    // }\n    // if (hoveringTooltipLink || hoveringTooltipLink === '') {\n    //   oldCoor.linkURL.hoveringTooltipLink = hoveringTooltipLink;\n    // }\n    // if (hoveringTooltipText || hoveringTooltipText === '') {\n    //   oldCoor.linkURL.hoveringTooltipText = hoveringTooltipText;\n    // }\n    if (linkUrl) {\n      oldCoor.linkURL.followLink = linkUrl.followLink;\n      oldCoor.linkURL.hoveringTooltipLink = linkUrl.hoveringTooltipLink;\n      oldCoor.linkURL.hoveringTooltipText = linkUrl.hoveringTooltipText;\n    }\n    if (textObj) {\n      oldCoor.textObj = textObj;\n    }\n    this.setState({\n      arrayCoor: oldCoor,\n    });\n    if (this.props.isAddCoordinate === false) {\n      this.callBack();\n    }\n  };\n\n  /** update lower limit */\n  callBackManageLowerLimit = (coordiante: CoordinateSpaceClass) => {\n    const newValue: RegionClass = this.state.arrayCoor;\n\n    newValue.colorMode = coordiante.colorMode;\n    newValue.traceBorder = coordiante.traceBorder;\n    newValue.traceBack = coordiante.traceBack;\n    this.setState({\n      arrayCoor: newValue,\n    });\n    if (this.props.isAddCoordinate === false) {\n      this.callBack();\n    }\n  };\n\n  /** save lower limit data */\n  callBackLowerLimit = (lowerLimit: LowerLimitClass[]) => {\n    const newValue: RegionClass = this.state.arrayCoor;\n    newValue.lowerLimit = lowerLimit;\n    this.setState({\n      arrayCoor: newValue,\n    });\n    if (this.props.isAddCoordinate === false) {\n      this.callBack();\n    }\n  };\n\n  /** save mainMetric data */\n  callBackMainMetric = (mainMetric: Metric): void => {\n    const newValue: RegionClass = this.state.arrayCoor;\n    newValue.mainMetric = mainMetric;\n    this.setState({\n      arrayCoor: newValue,\n    });\n    if (this.props.isAddCoordinate === false) {\n      this.callBack();\n    }\n  };\n\n  /** change value radio button checker to pass svg or coordinate mode */\n  onChangeRadioMode = (event: {\n    /** get current value to target */\n    currentTarget: HTMLInputElement;\n  }) => {\n    const coordinate: RegionClass = this.state.arrayCoor;\n\n    coordinate.mode = event.currentTarget.value === 'svgMode' ? true : false;\n    this.setState({\n      selectedRadio: event.currentTarget.value,\n      arrayCoor: coordinate,\n    });\n    if (this.props.isAddCoordinate === false) {\n      this.callBack();\n    }\n  };\n\n  /** add all id SVG in select */\n  fillSelectSVG = () => {\n    const selectedIDSvg: Array<SelectableValue<string>> = [];\n    if (this.state.allIDSelected.length > 0) {\n      const allIDSelected: Array<SelectableValue<string>> = this.state.allIDSelected;\n      let defaultSVG: SelectableValue<string> = allIDSelected[0];\n      for (const line of allIDSelected) {\n        if (line.value === this.state.arrayCoor.idSVG) {\n          defaultSVG = line;\n        }\n      }\n      this.setState({\n        selectedDefaultSVG: defaultSVG,\n      });\n      return;\n    }\n    const timeRefresh = 1000;\n    if (this.props.options.baseMap.modeSVG) {\n      const refresh = setInterval(() => {\n        const data: string[] = returnAllId(this.props.options.coordinateSpaceInitial.coordinate, this.props.options.baseMap);\n\n        if (data.length > 0) {\n          for (const line of data) {\n            selectedIDSvg.push({ value: line, label: line });\n          }\n          let defaultSVG: SelectableValue<string> = selectedIDSvg[0];\n          for (const line of selectedIDSvg) {\n            if (line.value === this.state.arrayCoor.idSVG) {\n              defaultSVG = line;\n            }\n          }\n          this.setState({\n            allIDSelected: selectedIDSvg,\n            selectedDefaultSVG: defaultSVG,\n          });\n          clearInterval(refresh);\n        }\n        // else {\n        // \tconsole.error('error search id');\n        // }\n      }, timeRefresh);\n    }\n  };\n\n  /**\n   * fill input with data\n   * this function is called by mount and update event\n   */\n  getDataInInput = async () => {\n    await this.addInput(this.props.coordinate.id);\n    this.fillInputEspaceCoor();\n    this.fillSelectSVG();\n  };\n\n  /** call function in load component */\n  componentDidMount = () => {\n    this.getDataInInput();\n  };\n  // meta\n  saveMetaData = (meta: Metadata[]) => {\n    const old = this.state.arrayCoor;\n    old.meta = meta;\n    this.setState({\n      arrayCoor: old,\n    });\n  };\n\n  /** function is call when props is update. Update state */\n  componentDidUpdate = async (prevProps: Props, prevState: State) => {\n    if (prevProps.coordinate.id !== this.props.coordinate.id) {\n      await this.setStateAsyncArrayCoor({\n        arrayCoor: cloneRegionCoordinateSpace(\n          this.props.coordinate,\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10),\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10),\n          parseInt(this.props.options.baseMap.width, 10),\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10),\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10),\n          parseInt(this.props.options.baseMap.height, 10)\n        ),\n      });\n      await this.setStateAsyncArrayInput({\n        arrayInput: [],\n      });\n      this.getDataInInput();\n    }\n    // if (prevProps.data.series !== this.props.data.series) {\n    // \tthis.fillSelectQuery();\n    // }\n  };\n\n  /** return html */\n  render() {\n    const styleAlert = {\n      position: 'fixed',\n      bottom: '5%',\n      right: '5%',\n      zIndex: 9999,\n    } as CSSProperties;\n\n    return (\n      <div>\n        <div style={styleAlert} hidden={this.state.hiddenAlert}>\n          <Alert title={this.state.titleAlert} severity={this.state.severityAlert} />\n        </div>\n        <div>{this.state.htmlInput}</div>\n        <div>\n          <ManageQuery\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            idCoordinate={this.state.arrayCoor.id}\n            mainMetric={this.state.arrayCoor.mainMetric}\n            callBackToParent={this.callBackMainMetric}\n            isLink={false}\n          />\n        </div>\n        {!this.props.isAddCoordinate && (\n          <div>\n            <ManageAuxiliaryQuery\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              idCoordinate={this.state.arrayCoor.id}\n              metrics={this.state.arrayCoor.metrics}\n              //callBackToParent={this.callBackAuxiliaryMetric}\n              isRegion={true}\n            />\n          </div>\n        )}\n        {!this.props.isAddCoordinate && (\n          <div>\n            <ManageMetadata\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              idCoordinate={this.state.arrayCoor.id}\n              type=\"region\"\n              saveToParent={this.saveMetaData}\n            />\n          </div>\n        )}\n        <div>\n          <ParametresGeneriques\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            coordinateSpace={this.state.arrayCoor}\n            callBackToParent={this.callBackToOther}\n          />\n        </div>\n        <div>\n          <ManageLowerLimit\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            coordinate={this.state.arrayCoor}\n            callBack={this.callBackManageLowerLimit}\n            lowerLimitCallBack={this.callBackLowerLimit}\n            isLink={false}\n          />\n        </div>\n        <div>\n          <PositionParameter\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            callBackToParentZIndex={() => {}}\n            isPoint={false}\n            isLink={false}\n            isRegion={true}\n            id={this.state.arrayCoor.id}\n          />\n        </div>\n        <br />\n        <div>\n          <div className=\"radio\">\n            <label>\n              <input type=\"radio\" value=\"svgMode\" checked={this.state.selectedRadio === 'svgMode'} onChange={this.onChangeRadioMode} />\n              SVG mode\n            </label>\n          </div>\n          <div className=\"radio\">\n            <label>\n              <input type=\"radio\" value=\"coordinateMode\" checked={this.state.selectedRadio === 'coordinateMode'} onChange={this.onChangeRadioMode} />\n              Coordinate mode\n            </label>\n          </div>\n          <br></br>\n          {this.state.selectedRadio === 'svgMode' ? (\n            <div className=\"svgMode\">\n              <div style={{ display: 'flex' }}>\n                <FormLabel width={15}>Zone SVG</FormLabel>\n                <Select\n                  onChange={(value) => this.onChangeSelectSVG(value)}\n                  allowCustomValue={false}\n                  options={this.state.allIDSelected}\n                  width={10}\n                  value={this.state.selectedDefaultSVG}\n                />\n              </div>\n            </div>\n          ) : (\n            <div className=\"classRegion\">\n              <FormField\n                label=\"Image\"\n                labelWidth={15}\n                inputWidth={20}\n                type=\"text\"\n                value={this.state.arrayCoor.img}\n                name=\"image\"\n                onChange={(event) => this._handleChange(event.currentTarget.value, 'image', this.state.arrayCoor.id)}\n              />\n              <FormField\n                label=\"X min\"\n                labelWidth={15}\n                inputWidth={20}\n                type=\"text\"\n                value={this.state.arrayCoor.coords.xMin}\n                name=\"positionXMin\"\n                onChange={(event) => this._handleChange(event.currentTarget.value, 'positionXMin', this.state.arrayCoor.id)}\n              />\n              <FormField\n                label=\"X max\"\n                labelWidth={15}\n                inputWidth={20}\n                type=\"text\"\n                value={this.state.arrayCoor.coords.xMax}\n                name=\"positionXMax\"\n                onChange={(event) => this._handleChange(event.currentTarget.value, 'positionXMax', this.state.arrayCoor.id)}\n              />\n              <FormField\n                label=\"Y min\"\n                labelWidth={15}\n                inputWidth={20}\n                type=\"text\"\n                value={this.state.arrayCoor.coords.yMin}\n                name=\"positionYMin\"\n                onChange={(event) => this._handleChange(event.currentTarget.value, 'positionYMin', this.state.arrayCoor.id)}\n              />\n              <FormField\n                label=\"Y max\"\n                labelWidth={15}\n                inputWidth={20}\n                type=\"text\"\n                value={this.state.arrayCoor.coords.yMax}\n                name=\"positionYMax\"\n                onChange={(event) => this._handleChange(event.currentTarget.value, 'positionYMax', this.state.arrayCoor.id)}\n              />\n            </div>\n          )}\n        </div>\n        <br />\n        <div style={{ textAlign: 'center' }} className=\"buttonSave\">\n          {this.props.isAddCoordinate && (\n            <Button style={{ marginRight: '1%' }} onClick={() => this.callBack()}>\n              Save\n            </Button>\n          )}\n          {!this.props.isAddCoordinate && (\n            <Button onClick={this.deleteOwnInput} variant=\"danger\">\n              Delete\n            </Button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\nexport default CoordinateSpace;\n","import { Background } from 'types';\n\nimport { Coord4D } from 'Models/RegionClass';\n\nexport interface Coor4DNum {\n  xMin: number;\n  xMax: number;\n  yMin: number;\n  yMax: number;\n}\n\n/** verif limit for one coordinate */\n// const verifAllLimit = (n: number, limit: number[], isWith: boolean) => {\n//   //console.log(n);\n//   if (isWith) {\n//     if (limit[0] <= n && limit[1] >= n) {\n//       return true;\n//     }\n//   } else {\n//     if (limit[2] <= n && limit[3] >= n) {\n//       return true;\n//     }\n//   }\n//   return false;\n// };\n\n// /** search all coordinate if attribute is d */\n// const searchOtherLimitDAttribute = (data: string, limit: number[]): boolean => {\n//   const parseWithLetter = [];\n//   const regex = /[a-zA-Z]{1}[0-9.\\W]*/g;\n//   let tmp;\n\n//   do {\n//     tmp = regex.exec(data);\n//     if (tmp) {\n//       parseWithLetter.push(tmp.toString());\n//     }\n//   } while (tmp);\n//   //console.log(parseWithLetter);\n//   for (const line of parseWithLetter) {\n//     const tmpBis: string[] = line.split(' ');\n//     //const tmpTest: string[] = line.split(/,| /);\n\n//     let index = 0;\n//     // console.log(tmpBis);\n//     //console.log(tmpTest);\n//     // console.log(limit);\n//     for (const lineTmp of tmpBis) {\n//       if (lineTmp === '') {\n//         break;\n//       }\n//       if (index !== 0 && index % 2 !== 0) {\n//         if (!verifAllLimit(parseInt(lineTmp, 10), limit, true)) {\n//           //console.log('no');\n//           return true;\n//         }\n//       } else if (index !== 0) {\n//         if (!verifAllLimit(parseInt(lineTmp, 10), limit, false)) {\n//           //console.log('no');\n//           return true;\n//         }\n//       }\n//       ++index;\n//     }\n//   }\n//   //console.log('ok');\n//   return false;\n// };\n\n/** search if x and y are in limit */\n// const searchOtherLimitXYAttribute = (element: HTMLElement, limit: number[], labelX: string, labelY: string): boolean => {\n//   //console.log(element);\n//   const x: number = parseInt(element.getAttribute(labelX) || '0', 10);\n//   const y: number = parseInt(element.getAttribute(labelY) || '0', 10);\n\n//   if (x !== null && y !== null) {\n//     if (verifAllLimit(x, limit, true) && verifAllLimit(y, limit, false)) {\n//       return false;\n//     }\n//   }\n//   return true;\n// };\n\n/** search if x1|2 and y1|2 are in limit */\n// const searchOtherLimitXnYnAttribute = (element: HTMLElement, limit: number[]): boolean => {\n//   const x1: number = parseInt(element.getAttribute('x1') || '0', 10);\n//   const x2: number = parseInt(element.getAttribute('x2') || '0', 10);\n//   const y1: number = parseInt(element.getAttribute('y1') || '0', 10);\n//   const y2: number = parseInt(element.getAttribute('y2') || '0', 10);\n//   if (x1 && x2 && y1 && y2) {\n//     if (verifAllLimit(x1, limit, true) && verifAllLimit(x2, limit, true) && verifAllLimit(y1, limit, false) && verifAllLimit(y2, limit, false)) {\n//       return false;\n//     }\n//   }\n//   return true;\n// };\n\n// /** search if region id svg is in limit */\n// const regionIsOverLimit = (element: HTMLElement | null, limit: number[]): boolean => {\n//   //console.log(element);\n//   if (!element) {\n//     //console.log('1');\n//     return true;\n//   }\n//   let attribute: string | null = element.getAttribute('d');\n//   //console.log(attribute);\n//   if (attribute) {\n//     //console.log('2');\n//     return searchOtherLimitDAttribute(attribute, limit);\n//   }\n//   attribute = element.getAttribute('x');\n//   //console.log(attribute);\n//   if (attribute) {\n//     //console.log('3');\n//     return searchOtherLimitXYAttribute(element, limit, 'x', 'y');\n//   }\n//   attribute = element.getAttribute('x1');\n//   if (attribute) {\n//     //console.log('4');\n//     return searchOtherLimitXnYnAttribute(element, limit);\n//   }\n//   attribute = element.getAttribute('cx');\n//   if (attribute) {\n//     //console.log('5');\n//     return searchOtherLimitXYAttribute(element, limit, 'cx', 'cy');\n//   }\n//   return true;\n// };\n\n/** convert initial percent coordinate from -100 -> 100 to 0 -> 100 */\nconst convertInitialCoordinate = (n: number) => {\n  const midPercent = 50;\n\n  n = n >= 0 ? (n / 2 || 0) + midPercent : -n / 2 - midPercent;\n  return n;\n};\n\nexport const pixelToPercent = (coordinate: Coord4D, baseMap: Background): Coor4DNum => {\n  const limit: number[] = [\n    parseInt(coordinate.xMin, 10),\n    parseInt(coordinate.xMax, 10),\n    parseInt(coordinate.yMin, 10),\n    parseInt(coordinate.yMax, 10),\n  ];\n\n  limit[0] = convertInitialCoordinate(limit[0]);\n  limit[1] = convertInitialCoordinate(limit[1]);\n  limit[2] = convertInitialCoordinate(limit[2]);\n  limit[3] = convertInitialCoordinate(limit[3]);\n\n  const sizeHeight: number = parseInt(baseMap.height, 10);\n  const sizeWidth: number = parseInt(baseMap.width, 10);\n  const percent = 100;\n\n  limit[0] = limit[0] / percent || 0;\n  limit[0] = sizeWidth * limit[0];\n  limit[1] = limit[1] / percent || 0;\n  limit[1] = sizeWidth * limit[1];\n  limit[2] = limit[2] / percent || 0;\n  limit[2] = sizeHeight * limit[2];\n  limit[3] = limit[3] / percent || 0;\n  limit[3] = sizeHeight * limit[3];\n  return {\n    xMin: limit[0],\n    xMax: limit[1],\n    yMin: limit[2],\n    yMax: limit[3],\n  };\n};\n\n/** return all id list in principal id */\nexport const returnAllId = (coordinate: Coord4D, baseMap: Background): string[] => {\n  const arrId: string[] = [];\n  const arrIdVerif: string[] = [];\n  const listElement: NodeListOf<Element> | undefined = document.getElementById(baseMap.idSVG)?.querySelectorAll('*[id]');\n  //console.log(listElement);\n  // const filtered = [listElement].filter();\n  //     function(e) {\n  //       return\n  //     },\n  //     [octpath,octrect,octellipse]\n  // );\n\n  //console.log(listElement);\n\n  if (listElement) {\n    // const limit: number[] = [\n    //   parseInt(coordinate.xMin, 10),\n    //   parseInt(coordinate.xMax, 10),\n    //   parseInt(coordinate.yMin, 10),\n    //   parseInt(coordinate.yMax, 10),\n    // ];\n\n    // limit[0] = convertInitialCoordinate(limit[0]);\n    // limit[1] = convertInitialCoordinate(limit[1]);\n    // limit[2] = convertInitialCoordinate(limit[2]);\n    // limit[3] = convertInitialCoordinate(limit[3]);\n\n    // const sizeHeight: number = parseInt(baseMap.height, 10);\n    // const sizeWidth: number = parseInt(baseMap.width, 10);\n    // const percent = 100;\n\n    // limit[0] = limit[0] / percent || 0;\n    // limit[0] = sizeWidth * limit[0];\n    // limit[1] = limit[1] / percent || 0;\n    // limit[1] = sizeWidth * limit[1];\n    // limit[2] = limit[2] / percent || 0;\n    // limit[2] = sizeHeight * limit[2];\n    // limit[3] = limit[3] / percent || 0;\n    // limit[3] = sizeHeight * limit[3];\n    // const coordInt = pixelToPercent(coordinate, baseMap);\n    // const limit: number[] = [coordInt.xMin, coordInt.xMax, coordInt.yMin, coordInt.yMax];\n    Array.from(listElement).forEach((e: Element) => {\n      //console.log(e);\n      // if (!regionIsOverLimit(document.getElementById(e.id), limit)) {\n      //   //console.log('is pushed');\n      //   arrId.push(e.id);\n      // }\n      if (e.localName === 'path' || e.localName === 'rect' || e.localName === 'ellipse') {\n        arrId.push(e.id);\n      }\n      arrIdVerif.push(e.id);\n    });\n    //console.log(arrId.length);\n    arrId.sort((a: string, b: string) => {\n      if (a < b) {\n        return -1;\n      }\n      if (a > b) {\n        return 1;\n      }\n      return 0;\n    });\n  } else {\n    console.error('id svg not found');\n  }\n  return arrId;\n};\n","import { SelectableValue } from '@grafana/data';\n/**\n * class InputClass\n */\nexport class InputSelectableClass {\n  id: string;\n  label: string;\n  name: string;\n  input_type: string;\n  required: boolean;\n  optionValues: Array<SelectableValue<any>>;\n  defaultValueColor: string;\n  placeholder?: string;\n  value?: string;\n\n  constructor(\n    id: string,\n    label: string,\n    name: string,\n    input_type: string,\n    optionValues: Array<SelectableValue<any>>,\n    defaultValueColor: string,\n    required: boolean,\n    placeholder?: string,\n    value?: string\n  ) {\n    this.id = id;\n    this.label = label;\n    this.name = name;\n    this.input_type = input_type;\n    this.optionValues = optionValues;\n    this.defaultValueColor = defaultValueColor;\n    this.required = required;\n    this.placeholder = placeholder;\n    this.value = value;\n  }\n\n  getId() {\n    return this.id;\n  }\n\n  setId(id: string) {\n    this.id = id;\n  }\n\n  getLabel(): string {\n    return this.label;\n  }\n\n  setLabel(label: string) {\n    this.label = label;\n  }\n\n  getName() {\n    return this.name;\n  }\n\n  setName(name: string) {\n    this.name = name;\n  }\n\n  getInputType() {\n    return this.input_type;\n  }\n\n  setInputType(input_type: string) {\n    this.input_type = input_type;\n  }\n\n  getRequired() {\n    return this.required;\n  }\n\n  setRequired(required: boolean) {\n    this.required = required;\n  }\n\n  getPlaceholder() {\n    return this.placeholder;\n  }\n\n  setPlaceholder(placeholder: string) {\n    this.placeholder = placeholder;\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  setValue(value: string) {\n    this.value = value;\n  }\n\n  getOptionValues() {\n    return this.optionValues;\n  }\n\n  setOptionValues(optionValues: Array<SelectableValue<any>>) {\n    this.optionValues = optionValues;\n  }\n\n  getDefaultValueColor() {\n    return this.defaultValueColor;\n  }\n\n  setDefaultValueColor(defaultValueColor: string) {\n    this.defaultValueColor = defaultValueColor;\n  }\n}\n","import { InputSelectableClass } from 'Models/InputSelectableClass';\n//import { SelectableValue } from '@grafana/data';\n//import { RegionClass } from 'Models/RegionClass';\n\nexport const createInputsPoint = (id: number): InputSelectableClass[] => {\n  const newFieldDrawGraphicMarker: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'drawGraphicMarker',\n    'Display ',\n    'drawGraphicMarker' + id.toString(),\n    'select',\n    [\n      { value: 'true', label: 'Yes' },\n      { value: 'false', label: 'No' },\n    ],\n    '',\n    true,\n    'drawGraphicMarker',\n    undefined\n  );\n  const newFieldShape: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'shape',\n    'Shape',\n    'shape' + id.toString(),\n    'select',\n    [\n      { value: 'none', label: 'None' },\n      { value: 'circle', label: 'Circle' },\n      { value: 'square', label: 'Square' },\n      { value: 'diamond', label: 'Diamond' },\n    ],\n    '',\n    true,\n    'Shape',\n    undefined\n  );\n  const newFieldSizeWidthShape: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'sizeWidth',\n    'Size (px)',\n    'sizeWidth' + id.toString(),\n    'text',\n    // [\n    //   { value: 'small', label: 'Small' },\n    //   { value: 'medium', label: 'Medium' },\n    //   { value: 'large', label: 'Large' },\n    // ],\n    [],\n    '',\n    true,\n    'SizeWidth',\n    undefined\n  );\n  const newFieldSizeHeightShape: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'sizeHeight',\n    'Width',\n    'sizeHeight' + id.toString(),\n    'select',\n    [\n      { value: 'small', label: 'Small' },\n      { value: 'medium', label: 'Medium' },\n      { value: 'large', label: 'Large' },\n    ],\n    '',\n    true,\n    'SizeHeight',\n    undefined\n  );\n  const newFieldRotateArrow: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'rotateArrow',\n    'Orientation',\n    'rotateArrow' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'RotateArrow',\n    undefined\n  );\n  const newFieldPositionXShape: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'positionShapeX',\n    'Position X',\n    'positionShapeX' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'Position X Shape',\n    undefined\n  );\n  const newFieldPositionYShape: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'positionShapeY',\n    'Position Y',\n    'positionShapeY' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'Position Y Shape',\n    undefined\n  );\n  const newFieldLabel: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'labelPoint',\n    'Label',\n    'labelPoint' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'Label',\n    undefined\n  );\n  const newFieldButton: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'deletePoint',\n    'Delete',\n    'delete' + id.toString(),\n    'button',\n    [],\n    '',\n    true,\n    undefined,\n    'Delete'\n  );\n\n  const finalArray: InputSelectableClass[] = [\n    newFieldLabel,\n    newFieldDrawGraphicMarker,\n    newFieldShape,\n    newFieldSizeWidthShape,\n    newFieldSizeHeightShape,\n    newFieldRotateArrow,\n    newFieldPositionXShape,\n    newFieldPositionYShape,\n    newFieldButton,\n  ];\n  return finalArray;\n};\n","import { FormField } from '@grafana/ui';\nimport React, { ChangeEvent, FunctionComponent } from 'react';\n// import { SelectableValue } from '@grafana/data';\n\n/**\n * props\n */\ntype InputTextFieldProps = {\n  label: string;\n  name: string;\n  placeholder: string;\n  required: boolean;\n  value: string;\n  _handleChange: (event: ChangeEvent<HTMLInputElement>) => any;\n  shape: string;\n};\n\nexport const InputTextPoint: FunctionComponent<InputTextFieldProps> = ({ label, name, placeholder, required, value, _handleChange, shape }) => {\n  if (name !== undefined) {\n    if (shape !== 'arrow' && name.startsWith('rotateArrow')) {\n      return <div></div>;\n    } else {\n      return (\n        <div>\n          <FormField\n            label={label}\n            labelWidth={15}\n            inputWidth={20}\n            type=\"text\"\n            required={required}\n            name={name}\n            value={value}\n            onChange={_handleChange}\n            placeholder={placeholder}\n          />\n        </div>\n      );\n    }\n  } else {\n    return (\n      <div>\n        <FormField\n          label={label}\n          labelWidth={15}\n          inputWidth={20}\n          type=\"text\"\n          required={required}\n          name={name}\n          value={value}\n          onChange={_handleChange}\n          placeholder={placeholder}\n        />\n      </div>\n    );\n  }\n};\n\nexport default InputTextPoint;\n","import { InputSelectableClass } from './InputSelectableClass';\n\n/**\n * class ArayInput\n * @param id number\n * @param uneClassInput InputClass[]\n */\nexport class ArrayInputSelectableClass {\n  /**\n   * id\n   */\n  id: number;\n  /**\n   * array class InputClass\n   */\n  uneClassInput: InputSelectableClass[];\n\n  constructor(id: number, uneClassInput: InputSelectableClass[]) {\n    this.id = id;\n    this.uneClassInput = uneClassInput;\n  }\n\n  /**\n   * get id\n   */\n  getId() {\n    return this.id;\n  }\n\n  /**\n   * set id\n   * @param id new id\n   */\n  setId(id: number) {\n    this.id = id;\n  }\n\n  /**\n   * get value of InputClass[]\n   */\n  getUneClassInput() {\n    return this.uneClassInput;\n  }\n\n  /**\n   * set a new InputClass[]\n   * @param uneClassInput new object InputClass[]\n   */\n  setUneClassInput(uneClassInput: InputSelectableClass[]) {\n    this.uneClassInput = uneClassInput;\n  }\n}\n","import { PointClass } from 'Models/PointClass';\nimport { SelectableValue } from '@grafana/data';\n\n/**\n * Edit the parameter in Coor object\n * @param {string} name parameter to edit\n * @param {Coor} editCoor object to edit\n * @param {string} newValue value to insert in the parameter\n * @returns {Coor} object edit\n */\nexport const editGoodParameterPoint = (name: string, editCoor: PointClass, newValue: string, newValueSelect: SelectableValue<any>): PointClass => {\n  if (name.startsWith('label')) {\n    editCoor.label = newValue;\n  } else if (name.startsWith('drawGraphicMarker')) {\n    editCoor.drawGraphicMarker = newValueSelect;\n  } else if (name.startsWith('shape')) {\n    editCoor.shape = newValueSelect;\n  } else if (name.startsWith('sizeWidth')) {\n    editCoor.sizeWidth = newValue;\n  } else if (name.startsWith('sizeHeight')) {\n    editCoor.sizeHeight = newValueSelect;\n  } else if (name.startsWith('rotateArrow')) {\n    editCoor.rotateArrow = newValue;\n  } else if (name.startsWith('positionShapeX')) {\n    editCoor.positionShapeX = newValue;\n  } else if (name.startsWith('positionShapeY')) {\n    editCoor.positionShapeY = newValue;\n  } else if (name.startsWith('color')) {\n    editCoor.color = newValue;\n  } else if (name.startsWith('refIdMainMetric')) {\n    editCoor.mainMetric.refId = newValue;\n  } else if (name.startsWith('keyMainMetric')) {\n    editCoor.mainMetric.key = newValue;\n  } else if (name.startsWith('keyValueMainMetric')) {\n    editCoor.mainMetric.keyValue = newValue;\n  }\n  return editCoor;\n};\n","import React, { FunctionComponent } from 'react';\nimport { Select, FormLabel } from '@grafana/ui';\nimport { SelectableValue } from '@grafana/data';\n\ntype InputSelectProps = {\n  _onChange: Function;\n  data: Array<SelectableValue<string>>;\n  defaultValue: SelectableValue<string>;\n  index?: number;\n  name?: string;\n  shape?: string;\n  label?: string;\n};\n\nconst InputSelectPoint: FunctionComponent<InputSelectProps> = ({ _onChange, data, index, defaultValue, name, shape, label }) => {\n  if (name !== undefined) {\n    if (shape !== 'arrow' && name.startsWith('sizeHeight')) {\n      return <div></div>;\n    } else {\n      return (\n        <div\n          style={{\n            display: 'flex',\n            marginBottom: '2px',\n          }}\n        >\n          <FormLabel width={15}>{label}</FormLabel>\n          <Select onChange={(value) => _onChange(value, name, index)} allowCustomValue={false} options={data} value={defaultValue} width={20} />\n        </div>\n      );\n    }\n  } else {\n    return (\n      <div\n        style={{\n          display: 'flex',\n          marginBottom: '2px',\n        }}\n      >\n        <FormLabel width={15}>{label}</FormLabel>\n        <Select onChange={(value) => _onChange(value, name, index)} allowCustomValue={false} options={data} value={defaultValue} width={20} />\n      </div>\n    );\n  }\n};\n\nexport default InputSelectPoint;\n","import React, { CSSProperties } from 'react';\nimport { createInputsPoint } from '../../../Functions/CreateInput/createInputsPoint';\nimport InputTextPoint from '../../../Functions/Input/inputTextPoint';\nimport { InputSelectableClass } from '../../../Models/InputSelectableClass';\nimport { ArrayInputSelectableClass } from '../../../Models/ArrayInputSelectableClass';\nimport { editGoodParameterPoint } from '../../../Functions/EditParameter/editGoodParameterPoint';\nimport { PointClass } from '../../../Models/PointClass';\nimport InputSelectPoint from '../../../Functions/Input/inputSelectPoint';\nimport { SelectableValue, PanelEditorProps } from '@grafana/data';\nimport { Button, AlertVariant, Alert } from '@grafana/ui';\nimport { SimpleOptions, Metric, Metadata } from '../../../types';\n\nimport ManageQuery from '../manageQuery';\nimport ManageAuxiliaryQuery from '../manageAuxiliaryQuery';\nimport { TextObject } from '../../../Models/TextObjectClass';\nimport { CoordinateSpaceClass } from '../../../Models/CoordinateSpaceClass';\nimport { LowerLimitClass } from '../../../Models/LowerLimitClass';\nimport PositionParameter from '../../Parametrage/positionParameters';\nimport ParametresGeneriques from '../../Parametrage/parametresGeneriques';\nimport ManageLowerLimit from '../../Parametrage/manageLowerLimit';\nimport { clonePoint } from 'Functions/initPoint';\nimport ManageMetadata from 'components/CoordinateSpace/manageMetada';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n\n/**\n * IProps\n */\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /**\n   * save data in Parent\n   */\n  callBackToParent: (id: number, newCoordinate?: PointClass) => void;\n\n  /** point to edit */\n  point: PointClass;\n\n  isAddPoint: boolean;\n\n  id?: number;\n}\n\n/**\n * IState\n */\ninterface State {\n  /** */\n  arrayCoor: PointClass;\n  /** */\n  arrayInput: ArrayInputSelectableClass[];\n  /** */\n  //arrayPointClass: PointClass[];\n  /** */\n  point: PointClass;\n  /** */\n  htmlInput: JSX.Element;\n  /** display alert when form error */\n  hiddenAlert: boolean;\n  /** text to display alert */\n  titleAlert: string;\n  /** alert type */\n  severityAlert: AlertVariant;\n}\n\n/**\n * IndexParametrage\n */\nexport default class Point extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      point: clonePoint(\n        this.props.point,\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10),\n        parseInt(this.props.options.baseMap.width, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10),\n        parseInt(this.props.options.baseMap.height, 10)\n      ),\n      arrayCoor: clonePoint(\n        this.props.point,\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10),\n        parseInt(this.props.options.baseMap.width, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10),\n        parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10),\n        parseInt(this.props.options.baseMap.height, 10)\n      ),\n      arrayInput: [],\n      //arrayPointClass: [],\n      htmlInput: <div></div>,\n      hiddenAlert: true,\n      titleAlert: 'Error: label is empty',\n      severityAlert: 'error',\n    };\n  }\n\n  /** update state with promise */\n  setStateAsyncArrayCoor = (state: {\n    /** new espace coordinate */\n    point: PointClass;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** update state with promise */\n  setStateAsyncArrayInput = (state: {\n    /** new line in array input */\n    arrayInput: ArrayInputSelectableClass[];\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** add inputs for a new coordiante */\n  addInput = async (id: number) => {\n    await this.setStateAsyncArrayInput({\n      arrayInput: this.state.arrayInput.concat([new ArrayInputSelectableClass(id, createInputsPoint(id))]),\n    });\n  };\n\n  /**\n   * Delete array input and value\n   * @param {event} event event click delete button\n   */\n  deleteOwnInput = (): void => {\n    const label = this.state.point.label || this.state.point.name;\n    const del: boolean = confirm('Delete \"' + label + '\" ?');\n    // alert(del);\n    if (del) {\n      this.props.callBackToParent(this.state.point.id, undefined);\n    }\n  };\n\n  /**\n   * Use function if value input change\n   * @param {string} currentTarget new value of input\n   * @param {string} name name of input\n   * @param {number} index id of input\n   */\n  _handleChange(currentTarget: string, name: string, index: number): void {\n    let tmp: PointClass = this.state.point;\n\n    // UPDATE PositionXdefault\n    const widthBackground = parseInt(this.props.options.baseMap.width, 10);\n    const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const widthInitialSpace = xMaxInitialSpace - xMinInitialSpace;\n    if (name.startsWith('positionShapeX')) {\n      tmp.positionXDefault = (((parseInt(currentTarget, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n    }\n\n    // UPDATE PositionYdefault\n    const heightBackground = parseInt(this.props.options.baseMap.height, 10);\n    const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    const heightInitialSpace = yMaxInitialSpace - yMinInitialSpace;\n    if (name.startsWith('positionShapeY')) {\n      tmp.positionYDefault = (((parseInt(currentTarget, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n    }\n\n    // update point attribut\n    tmp = editGoodParameterPoint(name, tmp, currentTarget, {});\n    this.setState({\n      point: tmp,\n    });\n    this.generateInputsPoint();\n    if (this.props.isAddPoint === false) {\n      this.callBack();\n    }\n  }\n\n  /**\n   * Get value of input with state.arrayPointClass\n   * @param {number} id id of element\n   * @param {string} param name of input\n   * @returns {string} value of the array element\n   */\n  private getGoodValue(param: string): any {\n    let value: string;\n    let valueSelect: SelectableValue<any>;\n\n    value = '';\n    valueSelect = {};\n\n    if (\n      param.startsWith('drawGraphicMarker') ||\n      param.startsWith('shape') ||\n      //param.startsWith('sizeWidth') ||\n      param.startsWith('sizeHeight') ||\n      param.startsWith('linkWithCoordinateSpace')\n    ) {\n      if (param.startsWith('drawGraphicMarker')) {\n        valueSelect = this.state.point.drawGraphicMarker;\n      } else if (param.startsWith('shape')) {\n        valueSelect = this.state.point.shape;\n      } else if (param.startsWith('sizeWidth')) {\n        //value = this.state.point.sizeWidth;\n      } else if (param.startsWith('sizeHeight')) {\n        valueSelect = this.state.point.sizeHeight;\n      }\n      return valueSelect;\n    } else {\n      if (param.startsWith('rotateArrow')) {\n        value = this.state.point.rotateArrow;\n      } else if (param.startsWith('positionShapeX')) {\n        value = this.state.point.positionShapeX;\n      } else if (param.startsWith('positionShapeY')) {\n        value = this.state.point.positionShapeY;\n      } else if (param.startsWith('label')) {\n        value = this.state.point.label;\n      } else if (param.startsWith('color')) {\n        value = this.state.point.color;\n      } else if (param.startsWith('sizeWidth')) {\n        value = this.state.point.sizeWidth;\n      }\n      return value;\n    }\n  }\n\n  /** create dynamic input */\n  generateInputsPoint(): void {\n    const { arrayInput } = this.state;\n    let item: JSX.Element = <div></div>;\n    let finalItem: JSX.Element[] = [];\n\n    for (const line of arrayInput) {\n      const mapItems: JSX.Element[] = [];\n      line.uneClassInput.forEach((obj: InputSelectableClass) => {\n        if (obj.input_type === 'text') {\n          item = (\n            <InputTextPoint\n              key={obj.id}\n              label={obj.label}\n              name={obj.name}\n              placeholder={obj.placeholder || ''}\n              required={obj.required}\n              value={this.getGoodValue(obj.name)}\n              _handleChange={(event: {\n                /**\n                 * get currentTarget in event element\n                 */\n                currentTarget: HTMLInputElement;\n              }) => {\n                this._handleChange(event.currentTarget.value, obj.name, line.id);\n              }}\n              shape={this.getGoodValue('shape').value}\n            />\n          );\n        } else if (obj.input_type === 'select') {\n          item = (\n            <InputSelectPoint\n              key={obj.id}\n              _onChange={(value: SelectableValue<string>, name: string, index: number) => {\n                const newPoint: PointClass = this.state.point;\n                editGoodParameterPoint(\n                  name,\n                  newPoint,\n                  '',\n                  value\n                  //this.props.options.arrayPoints[this.props.id || 0],\n                );\n                this.setState({\n                  point: newPoint,\n                });\n                this.generateInputsPoint();\n                if (this.props.isAddPoint === false) {\n                  this.callBack();\n                }\n              }}\n              name={obj.name}\n              index={line.id}\n              data={obj.optionValues}\n              defaultValue={this.getGoodValue(obj.name)}\n              shape={this.getGoodValue('shape').value}\n              label={obj.label}\n            />\n          );\n        } else {\n          item = <div key={obj.id}></div>;\n        }\n        mapItems.push(item);\n      });\n\n      const newInputList: JSX.Element = (\n        <div key={'inputPoint' + line.id.toString()} className=\"inputCoor\" id={'point' + line.id.toString()}>\n          {mapItems}\n        </div>\n      );\n      finalItem = finalItem.concat(newInputList);\n    }\n    this.setState((prevState: State) => ({\n      htmlInput: <ul>{finalItem}</ul>,\n    }));\n  }\n\n  /** call function to return arrayCoor a SimpleEditor */\n  callBack = (): void => {\n    const waitAlert = 3000;\n\n    if (this.state.point.label === '') {\n      this.setState({\n        severityAlert: 'error',\n        titleAlert: 'Error: label is empty',\n        hiddenAlert: false,\n      });\n      setTimeout(() => {\n        this.setState({\n          hiddenAlert: true,\n        });\n      }, waitAlert);\n      //console.log('ok');\n    } else {\n      this.props.callBackToParent(this.state.point.id, this.state.point);\n      this.setState({\n        severityAlert: 'success',\n        titleAlert: 'Save',\n        hiddenAlert: false,\n      });\n      if (!this.props.isAddPoint) {\n        setTimeout(() => {\n          this.setState({\n            hiddenAlert: true,\n          });\n        }, waitAlert);\n      }\n    }\n  };\n\n  private callBackToOther = (linkUrl?: LinkURLClass, textObj?: TextObject): void => {\n    const oldCoor: PointClass = this.state.point;\n    if (linkUrl) {\n      oldCoor.linkURL.followLink = linkUrl.followLink;\n      oldCoor.linkURL.hoveringTooltipLink = linkUrl.hoveringTooltipLink;\n      oldCoor.linkURL.hoveringTooltipText = linkUrl.hoveringTooltipText;\n    }\n    if (textObj) {\n      oldCoor.textObj = textObj;\n    }\n    this.setState({\n      point: oldCoor,\n    });\n    if (this.props.isAddPoint === false) {\n      this.callBack();\n    }\n  };\n\n  /** update lower limit */\n  private callBackManageLowerLimit = (coordinate: CoordinateSpaceClass, id?: number) => {\n    const newValue: PointClass = this.state.point;\n    newValue.colorMode = coordinate.colorMode;\n    newValue.traceBorder = coordinate.traceBorder;\n    newValue.traceBack = coordinate.traceBack;\n    this.setState({\n      point: newValue,\n    });\n    if (this.props.isAddPoint === false) {\n      this.callBack();\n    }\n  };\n\n  /** save lower limit data */\n  private callBackLowerLimit = (lowerLimit: LowerLimitClass[], id?: number) => {\n    const newValue: PointClass = this.state.point;\n    newValue.lowerLimit = lowerLimit;\n    this.setState({\n      point: newValue,\n    });\n    if (this.props.isAddPoint === false) {\n      this.callBack();\n    }\n  };\n\n  private callBackMainMetric = (mainMetric: Metric, id?: number): void => {\n    const newValue: PointClass = this.state.point;\n    newValue.mainMetric = mainMetric;\n    this.setState({\n      point: newValue,\n    });\n    if (this.props.isAddPoint === false) {\n      this.callBack();\n    }\n  };\n\n  /**\n   * fill input with data\n   * this function is called by mount and update event\n   */\n  getDataInInput = async () => {\n    await this.addInput(this.props.point.id);\n    this.generateInputsPoint();\n  };\n\n  /** call function in load component */\n  componentDidMount = () => {\n    this.getDataInInput();\n  };\n  // Meta\n  saveMetaData = (meta: Metadata[]) => {\n    const old = this.state.arrayCoor;\n    old.meta = meta;\n    this.setState({\n      arrayCoor: old,\n    });\n  };\n  /** function is call when props is update. Update state */\n  componentDidUpdate = async (prevProps: Props, prevState: State) => {\n    if (prevProps.point.id !== this.props.point.id) {\n      await this.setStateAsyncArrayCoor({\n        point: clonePoint(\n          this.props.point,\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10),\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10),\n          parseInt(this.props.options.baseMap.width, 10),\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10),\n          parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10),\n          parseInt(this.props.options.baseMap.height, 10)\n        ),\n      });\n      await this.setStateAsyncArrayInput({\n        arrayInput: [],\n      });\n      this.getDataInInput();\n    }\n    // if (prevProps.data.series !== this.props.data.series) {\n    // \tthis.fillSelectQuery();\n    // }\n  };\n\n  /**\n   * render()\n   */\n  render() {\n    const styleAlert = {\n      position: 'fixed',\n      bottom: '5%',\n      right: '5%',\n      zIndex: 9999,\n    } as CSSProperties;\n\n    return (\n      <div>\n        <div style={styleAlert} hidden={this.state.hiddenAlert}>\n          <Alert title={this.state.titleAlert} severity={this.state.severityAlert} />\n        </div>\n        <div>\n          <ManageQuery\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            idCoordinate={this.state.point.id}\n            mainMetric={this.state.point.mainMetric}\n            callBackToParent={this.callBackMainMetric}\n            isLink={false}\n          />\n        </div>\n        {!this.props.isAddPoint && (\n          <div>\n            <ManageAuxiliaryQuery\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              idCoordinate={this.state.point.id}\n              metrics={this.state.point.metrics}\n              //callBackToParent={this.callBackAuxiliaryMetric}\n              isPoint={true}\n            />\n          </div>\n        )}\n        {!this.props.isAddPoint && (\n          <div>\n            <ManageMetadata\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              idCoordinate={this.state.point.id}\n              type=\"point\"\n              saveToParent={this.saveMetaData}\n            />\n          </div>\n        )}\n        <div>\n          <ParametresGeneriques\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            coordinateSpace={this.state.point}\n            callBackToParent={this.callBackToOther}\n          />\n        </div>\n\n        <div>\n          <ManageLowerLimit\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            coordinate={this.state.point}\n            callBack={this.callBackManageLowerLimit}\n            lowerLimitCallBack={this.callBackLowerLimit}\n            isLink={false}\n          />\n        </div>\n        <div>\n          <PositionParameter\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            callBackToParentZIndex={() => {}}\n            isPoint={true}\n            isLink={false}\n            isRegion={false}\n            id={this.state.point.id}\n          />\n        </div>\n        <div>{this.state.htmlInput}</div>\n        <div style={{ textAlign: 'center' }} className=\"buttonSave\">\n          {this.props.isAddPoint && (\n            <Button style={{ marginRight: '1%' }} onClick={() => this.callBack()}>\n              Save\n            </Button>\n          )}\n          {!this.props.isAddPoint && (\n            <Button onClick={this.deleteOwnInput} variant=\"danger\">\n              Delete\n            </Button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import { FormField } from '@grafana/ui';\nimport React, { ChangeEvent, FunctionComponent } from 'react';\nimport { SelectableValue } from '@grafana/data';\n\n/**\n * props\n */\ntype InputTextFieldProps = {\n  label: string;\n  name: string;\n  placeholder: string;\n  required: boolean;\n  value: string;\n  _handleChange: (event: ChangeEvent<HTMLInputElement>) => any;\n  isIncurved: SelectableValue<boolean>;\n};\n\nexport const InputTextOrientedLink: FunctionComponent<InputTextFieldProps> = ({\n  label,\n  name,\n  placeholder,\n  required,\n  value,\n  _handleChange,\n  isIncurved,\n}) => {\n  if (name.startsWith('pointCX') || name.startsWith('pointCY')) {\n    if (isIncurved.value) {\n      return (\n        <div>\n          <FormField\n            label={label}\n            labelWidth={15}\n            inputWidth={20}\n            type=\"text\"\n            required={required}\n            name={name}\n            value={value}\n            onChange={_handleChange}\n            placeholder={placeholder}\n          />\n        </div>\n      );\n    } else {\n      return <div></div>;\n    }\n  } else {\n    return (\n      <div>\n        <FormField\n          label={label}\n          labelWidth={15}\n          inputWidth={20}\n          type=\"text\"\n          required={required}\n          name={name}\n          value={value}\n          onChange={_handleChange}\n          placeholder={placeholder}\n        />\n      </div>\n    );\n  }\n};\n\nexport default InputTextOrientedLink;\n","import React, { FunctionComponent } from 'react';\nimport { Select, FormLabel } from '@grafana/ui';\nimport { SelectableValue } from '@grafana/data';\n\ntype InputSelectProps = {\n  _onChange: Function;\n  data: Array<SelectableValue<string>>;\n  defaultValue: SelectableValue<string>;\n  name: string;\n  index?: number;\n  label?: string;\n};\n\nconst InputSelectOrientedLink: FunctionComponent<InputSelectProps> = ({ _onChange, data, index, defaultValue, name, label }) => {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        marginBottom: '2px',\n      }}\n    >\n      <FormLabel width={15}>{label}</FormLabel>\n      <Select onChange={(value) => _onChange(value, name, index)} allowCustomValue={false} options={data} value={defaultValue} width={20} />\n    </div>\n  );\n};\n\nexport default InputSelectOrientedLink;\n","import { InputSelectableClass } from 'Models/InputSelectableClass';\nimport { SelectableValue } from '@grafana/data';\n\nexport const createInputsOrientedLink = (\n  id: number,\n  dataCoordinateSpace: Array<SelectableValue<string>>,\n  dataPoint: Array<SelectableValue<string>>\n): InputSelectableClass[] => {\n  const newFieldOrientationLink: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'orientationLink',\n    'Orientation',\n    'orientationLink' + id.toString(),\n    'select',\n    [\n      { label: 'Nodirectional', value: 'no' },\n      { label: 'Monodirectional', value: 'AB' },\n      { label: 'Bidirectional', value: 'double' },\n    ],\n    '',\n    true,\n    'Orientation',\n    undefined\n  );\n  const newFieldSize: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'size',\n    'Size (px)',\n    'size' + id.toString(),\n    'text',\n    // [\n    //   { value: 'Small', label: 'Small' },\n    //   { value: 'Medium', label: 'Medium' },\n    //   { value: 'Large', label: 'Large' },\n    // ],\n    [],\n    '',\n    true,\n    'Size',\n    undefined\n  );\n  const newFieldPointAPositionX: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointAX',\n    'CoordinateClick A - X',\n    'pointAX' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'PointA-X',\n    undefined\n  );\n  const newFieldPointAPositionY: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointAY',\n    'CoordinateClick A - Y',\n    'pointAY' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'PointA-Y',\n    undefined\n  );\n  const newFieldPointBPositionX: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointBX',\n    'CoordinateClick B - X',\n    'pointBX' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'PointB-X',\n    undefined\n  );\n  const newFieldPointBPositionY: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointBY',\n    'CoordinateClick B - Y',\n    'pointBY' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'PointB-Y',\n    undefined\n  );\n  const newFieldLabelLink: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'labelLink',\n    'Label',\n    'label' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'Label',\n    undefined\n  );\n  const newFieldRegionIn: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'regionIn',\n    'AssociateRegionIn',\n    'regionIn' + id.toString(),\n    'select',\n    dataCoordinateSpace,\n    '',\n    true,\n    'Associate Region In',\n    undefined\n  );\n  const newFieldRegionOut: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'regionOut',\n    'AssociateRegionOut',\n    'regionOut' + id.toString(),\n    'select',\n    dataCoordinateSpace,\n    '',\n    true,\n    'Associate Region Out',\n    undefined\n  );\n  const newFieldPointIn: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointIn',\n    'AssociatePointIn',\n    'pointIn' + id.toString(),\n    'select',\n    dataPoint,\n    '',\n    true,\n    'Associate Point In',\n    undefined\n  );\n  const newFieldPointOut: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointOut',\n    'AssociatePointOut',\n    'pointOut' + id.toString(),\n    'select',\n    dataPoint,\n    '',\n    true,\n    'Associate Point Out',\n    undefined\n  );\n  const newFieldIsIncurved: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'isIncurved',\n    'Incurved',\n    'isIncurved' + id.toString(),\n    'select',\n    [\n      { label: 'Yes', value: true },\n      { label: 'No', value: false },\n    ],\n    '',\n    true,\n    'Incurved',\n    undefined\n  );\n  const newFieldPointCPositionX: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointCX',\n    'CoordinateClick C - X',\n    'pointCX' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'PointC-X',\n    undefined\n  );\n  const newFieldPointCPositionY: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'pointCY',\n    'CoordinateClick C - Y',\n    'pointCY' + id.toString(),\n    'text',\n    [],\n    '',\n    true,\n    'PointC-Y',\n    undefined\n  );\n  const newFieldButton: InputSelectableClass = new InputSelectableClass(\n    id.toString() + 'deleteLink',\n    'Delete',\n    'delete' + id.toString(),\n    'button',\n    [],\n    '',\n    false,\n    undefined,\n    'delete'\n  );\n\n  const finalArray: InputSelectableClass[] = [\n    newFieldLabelLink,\n    newFieldOrientationLink,\n    newFieldSize,\n    newFieldPointIn,\n    newFieldRegionIn,\n    newFieldPointAPositionX,\n    newFieldPointAPositionY,\n    newFieldPointOut,\n    newFieldRegionOut,\n    newFieldPointBPositionX,\n    newFieldPointBPositionY,\n    newFieldIsIncurved,\n    newFieldPointCPositionX,\n    newFieldPointCPositionY,\n    newFieldButton,\n  ];\n  return finalArray;\n};\n","import { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { SelectableValue } from '@grafana/data';\n\n/**\n * Edit the parameter in Coor object\n * @param {string} name parameter to edit\n * @param {Coor} editCoor object to edit\n * @param {string} newValue value to insert in the parameter\n * @returns {Coor} object edit\n */\nexport const editGoodParameterOrientedLink = (\n  name: string,\n  editCoor: OrientedLinkClass,\n  newValue: string,\n  newValueSelect: SelectableValue<any>\n): OrientedLinkClass => {\n  if (name.startsWith('label')) {\n    editCoor.label = newValue;\n  } else if (name.startsWith('orientationLink')) {\n    editCoor.orientationLink = newValueSelect;\n  } else if (name.startsWith('pointAX')) {\n    editCoor.pointAPositionX = newValue;\n  } else if (name.startsWith('pointAY')) {\n    editCoor.pointAPositionY = newValue;\n  } else if (name.startsWith('pointBX')) {\n    editCoor.pointBPositionX = newValue;\n  } else if (name.startsWith('pointBY')) {\n    editCoor.pointBPositionY = newValue;\n  } else if (name.startsWith('colorCoordinateA')) {\n    editCoor.colorCoordinateA = newValue;\n  } else if (name.startsWith('colorCoordinateB')) {\n    editCoor.colorCoordinateB = newValue;\n  } else if (name.startsWith('refIdMainMetric')) {\n    editCoor.mainMetric.refId = newValue;\n  } else if (name.startsWith('keyMainMetric')) {\n    editCoor.mainMetric.key = newValue;\n  } else if (name.startsWith('keyValueMainMetric')) {\n    editCoor.mainMetric.keyValue = newValue;\n  } else if (name.startsWith('isIncurved')) {\n    editCoor.isIncurved = newValueSelect;\n  } else if (name.startsWith('pointCX')) {\n    editCoor.pointCPositionX = newValue;\n  } else if (name.startsWith('pointCY')) {\n    editCoor.pointCPositionY = newValue;\n  } else if (name.startsWith('pointIn')) {\n    editCoor.pointIn = newValue;\n  } else if (name.startsWith('pointOut')) {\n    editCoor.pointOut = newValue;\n  } else if (name.startsWith('regionIn')) {\n    editCoor.regionIn = newValue;\n  } else if (name.startsWith('regionOut')) {\n    editCoor.regionOut = newValue;\n  } else if (name.startsWith('size')) {\n    editCoor.size = newValue;\n  }\n  return editCoor;\n};\n","import React, { CSSProperties } from 'react';\nimport { ArrayInputSelectableClass } from '../../../Models/ArrayInputSelectableClass';\nimport { SelectableValue, PanelEditorProps } from '@grafana/data';\nimport InputTextOrientedLink from '../../../Functions/Input/inputTextOrientedLink';\nimport InputSelectOrientedLink from '../../../Functions/Input/inputSelectOrientedLink';\nimport { OrientedLinkClass } from '../../../Models/OrientedLinkClass';\nimport { createInputsOrientedLink } from '../../../Functions/CreateInput/createInputsOrientedLink';\nimport { editGoodParameterOrientedLink } from '../../../Functions/EditParameter/editGoodParameterOrientedLink';\nimport { TextObject } from '../../../Models/TextObjectClass';\nimport { SimpleOptions, Metric, Metadata } from '../../../types';\nimport { AlertVariant, Alert, Button } from '@grafana/ui';\nimport ParametresGeneriques from '../../Parametrage/parametresGeneriques';\nimport { LowerLimitClass } from '../../../Models/LowerLimitClass';\nimport { CoordinateSpaceClass } from '../../../Models/CoordinateSpaceClass';\nimport ManageLowerLimit from '../../Parametrage/manageLowerLimit';\nimport PositionParameter from '../../Parametrage/positionParameters';\nimport ManageQuery from '../../CoordinateSpace/manageQuery';\nimport ManageAuxiliaryQuery from '../../CoordinateSpace/manageAuxiliaryQuery';\nimport { cloneOrientedLink } from '../../../Functions/initOrientedLink';\nimport { PointClass } from 'Models/PointClass';\nimport { RegionClass } from 'Models/RegionClass';\nimport ManageMetadata from 'components/CoordinateSpace/manageMetada';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n/**\n * IProps\n */\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** save data in Parent */\n  callBackToParent: (id: number, newCoordinate?: OrientedLinkClass) => void;\n\n  /** link to edit */\n  orientedLink: OrientedLinkClass;\n\n  /** check if is add or edit component*/\n  isAddLink: boolean;\n\n  /** id */\n  id?: number;\n}\n\n/**\n * IState\n */\ninterface State {\n  /**\n   * to do\n   */\n  arrayInput: ArrayInputSelectableClass[];\n  /** */\n  orientedLink: OrientedLinkClass;\n  /** */\n  htmlInput: JSX.Element;\n  /** display alert when form error */\n  hiddenAlert: boolean;\n  /** text to display alert */\n  titleAlert: string;\n  /** alert type */\n  severityAlert: AlertVariant;\n}\n\n/**\n * IndexParametrage\n */\nexport default class OrientedLink extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      arrayInput: [],\n      orientedLink: cloneOrientedLink(this.props.orientedLink),\n      //debug: false,\n      htmlInput: <div></div>,\n      hiddenAlert: true,\n      titleAlert: 'Error: label is empty',\n      severityAlert: 'error',\n    };\n  }\n\n  /** update state with promise */\n  setStateAsyncOrientedLink = (state: {\n    /** new espace coordinate */\n    orientedLink: OrientedLinkClass;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** update state with promise */\n  setStateAsyncArrayInput = (state: {\n    /** new line in array input */\n    arrayInput: ArrayInputSelectableClass[];\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** add inputs for a new coordiante */\n  addInput = async (id: number) => {\n    await this.setStateAsyncArrayInput({\n      arrayInput: this.state.arrayInput.concat([\n        new ArrayInputSelectableClass(id, createInputsOrientedLink(id, this.defineDataRegion(), this.defineDataPoint())),\n      ]),\n    });\n  };\n\n  private defineDataRegion(): Array<SelectableValue<string>> {\n    const { regionCoordinateSpace } = this.props.options;\n    const optionRegionNull: SelectableValue<string> = { label: 'None', value: '' };\n    const arrayOptionsRegion: Array<SelectableValue<string>> = [];\n\n    arrayOptionsRegion.push(optionRegionNull);\n\n    regionCoordinateSpace.forEach((region) => {\n      const optionRegion: SelectableValue<string> = {\n        label: region.label,\n        value: region.label,\n      };\n      arrayOptionsRegion.push(optionRegion);\n    });\n    return arrayOptionsRegion;\n  }\n\n  private defineDataPoint(): Array<SelectableValue<string>> {\n    const { arrayPoints } = this.props.options;\n    const optionPointNull: SelectableValue<string> = { label: 'None', value: '' };\n    const arrayOptionsPoint: Array<SelectableValue<string>> = [];\n\n    arrayOptionsPoint.push(optionPointNull);\n\n    arrayPoints.forEach((point) => {\n      let valueLabel = point.label || point.name;\n\n      const optionPoint: SelectableValue<string> = {\n        label: valueLabel,\n        value: valueLabel,\n      };\n      arrayOptionsPoint.push(optionPoint);\n    });\n\n    return arrayOptionsPoint;\n  }\n\n  /**\n   * Delete array input and value\n   * @param {event} event event click delete button\n   */\n  deleteOwnInput = (): void => {\n    const label = this.state.orientedLink.label || this.state.orientedLink.name;\n    const del: boolean = confirm('Delete \"' + label + '\" ?');\n    // alert(del);\n    if (del) {\n      this.props.callBackToParent(this.state.orientedLink.id, undefined);\n    }\n  };\n\n  /**\n   * Use function if value input change\n   * @param {string} currentTarget new value of input\n   * @param {string} name name of input\n   * @param {number} index id of input\n   */\n  _handleChange(currentTarget: string, name: string, index: number): void {\n    let tmp: OrientedLinkClass = this.state.orientedLink;\n\n    // UPDATE PositionXdefault\n    const widthBackground = parseInt(this.props.options.baseMap.width, 10);\n    const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const widthInitialSpace = xMaxInitialSpace - xMinInitialSpace;\n    if (name.startsWith('pointAX')) {\n      tmp.pointAPositionXDefault = (((parseInt(currentTarget, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n    } else if (name.startsWith('pointBX')) {\n      tmp.pointBPositionXDefault = (((parseInt(currentTarget, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n    } else if (name.startsWith('pointCX')) {\n      tmp.pointCPositionXDefault = (((parseInt(currentTarget, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n    }\n\n    // UPDATE PositionYdefault\n    const heightBackground = parseInt(this.props.options.baseMap.height, 10);\n    const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    const heightInitialSpace = yMaxInitialSpace - yMinInitialSpace;\n    if (name.startsWith('pointAY')) {\n      tmp.pointAPositionYDefault = (((parseInt(currentTarget, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n    } else if (name.startsWith('pointBY')) {\n      tmp.pointBPositionYDefault = (((parseInt(currentTarget, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n    } else if (name.startsWith('pointCY')) {\n      tmp.pointCPositionYDefault = (((parseInt(currentTarget, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n    }\n\n    tmp = editGoodParameterOrientedLink(name, tmp, currentTarget, {});\n    this.setState({\n      orientedLink: tmp,\n    });\n    this.generateInputsOrientedLink();\n    if (this.props.isAddLink === false) {\n      this.callBack();\n    }\n  }\n\n  /**\n   * Get value of input with state.arrayPointClass\n   * @param {number} id id of element\n   * @param {string} param name of input\n   * @returns {string} value of the array element\n   */\n  private getGoodValue(name: string): any {\n    let value: string;\n    let valueSelect: SelectableValue<any>;\n    let valueMetric: Metric;\n\n    value = '';\n    valueSelect = {};\n\n    if (\n      name.startsWith('orientationLink') ||\n      name.startsWith('isIncurved') ||\n      name.startsWith('pointIn') ||\n      name.startsWith('pointOut') ||\n      name.startsWith('regionIn') ||\n      name.startsWith('regionOut')\n    ) {\n      if (name.startsWith('orientationLink')) {\n        valueSelect = this.state.orientedLink.orientationLink;\n      } else if (name.startsWith('isIncurved')) {\n        valueSelect = this.state.orientedLink.isIncurved;\n      } else if (name.startsWith('pointIn')) {\n        valueSelect = {\n          label: this.state.orientedLink.pointIn,\n          value: this.state.orientedLink.pointIn,\n        };\n      } else if (name.startsWith('pointOut')) {\n        valueSelect = {\n          label: this.state.orientedLink.pointOut,\n          value: this.state.orientedLink.pointOut,\n        };\n      } else if (name.startsWith('regionIn')) {\n        valueSelect = {\n          label: this.state.orientedLink.regionIn,\n          value: this.state.orientedLink.regionIn,\n        };\n      } else if (name.startsWith('regionOut')) {\n        valueSelect = {\n          label: this.state.orientedLink.regionOut,\n          value: this.state.orientedLink.regionOut,\n        };\n      }\n      return valueSelect;\n    } else if (name.startsWith('mainMetric')) {\n      valueMetric = this.state.orientedLink.mainMetric;\n      return valueMetric;\n    } else {\n      if (name.startsWith('label')) {\n        value = this.state.orientedLink.label;\n      } else if (name.startsWith('pointAX')) {\n        value = this.state.orientedLink.pointAPositionX;\n      } else if (name.startsWith('pointAY')) {\n        value = this.state.orientedLink.pointAPositionY;\n      } else if (name.startsWith('pointBX')) {\n        value = this.state.orientedLink.pointBPositionX;\n      } else if (name.startsWith('pointBY')) {\n        value = this.state.orientedLink.pointBPositionY;\n      } else if (name.startsWith('colorCoordinateA')) {\n        value = this.state.orientedLink.colorCoordinateA;\n      } else if (name.startsWith('colorCoordinateB')) {\n        value = this.state.orientedLink.colorCoordinateB;\n      } else if (name.startsWith('refIdMainMetric')) {\n        value = this.state.orientedLink.mainMetric.refId || '';\n      } else if (name.startsWith('keyMainMetric')) {\n        value = this.state.orientedLink.mainMetric.key || '';\n      } else if (name.startsWith('keyValueMainMetric')) {\n        value = this.state.orientedLink.mainMetric.keyValue || '';\n      } else if (name.startsWith('pointCX')) {\n        value = this.state.orientedLink.pointCPositionX;\n      } else if (name.startsWith('pointCY')) {\n        value = this.state.orientedLink.pointCPositionY;\n      } else if (name.startsWith('size')) {\n        value = this.state.orientedLink.size;\n      }\n      return value;\n    }\n  }\n\n  /** set point in/out to empty in if orientedLink is associate to region in/out\n   *  set region in/out to empty in if orientedLink is associate to point in/out\n   */\n  private updateAssociatePointAndRegion = (newOrientedLink: OrientedLinkClass, name: string): OrientedLinkClass => {\n    const arrayPoint: PointClass[] = this.props.options.arrayPoints;\n    const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n    if (name.startsWith('pointIn')) {\n      // supprime la valeur de regionIn si un point est associé à un lien en entrée\n      newOrientedLink = editGoodParameterOrientedLink('regionIn', newOrientedLink, '', {});\n\n      // MAJ des valeurs x et y du pointA du lien si un point est associé en entrée\n      arrayPoint.forEach((point) => {\n        if (this.state.orientedLink.pointIn === point.name || this.state.orientedLink.pointIn === point.label) {\n          newOrientedLink.pointAPositionXDefault = point.positionXDefault;\n          newOrientedLink.pointAPositionYDefault = point.positionYDefault;\n          newOrientedLink = editGoodParameterOrientedLink('pointAX', newOrientedLink, point.positionShapeX, {});\n          newOrientedLink = editGoodParameterOrientedLink('pointAY', newOrientedLink, point.positionShapeY, {});\n        }\n      });\n    } else if (name.startsWith('regionIn')) {\n      // supprime la valeur de pointIn si une region est associée à un lien en entrée\n      newOrientedLink = editGoodParameterOrientedLink('pointIn', newOrientedLink, '', {});\n\n      // MAJ des valeurs x et y du pointA du lien si une region est associée en entrée\n      arrayRegion.forEach((region) => {\n        if (this.state.orientedLink.regionIn === region.label) {\n          newOrientedLink = editGoodParameterOrientedLink(\n            'pointAX',\n            newOrientedLink,\n            (parseInt(region.coords.xMax, 10) - parseInt(region.coords.xMin, 10)).toString(),\n            {}\n          );\n          newOrientedLink = editGoodParameterOrientedLink(\n            'pointAY',\n            newOrientedLink,\n            (parseInt(region.coords.yMax, 10) - parseInt(region.coords.yMin, 10)).toString(),\n            {}\n          );\n          newOrientedLink.pointAPositionXDefault = (parseInt(region.coordsDefault.xMax, 10) - parseInt(region.coordsDefault.xMin, 10)).toString();\n          // this.state.orientedLink.pointAPositionXDefault = (\n          //   parseInt(region.coordsDefault.xMax, 10) - parseInt(region.coordsDefault.xMin, 10)\n          // ).toString();\n          newOrientedLink.pointAPositionYDefault = (parseInt(region.coordsDefault.yMax, 10) - parseInt(region.coordsDefault.yMin, 10)).toString();\n          // this.state.orientedLink.pointAPositionYDefault = (\n          //   parseInt(region.coordsDefault.yMax, 10) - parseInt(region.coordsDefault.yMin, 10)\n          // ).toString();\n        }\n      });\n    } else if (name.startsWith('pointOut')) {\n      // supprime la valeur de regionOut si un point est associé à un lien en sortie\n      newOrientedLink = editGoodParameterOrientedLink('regionOut', newOrientedLink, '', {});\n\n      // MAJ des valeurs x et y du pointB du lien si un point est associé en sortie\n      arrayPoint.forEach((point) => {\n        if (this.state.orientedLink.pointOut === point.name || this.state.orientedLink.pointOut === point.label) {\n          // this.state.orientedLink.pointBPositionXDefault = point.positionXDefault;\n          // this.state.orientedLink.pointBPositionYDefault = point.positionYDefault;\n          newOrientedLink.pointBPositionXDefault = point.positionXDefault;\n          newOrientedLink.pointBPositionYDefault = point.positionYDefault;\n          newOrientedLink = editGoodParameterOrientedLink('pointBX', newOrientedLink, point.positionShapeX, {});\n          newOrientedLink = editGoodParameterOrientedLink('pointBY', newOrientedLink, point.positionShapeY, {});\n        }\n      });\n    } else if (name.startsWith('regionOut')) {\n      // supprime la valeur de pointOut si une region est associée à un lien en sortie\n      newOrientedLink = editGoodParameterOrientedLink('pointOut', newOrientedLink, '', {});\n\n      // MAJ des valeurs x et y du pointB du lien si une region est associée en entrée\n      arrayRegion.forEach((region) => {\n        if (this.state.orientedLink.regionOut === region.label) {\n          newOrientedLink.pointBPositionXDefault = (parseInt(region.coordsDefault.xMax, 10) - parseInt(region.coordsDefault.xMin, 10)).toString();\n          // this.state.orientedLink.pointBPositionXDefault = (\n          //   parseInt(region.coordsDefault.xMax, 10) - parseInt(region.coordsDefault.xMin, 10)\n          // ).toString();\n          newOrientedLink.pointBPositionYDefault = (parseInt(region.coordsDefault.yMax, 10) - parseInt(region.coordsDefault.yMin, 10)).toString();\n          // this.state.orientedLink.pointBPositionYDefault = (\n          //   parseInt(region.coordsDefault.yMax, 10) - parseInt(region.coordsDefault.yMin, 10)\n          // ).toString();\n          newOrientedLink = editGoodParameterOrientedLink(\n            'pointBX',\n            newOrientedLink,\n            (parseInt(region.coords.xMax, 10) - parseInt(region.coords.xMin, 10)).toString(),\n            {}\n          );\n          newOrientedLink = editGoodParameterOrientedLink(\n            'pointBY',\n            newOrientedLink,\n            (parseInt(region.coords.yMax, 10) - parseInt(region.coords.yMin, 10)).toString(),\n            {}\n          );\n        }\n      });\n    }\n    return newOrientedLink;\n  };\n\n  /** create dynamic input */\n  generateInputsOrientedLink(): void {\n    const { arrayInput } = this.state;\n    let finalItem: JSX.Element[] = [];\n    let item: JSX.Element = <div></div>;\n\n    for (const line of arrayInput) {\n      const mapItems: JSX.Element[] = [];\n      line.uneClassInput.forEach((obj) => {\n        if (obj.input_type === 'text') {\n          item = (\n            <InputTextOrientedLink\n              key={obj.id}\n              label={obj.label}\n              name={obj.name}\n              placeholder={obj.placeholder || ''}\n              required={obj.required}\n              value={this.getGoodValue(obj.name)}\n              _handleChange={(event: {\n                /**\n                 * get currentTarget in event element\n                 */\n                currentTarget: HTMLInputElement;\n              }) => {\n                this._handleChange(event.currentTarget.value, obj.name, line.id);\n              }}\n              isIncurved={this.getGoodValue('isIncurved')}\n            />\n          );\n        } else if (obj.input_type === 'select') {\n          item = (\n            <InputSelectOrientedLink\n              key={obj.id}\n              _onChange={(value: SelectableValue<string>, name: string, index: number) => {\n                let newOrientedLink: OrientedLinkClass = this.state.orientedLink;\n                editGoodParameterOrientedLink(name, newOrientedLink, value.value || '', value);\n                this.updateAssociatePointAndRegion(newOrientedLink, name);\n                this.setState({\n                  orientedLink: newOrientedLink,\n                });\n                this.generateInputsOrientedLink();\n                if (this.props.isAddLink === false) {\n                  this.callBack();\n                }\n              }}\n              name={obj.name}\n              index={line.id}\n              data={obj.optionValues}\n              defaultValue={this.getGoodValue(obj.name)}\n              label={obj.label}\n            />\n          );\n        } else {\n          item = <div key={obj.id}></div>;\n        }\n        mapItems.push(item);\n      });\n      const newInputList: JSX.Element = (\n        <div key={'inputOrientedLink' + line.id.toString()} className=\"inputCoor\" id={'orientedLink' + line.id.toString()}>\n          {mapItems}\n        </div>\n      );\n      finalItem = finalItem.concat(newInputList);\n    }\n    this.setState((prevState: State) => ({\n      htmlInput: <ul>{finalItem}</ul>,\n    }));\n  }\n\n  /** call function to return arrayCoor a SimpleEditor */\n  callBack = (): void => {\n    const waitAlert = 3000;\n\n    if (this.state.orientedLink.label === '') {\n      this.setState({\n        severityAlert: 'error',\n        titleAlert: 'Error: label is empty',\n        hiddenAlert: false,\n      });\n      setTimeout(() => {\n        this.setState({\n          hiddenAlert: true,\n        });\n      }, waitAlert);\n    } else {\n      this.props.callBackToParent(this.state.orientedLink.id, this.state.orientedLink);\n      this.setState({\n        severityAlert: 'success',\n        titleAlert: 'Save',\n        hiddenAlert: false,\n      });\n      if (!this.props.isAddLink) {\n        setTimeout(() => {\n          this.setState({\n            hiddenAlert: true,\n          });\n        }, waitAlert);\n      }\n    }\n  };\n\n  /** update data for manageLink and textObject */\n  private callBackToOther = (linkUrl?: LinkURLClass, textObj?: TextObject): void => {\n    const oldCoor: OrientedLinkClass = this.state.orientedLink;\n    if (linkUrl) {\n      oldCoor.linkURL.followLink = linkUrl.followLink;\n      oldCoor.linkURL.hoveringTooltipLink = linkUrl.hoveringTooltipLink;\n      oldCoor.linkURL.hoveringTooltipText = linkUrl.hoveringTooltipText;\n    }\n    if (textObj) {\n      oldCoor.textObj = textObj;\n    }\n    this.setState({\n      orientedLink: oldCoor,\n    });\n    if (this.props.isAddLink === false) {\n      this.callBack();\n    }\n  };\n\n  /** update lower limit */\n  private callBackManageLowerLimit = (coordinate: CoordinateSpaceClass, id?: number) => {\n    const newValue: OrientedLinkClass = this.state.orientedLink;\n    newValue.colorMode = coordinate.colorMode;\n    newValue.traceBorder = coordinate.traceBorder;\n    newValue.traceBack = coordinate.traceBack;\n    this.setState({\n      orientedLink: newValue,\n    });\n    if (this.props.isAddLink === false) {\n      this.callBack();\n    }\n  };\n\n  /** save lower limit data */\n  private callBackLowerLimit = (lowerLimit: LowerLimitClass[], id?: number) => {\n    const newValue: OrientedLinkClass = this.state.orientedLink;\n    newValue.lowerLimit = lowerLimit;\n    this.setState({\n      orientedLink: newValue,\n    });\n    if (this.props.isAddLink === false) {\n      this.callBack();\n    }\n  };\n\n  /** save data of mainMetric */\n  private callBackMainMetric = (mainMetric: Metric, id?: number): void => {\n    const newValue: OrientedLinkClass = this.state.orientedLink;\n    newValue.mainMetric = mainMetric;\n    this.setState({\n      orientedLink: newValue,\n    });\n    if (this.props.isAddLink === false) {\n      this.callBack();\n    }\n  };\n\n  /** save data of mainMetric */\n  private callBackMainMetricB = (mainMetricB: Metric, id?: number): void => {\n    const newValue: OrientedLinkClass = this.state.orientedLink;\n    newValue.mainMetricB = mainMetricB;\n    this.setState({\n      orientedLink: newValue,\n    });\n    if (this.props.isAddLink === false) {\n      this.callBack();\n    }\n  };\n\n  /** save data of zIndex */\n  private callBackZIndex(zIndexUpdated: number, id: number) {\n    const newValue: OrientedLinkClass = this.state.orientedLink;\n    newValue.zIndex = zIndexUpdated;\n    this.setState({\n      orientedLink: newValue,\n    });\n    if (this.props.isAddLink === false) {\n      this.callBack();\n    }\n  }\n  // Meta\n  saveMetaData = (meta: Metadata[]) => {\n    const old = this.state.orientedLink;\n    old.meta = meta;\n    this.setState({\n      orientedLink: old,\n    });\n  };\n  /**\n   * fill input with data\n   * this function is called by mount and update event\n   */\n  getDataInInput = async () => {\n    await this.addInput(this.props.orientedLink.id);\n    this.generateInputsOrientedLink();\n  };\n\n  /** call function in load component */\n  componentDidMount = () => {\n    this.getDataInInput();\n  };\n\n  /** function is call when props is update. Update state */\n  componentDidUpdate = async (prevProps: Props, prevState: State) => {\n    if (prevProps.orientedLink.id !== this.props.orientedLink.id) {\n      await this.setStateAsyncOrientedLink({\n        orientedLink: cloneOrientedLink(this.props.orientedLink),\n      });\n      await this.setStateAsyncArrayInput({\n        arrayInput: [],\n      });\n      this.getDataInInput();\n    }\n    // if (prevProps.data.series !== this.props.data.series) {\n    // \tthis.fillSelectQuery();\n    // }\n  };\n\n  /**\n   * render()\n   */\n  render() {\n    const styleAlert = {\n      position: 'fixed',\n      bottom: '5%',\n      right: '5%',\n      zIndex: 9999,\n    } as CSSProperties;\n\n    return (\n      <div>\n        <div style={styleAlert} hidden={this.state.hiddenAlert}>\n          <Alert title={this.state.titleAlert} severity={this.state.severityAlert} />\n        </div>\n        <div>\n          <ManageQuery\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            idCoordinate={this.state.orientedLink.id}\n            mainMetric={this.state.orientedLink.mainMetric}\n            mainMetricB={this.state.orientedLink.mainMetricB}\n            callBackToParent={this.callBackMainMetric}\n            callBackToParentMainMetricB={this.callBackMainMetricB}\n            isLink={true}\n          />\n        </div>\n        <div>\n          <ManageAuxiliaryQuery\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            idCoordinate={this.state.orientedLink.id}\n            metrics={this.state.orientedLink.metrics}\n            isLink={true}\n          />\n        </div>\n        <div>\n          <ManageMetadata\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            idCoordinate={this.state.orientedLink.id}\n            type=\"link\"\n            saveToParent={this.saveMetaData}\n          />\n        </div>\n        <div>\n          <ParametresGeneriques\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            coordinateSpace={this.state.orientedLink}\n            callBackToParent={this.callBackToOther}\n          />\n        </div>\n        <div>\n          <ManageLowerLimit\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            coordinate={this.state.orientedLink}\n            callBack={this.callBackManageLowerLimit}\n            lowerLimitCallBack={this.callBackLowerLimit}\n            isLink={true}\n          />\n        </div>\n        <div>\n          <PositionParameter\n            options={this.props.options}\n            onOptionsChange={this.props.onOptionsChange}\n            data={this.props.data}\n            callBackToParentZIndex={this.callBackZIndex.bind(this)}\n            isPoint={false}\n            isLink={true}\n            isRegion={false}\n            id={this.state.orientedLink.id}\n          />\n        </div>\n        <div>{this.state.htmlInput}</div>\n        <div style={{ textAlign: 'center' }} className=\"buttonSave\">\n          {this.props.isAddLink && (\n            <Button style={{ marginRight: '1%' }} onClick={() => this.callBack()}>\n              Save\n            </Button>\n          )}\n          {!this.props.isAddLink && (\n            <Button onClick={this.deleteOwnInput} variant=\"danger\">\n              Delete\n            </Button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nimport { SimpleOptions } from 'types';\nimport { PanelEditorProps } from '@grafana/data';\n\nimport { RegionClass } from 'Models/RegionClass';\nimport { PointClass } from 'Models/PointClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\n\nimport { initRegionCoordinateSpace } from 'Functions/initRegionCoordinateSpace';\nimport { initPoint } from 'Functions/initPoint';\nimport { initOrientedLink } from 'Functions/initOrientedLink';\n\nimport CoordinateSpace from 'components/CoordinateSpace/coordinateSpace';\nimport Point from './point/point';\nimport OrientedLink from './orientedLink/orientedLink';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** return to edit mode after save */\n  returnEditMode?: () => void;\n  isRegion: boolean;\n  isPoint: boolean;\n  isLink: boolean;\n}\n\ninterface State {\n  /** data for new CoordinateSpaceExtendClass */\n  coordinate?: RegionClass;\n  point?: PointClass;\n  orientedLink?: OrientedLinkClass;\n}\n\n/** Add new coordinate space */\nclass AddCoordinate extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      coordinate: undefined,\n      point: undefined,\n      orientedLink: undefined,\n    };\n  }\n\n  /** search new id for espacecoordinneesclass */\n  searchNewId = (allCoordinateSpace: RegionClass[]): number => {\n    let id = -1;\n\n    for (const line of allCoordinateSpace) {\n      if (line.id > id) {\n        id = line.id;\n      }\n    }\n    id += 1;\n    return id;\n  };\n\n  private defineIdPoint = (): number => {\n    let id = 1;\n    if (this.props.options.arrayPoints.length === 0) {\n      return id;\n    } else {\n      id = this.props.options.arrayPoints[this.props.options.arrayPoints.length - 1].id + 1;\n      return id;\n    }\n  };\n\n  private defineIdOrientedLink = (): number => {\n    let id = 1;\n    if (this.props.options.arrayOrientedLinks.length === 0) {\n      return id;\n    } else {\n      id = this.props.options.arrayOrientedLinks[this.props.options.arrayOrientedLinks.length - 1].id + 1;\n      return id;\n    }\n  };\n\n  lastId = () => {\n    const allRegion = this.props.options.regionCoordinateSpace;\n    let id = 0;\n    for (const line of allRegion) {\n      if (line.id > id) {\n        id = line.id;\n      }\n    }\n    return id;\n  };\n\n  /** call init class for coordinate state */\n  componentDidMount = (): void => {\n    if (this.props.isRegion) {\n      this.setState({\n        coordinate: initRegionCoordinateSpace(this.lastId()),\n      });\n    } else if (this.props.isPoint) {\n      let id = this.defineIdPoint();\n      this.setState({\n        point: initPoint(id),\n      });\n    } else if (this.props.isLink) {\n      let id = this.defineIdOrientedLink();\n      const newZIndex: number = this.props.options.zIndexOrientedLink + 1;\n      this.setState({\n        orientedLink: initOrientedLink(id, newZIndex),\n      });\n      this.props.onOptionsChange({\n        ...this.props.options,\n        zIndexOrientedLink: newZIndex,\n      });\n    }\n  };\n\n  /** update onOptionsChange */\n  setAsyncOption = (newIdx: number) => {\n    return Promise.resolve('Success').then(() => {\n      if (this.props.isRegion) {\n        this.props.onOptionsChange({\n          ...this.props.options,\n          indexRegion: newIdx,\n        });\n      } else if (this.props.isPoint) {\n        this.props.onOptionsChange({\n          ...this.props.options,\n          indexPoint: newIdx,\n        });\n      } else if (this.props.isLink) {\n        this.props.onOptionsChange({\n          ...this.props.options,\n          indexOrientedLink: newIdx,\n        });\n      }\n    });\n  };\n\n  /** send data of region for parent */\n  callBack = async (id: number, newCoordinate?: RegionClass) => {\n    if (newCoordinate) {\n      const allCoordinateSpace: RegionClass[] = this.props.options.regionCoordinateSpace.slice();\n      await this.setAsyncOption(newCoordinate.id);\n      this.props.onOptionsChange({\n        ...this.props.options,\n        regionCoordinateSpace: allCoordinateSpace.concat(newCoordinate),\n      });\n      if (this.props.returnEditMode) {\n        this.props.returnEditMode();\n      }\n      // this.componentDidMount();\n    }\n  };\n\n  /** send data of point for parent */\n  callBackPoint = async (id: number, newCoordinate?: PointClass) => {\n    if (newCoordinate) {\n      const allCoordinateSpace: PointClass[] = this.props.options.arrayPoints.slice();\n      await this.setAsyncOption(newCoordinate.id);\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayPoints: allCoordinateSpace.concat(newCoordinate),\n      });\n      if (this.props.returnEditMode) {\n        this.props.returnEditMode();\n      }\n    }\n  };\n\n  /** send data of orientedLink for parent */\n  callBackOrientedLink = async (id: number, newCoordinate?: OrientedLinkClass) => {\n    if (newCoordinate) {\n      const allCoordinateSpace: OrientedLinkClass[] = this.props.options.arrayOrientedLinks.slice();\n      await this.setAsyncOption(newCoordinate.id);\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayOrientedLinks: allCoordinateSpace.concat(newCoordinate),\n      });\n      if (this.props.returnEditMode) {\n        this.props.returnEditMode();\n      }\n    }\n  };\n\n  /** result */\n  render() {\n    if (this.props.isRegion) {\n      return (\n        <div>\n          {this.state.coordinate && (\n            <CoordinateSpace\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              coordinate={this.state.coordinate}\n              callBackToParent={this.callBack}\n              isAddCoordinate={true}\n            />\n          )}\n        </div>\n      );\n    } else if (this.props.isPoint) {\n      return (\n        <div>\n          {this.state.point && (\n            <Point\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              point={this.state.point}\n              callBackToParent={this.callBackPoint}\n              isAddPoint={true}\n            />\n          )}\n        </div>\n      );\n    } else if (this.props.isLink) {\n      return (\n        <div>\n          {this.state.orientedLink && (\n            <OrientedLink\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              orientedLink={this.state.orientedLink}\n              callBackToParent={this.callBackOrientedLink}\n              isAddLink={true}\n            />\n          )}\n        </div>\n      );\n    } else {\n      return <div></div>;\n    }\n  }\n}\nexport default AddCoordinate;\n","export const isNumFloat = (value: string): number => {\n  if (String(value).match(/^-{0,1}\\d+$/) || String(value).match(/^\\d+\\.\\d+$/)) {\n    return 1;\n  }\n  return 0;\n};\n","/** parse color for svg */\nexport interface Color {\n  /** base color */\n  color: string;\n  /** transparency level */\n  transparency: string;\n}\n\nexport const parseColor = (color: string): Color => {\n  let colorEdit: string = color;\n  let transparency = '';\n  if (color.indexOf('#') > -1) {\n    colorEdit = color.replace('rgba', 'rgb');\n    if (colorEdit.indexOf(',') > -1) {\n      const arrayColor: string[] = colorEdit.split(',');\n      colorEdit = arrayColor[0] + ',' + arrayColor[1] + ',' + arrayColor[2] + ')';\n      if (arrayColor.length > 3) {\n        transparency = arrayColor[3].replace(')', '');\n      }\n    }\n  }\n  return { color: colorEdit, transparency: transparency };\n};\n","/* eslint-disable prettier/prettier */\nimport React, { CSSProperties } from 'react';\nimport { SimpleOptions, Metric } from 'types';\n\nimport { PanelEditorProps } from '@grafana/data';\nimport { Tooltip } from '@grafana/ui';\n\nimport { RegionClass, Coord4D } from 'Models/RegionClass';\n\n//import { calculRealCoordinate } from 'Functions/otherFunction';\nimport { getLowerLimit, LowerLimit } from 'Functions/getLowerLimit';\nimport { getResultQuery } from 'Functions/getResultQuery';\nimport { parseColor, Color } from 'Functions/parseColor';\nimport { reqMetricRegion, reqMetricAuxRegion } from 'Functions/fetchMetrics';\n//import { searchMinMaxIdSVG, Coord4DInt } from 'Functions/searchMinMaxIdSVG';\nimport { Style } from 'components/Parametrage/styleComponent';\n// import { Coor4DNum, pixelToPercent } from 'Functions/searchIDLimit';\n// import { Coor4DNum } from 'Functions/searchIDLimit';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** object CoordinateSpace */\n  uneCoor: RegionClass;\n  /** use limit */\n  useLimit: boolean;\n  /** limit */\n  limit: Coord4D;\n  /** id region */\n  id: string;\n  /** if button SimplePanel is active, block all onClick region space */\n  //isEnabled: boolean;\n  /** if button Add Oriented Link of SimplePanel is active, block all onClick region space */\n  buttonAddLinkIsActive: boolean;\n  /** if button Add Incurved Oriented Link of SimplePanel is active, block all onClick region space */\n  buttonAddIncurvedLinkIsActive: boolean;\n  /** width when region has been created */\n  widthInitialSpaceDefault: string;\n  /** height when region has been created */\n  heightInitialSpaceDefault: string;\n}\n\ninterface State {\n  /** value of tooltip */\n  tooltipValue: JSX.Element | null;\n  /** background color with lower limit */\n  backgroundColor: string;\n  /** border color with lower llimit */\n  borderColor: string;\n  /** size border with lower limit */\n  sizeBorder: number;\n  /** html result */\n  htmlResult: JSX.Element;\n  /** value return by query */\n  valueQuery: string;\n}\n\ninterface CoorHTML {\n  /** coordinate left */\n  left: string;\n  /** coordinate right */\n  right: string;\n  /** coordinate top */\n  top: string;\n  /** coordinate bottom */\n  bottom: string;\n}\n\ninterface Tooltip {\n  tooltipValue: JSX.Element | null;\n  backgroundColor: string;\n  borderColor: string;\n  sizeBorder: number;\n  valueQuery: string;\n}\n\n/**\n * Draw rectangle\n */\nexport default class DrawRectangleExtend extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      tooltipValue: null,\n      backgroundColor: 'rgba(255, 255, 255, 0)',\n      borderColor: 'rgba(255, 255, 255, 0)',\n      sizeBorder: 1,\n      htmlResult: <div></div>,\n      valueQuery: '',\n    };\n  }\n\n  /**\n   * Edit color Zone in SVG\n   * @param {string} id id is equal to zone for change color in Svg\n   * @param {string} color define the color for Svg zone\n   */\n  editColorSvgZone = (id: string, color: string, border: string, sizeBorder: string): void => {\n    const colorSVG: Color = parseColor(color);\n    const colorBorderSVG: Color = parseColor(border);\n    const changeColorElement: HTMLElement | null = document.getElementById(id);\n\n    if (changeColorElement) {\n      changeColorElement.style.fill = colorSVG.color;\n      changeColorElement.style.fillOpacity = colorSVG.transparency;\n      changeColorElement.style.stroke = colorBorderSVG.color;\n      changeColorElement.style.strokeOpacity = colorBorderSVG.transparency;\n      changeColorElement.style.strokeWidth = sizeBorder;\n    }\n  };\n\n  generateValueMetricElement = (region: RegionClass, valueQuery: number | null): string => {\n    let converValueQuery = 'NaN';\n    const roundMetrics: number = region.textObj.valueGenerateObjectText\n      ? parseInt(region.textObj.valueGenerateObjectText.numericFormatElement, 10)\n      : 1;\n\n    if (valueQuery && region.textObj.valueGenerateObjectText && region.textObj.valueGenerateObjectText.numericFormatElement !== '' && roundMetrics) {\n      converValueQuery = (valueQuery || 0).toPrecision(roundMetrics).toString();\n    } else if (valueQuery) {\n      converValueQuery = valueQuery.toString();\n    }\n    // (Math.round(valueQuery * roundMetrics + Number.EPSILON) / roundMetrics).toString()\n    let value: string = converValueQuery;\n    if (region.textObj.valueGenerateObjectText && converValueQuery !== 'NaN') {\n      value = region.textObj.valueGenerateObjectText.legendElement + ' ' + converValueQuery + ' ' + region.textObj.valueGenerateObjectText.unit;\n    }\n    if (value === 'NaN') {\n      return '';\n    }\n\n    return value;\n  };\n\n  /** fill state for tooltip, color zone and calc round query */\n  setStateTooltip = (\n    lowerLimit: LowerLimit,\n    region: RegionClass,\n    valueQuery: number | null\n    //link: boolean\n  // ): Tooltip => {\n  ) => {\n    const styleTooltip = {\n      color: region.textObj.colorText,\n      backgroundColor: region.textObj.colorBack,\n    } as CSSProperties;\n\n    const styleMetrics = {\n      color: region.textObj.valueGenerateObjectText ? region.textObj.valueGenerateObjectText.colorTextElement : 'white',\n      backgroundColor: region.textObj.valueGenerateObjectText ? region.textObj.valueGenerateObjectText.colorBackElement : 'black',\n    } as CSSProperties;\n\n    const valueQueryResult: string = this.generateValueMetricElement(region, valueQuery);\n    const valueMetaData: JSX.Element | null = this.displayValuesMetaData();\n    let tooltipValue: JSX.Element | null = null;\n      // valueQueryResult !== '' ? (\n      //   <div>\n      //     <div style={styleTooltip}>\n      //       {/* {link && <a href={region.linkURL.hoveringTooltipLink}>{region.linkURL.hoveringTooltipText}</a>} */}\n      //       <a href={region.linkURL.hoveringTooltipLink}>{region.linkURL.hoveringTooltipText}</a>\n      //       {region.textObj.isTextTooltip && <p>{region.label}</p>}\n      //     </div>\n      //     <div style={styleMetrics}>\n      //       {region.textObj.generateObjectText &&\n      //         region.textObj.valueGenerateObjectText &&\n      //         region.textObj.valueGenerateObjectText.displayObjectInTooltip && <p>{valueQueryResult}</p>}\n      //     </div>\n      //     <div>{this.displayValuesAuxMetrics()}</div>\n      //     <div>{this.displayValuesMetaData()}</div>\n      //   </div>\n      // ) : null;\n    if ((valueQueryResult !== '' && region.textObj.valueGenerateObjectText.displayObjectInTooltip) || region.metrics.length !== 0 || valueMetaData !== null || this.props.uneCoor.linkURL.hoveringTooltipText) {\n      tooltipValue = (\n        <div>\n          <div style={styleTooltip}>\n            {region.textObj.isTextTooltip && <p>{region.label}</p>}\n          </div>\n          <div style={styleMetrics}>\n            {region.textObj.generateObjectText &&\n            region.textObj.valueGenerateObjectText &&\n            region.textObj.valueGenerateObjectText.displayObjectInTooltip && <p>{valueQueryResult}</p>}\n          </div>\n          <div>{this.displayValuesAuxMetrics()}</div>\n          <div>{valueMetaData}</div>\n          <a href={region.linkURL.hoveringTooltipLink}>{region.linkURL.hoveringTooltipText}</a>\n        </div>\n        );\n    }\n    return {\n      tooltipValue: tooltipValue,\n      backgroundColor: lowerLimit.colorBack,\n      borderColor: lowerLimit.colorBorder,\n      sizeBorder: lowerLimit.sizeBorder,\n      valueQuery: valueQueryResult,\n    };\n  };\n\n  private desactiveLink = (event: any) => {\n    // const inputFollowingLink: any = document.getElementById('followLink');\n    // if (inputFollowingLink) {\n    //   if (inputFollowingLink.defaultValue === '') {\n    //     event.preventDefault();\n    //   }\n    // } else if (this.props.uneCoor.linkURL.followLink === '') {\n    //   event.preventDefault();\n    // }\n    if (this.props.uneCoor.linkURL.followLink === '') {\n      event.preventDefault();\n    }\n  };\n\n  private defineCursor = (): string => {\n    let result = 'pointer';\n    // const inputFollowingLink: any = document.getElementById('followLink');\n    // if (inputFollowingLink) {\n    //   if (inputFollowingLink.defaultValue === '') {\n    //     result = 'default';\n    //   }\n    // } else if (this.props.uneCoor.linkURL.followLink === '') {\n    //   result = 'default';\n    // }\n    if (this.props.uneCoor.linkURL.followLink === '') {\n      result = 'default';\n    }\n    return result;\n  };\n\n  displayValueQuery = (region: RegionClass): boolean => {\n    if (\n      region.textObj.generateObjectText &&\n      region.textObj.valueGenerateObjectText &&\n      !region.textObj.valueGenerateObjectText.displayObjectInTooltip\n    ) {\n      return true;\n    }\n    return false;\n  };\n\n  getPositionTextObjectRegionSVG = (idSVG: string): CoorHTML => {\n    const coor: CoorHTML = { top: '0', bottom: '0', left: '0', right: '0' };\n    let elementSVG: any;\n    if (this.props.options.baseMap.isUploaded) {\n      elementSVG = document.getElementById(idSVG);\n    } else {\n      elementSVG = document.getElementById('oct' + idSVG);\n    }\n    if (elementSVG) {\n      let xSVG = 0;\n      let ySVG = 0;\n      let widthSVG = 0;\n      let heightSVG = 0;\n      let top = '';\n      let left = '';\n      if (elementSVG.localName === 'path') {\n        const allValues: string = elementSVG.attributes['d'].nodeValue;\n        const arrayAllValues: string[] = allValues.split(' ');\n        let iX = -2;\n        let xMin = 1000000;\n        let xMax = 0;\n        let iY = -1;\n        let yMin = 1000000;\n        let yMax = 0;\n        for (let i = 0; i < arrayAllValues.length; i++) {\n          let valueToCheck = parseInt(arrayAllValues[i], 10);\n          if (i === iX + 3) {\n            if (valueToCheck < xMin) {\n              xMin = valueToCheck;\n            }\n            if (valueToCheck > xMax) {\n              xMax = valueToCheck;\n            }\n            iX = i;\n          }\n          if (i === iY + 3) {\n            if (valueToCheck < yMin) {\n              yMin = valueToCheck;\n            }\n            if (valueToCheck > yMax) {\n              yMax = valueToCheck;\n            }\n            iY = i;\n          }\n        }\n        left = xMax.toString();\n        top = yMax.toString();\n      } else if (elementSVG.localName === 'ellipse') {\n        xSVG = parseInt(elementSVG.attributes['cx'].nodeValue, 10);\n        ySVG = parseInt(elementSVG.attributes['cy'].nodeValue, 10);\n        const rX = parseInt(elementSVG.attributes['rx'].nodeValue, 10) * 2;\n        //const rY = parseInt(elementSVG.attributes['ry'].nodeValue, 10) * 2;\n        left = (xSVG + rX).toString();\n        top = ySVG.toString();\n      } else if (elementSVG.localName === 'rect') {\n        xSVG = parseInt(elementSVG.attributes['x'].nodeValue, 10);\n        ySVG = parseInt(elementSVG.attributes['y'].nodeValue, 10);\n        widthSVG = parseInt(elementSVG.attributes['width'].nodeValue, 10);\n        heightSVG = parseInt(elementSVG.attributes['height'].nodeValue, 10);\n        left = (xSVG + widthSVG).toString();\n        top = (ySVG + heightSVG).toString();\n      }\n      coor.top = (parseInt(top, 10) + parseInt(this.props.uneCoor.positionParameter.labelAPositionY, 10) * (-1)).toString();\n      coor.left = (parseInt(left, 10) + parseInt(this.props.uneCoor.positionParameter.labelAPositionX, 10)).toString();\n    }\n    return coor;\n  };\n\n  /** generate tooltip for metrics and apply color with lower limit */\n  generateTooltipAndEditColor = (region: RegionClass, valueQuery: number | null) => {\n    let stateIsFill = false;\n    const lowerLimit: LowerLimit = getLowerLimit(region, valueQuery);\n\n    if (region.mode) {\n      this.editColorSvgZone(region.idSVG, lowerLimit.colorBack, lowerLimit.colorBorder, lowerLimit.sizeBorder.toString());\n    }\n\n    // const resultTooltip: Tooltip = this.setStateTooltip(lowerLimit, region, valueQuery, this.props.isEnabled);\n    // const resultTooltip: Tooltip = this.setStateTooltip(lowerLimit, region, valueQuery);\n    const resultTooltip: any = this.setStateTooltip(lowerLimit, region, valueQuery);\n    //if (valueQuery) {\n    //if (region.mode && ((!region.textObj.isTextTooltip) || this.displayValueQuery(region))) {\n    if (region.mode) {\n      //const coordinateWrite: Coord4DInt | null = searchMinMaxIdSVG(region.idSVG);\n      const coordinateTextObject: CoorHTML = this.getPositionTextObjectRegionSVG(region.idSVG);\n      //if (coordinateWrite) {\n      stateIsFill = true;\n      const style: Style = region.textObj.style;\n      const styleWrite = {\n        width: 'auto',\n        position: 'absolute',\n        zIndex: 999,\n        // left: coordinateWrite.xMax - (coordinateWrite.xMax - coordinateWrite.xMin),\n        // top: coordinateWrite.yMax,\n        left: coordinateTextObject.left + 'px',\n        top: coordinateTextObject.top + 'px',\n        border: '1px solid black',\n        // backgroundColor: region.textObj.valueGenerateObjectText ? region.textObj.valueGenerateObjectText.colorBackElement : 'black',\n        // color: region.textObj.valueGenerateObjectText ? region.textObj.valueGenerateObjectText.colorTextElement : 'white',\n      } as CSSProperties;\n\n      const styleLabelTooltipSVG = {\n        textDecoration: this.defineTextDecoration(style),\n        fontStyle: this.defineFontStyle(style),\n        fontWeight: this.defineFontWeight(style),\n        fontSize: this.props.options.display.size,\n        fontFamily: this.props.options.display.police,\n        color: region.textObj.colorText,\n        backgroundColor: region.textObj.colorBack,\n        margin: 0,\n        padding: '5px 5px 0 5px',\n      } as React.CSSProperties;\n\n      const styleMainMetricTooltipSVG = {\n        textDecoration: this.defineTextDecoration(style),\n        fontStyle: this.defineFontStyle(style),\n        fontWeight: this.defineFontWeight(style),\n        color: region.textObj.valueGenerateObjectText.addColorTextElement ? region.textObj.valueGenerateObjectText.colorTextElement : 'white',\n        backgroundColor: region.textObj.valueGenerateObjectText.addColorBackElement\n          ? region.textObj.valueGenerateObjectText.colorBackElement\n          : 'black',\n        fontSize: this.props.options.display.size,\n        fontFamily: this.props.options.display.police,\n        margin: 0,\n        padding: '5px 5px 0 5px',\n      } as React.CSSProperties;\n\n      let htmlResult = (\n        <div style={styleWrite}>\n          {!region.textObj.isTextTooltip && <p style={styleLabelTooltipSVG}>{region.label}</p>}\n          {region.textObj.generateObjectText && !region.textObj.valueGenerateObjectText.displayObjectInTooltip && (\n            <p style={styleMainMetricTooltipSVG}>{this.displayValueQuery(region) && resultTooltip.valueQuery}</p>\n          )}\n        </div>\n      );\n      if (region.textObj.isTextTooltip && region.textObj.valueGenerateObjectText.displayObjectInTooltip) {\n        htmlResult = <div></div>;\n      }\n      this.setState({\n        htmlResult: htmlResult,\n        tooltipValue: resultTooltip.tooltipValue,\n        backgroundColor: resultTooltip.backgroundColor,\n        borderColor: resultTooltip.borderColor,\n        sizeBorder: resultTooltip.sizeBorder,\n        valueQuery: resultTooltip.valueQuery,\n      });\n      //}\n      //}\n    }\n    if (!stateIsFill) {\n      this.setState({\n        tooltipValue: resultTooltip.tooltipValue,\n        backgroundColor: resultTooltip.backgroundColor,\n        borderColor: resultTooltip.borderColor,\n        sizeBorder: resultTooltip.sizeBorder,\n        valueQuery: resultTooltip.valueQuery,\n      });\n    }\n  };\n\n  /** get data metrics and fill state */\n  reqMetrics = () => {\n    const region: RegionClass = this.props.uneCoor;\n\n    reqMetricRegion(region, this.props);\n    if (region.mainMetric.returnQuery && region.mainMetric.returnQuery.length > 0) {\n      const cnt: number | null = getResultQuery(region.mainMetric);\n\n      this.generateTooltipAndEditColor(region, cnt);\n    } else {\n      this.generateTooltipAndEditColor(region, null);\n    }\n  };\n\n  getValuesAuxiliaryMetrics = (): string[] => {\n    const region: RegionClass = this.props.uneCoor;\n    reqMetricAuxRegion(region, this.props);\n    const mainMetric: Metric = region.mainMetric;\n    const auxiliaryMetrics: Metric[] = region.metrics;\n    let valueAuxiliaryMetric: string[] = [];\n    //const countMetrics: number = auxiliaryMetrics.length;\n    auxiliaryMetrics.forEach((metric: Metric) => {\n      let countTotalValues = 0;\n      let resultTotalValues = 0;\n      let result = '';\n      if (metric.returnQuery && metric.returnQuery.length > 0) {\n        let numberLoop: number = metric.returnQuery?.length || 0;\n        if (metric.key !== '' && metric.keyValue !== '') {\n          for (let i = 0; i < numberLoop; i++) {\n            let line = metric.returnQuery[i];\n            if (line.fields[0].labels) {\n              if (mainMetric.refId !== '') {\n                if (line.fields[0].labels[mainMetric.key] === mainMetric.keyValue || (mainMetric.key === '' && mainMetric.keyValue === '')) {\n                  if (line.fields[0].labels[metric.key] === metric.keyValue) {\n                    const countValues: number = line.fields[0].values.length;\n                    for (let i = 0; i < countValues; i++) {\n                      if (line.fields[0].values.get(i)) {\n                        resultTotalValues += line.fields[0].values.get(i);\n                        countTotalValues++;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        } else {\n          for (let i = 0; i < numberLoop; i++) {\n            let line = metric.returnQuery[i];\n            if (line.fields[0].labels) {\n              if (mainMetric.refId) {\n                if (line.fields[0].labels[mainMetric.key] === mainMetric.keyValue || (mainMetric.key === '' && mainMetric.keyValue === '')) {\n                  const countValues: number = line.fields[0].values.length;\n                  for (let i = 0; i < countValues; i++) {\n                    if (line.fields[0].values.get(i)) {\n                      resultTotalValues += line.fields[0].values.get(i);\n                      countTotalValues++;\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        if (metric.manageValue === 'avg') {\n          result = (resultTotalValues / countTotalValues).toString();\n        } else if (metric.manageValue === 'sum') {\n          result = resultTotalValues.toString();\n        } else if (metric.manageValue === 'err') {\n          if (countTotalValues > 1) {\n            result = 'error';\n          } else {\n            result = resultTotalValues.toString();\n          }\n        }\n      }\n      if (result !== '') {\n        valueAuxiliaryMetric.push(result);\n      }\n    });\n    return valueAuxiliaryMetric;\n  };\n\n  private getConvertValueAuxMetrics = (valueBrut: string): string => {\n    let result = '';\n    const region: RegionClass = this.props.uneCoor;\n    //const roundValue: string = region.textObj.generateAuxiliaryElement.numericFormatElement;\n    const roundValue: number = parseInt(region.textObj.generateAuxiliaryElement.numericFormatElement, 10) || 1;\n    const unit: string = region.textObj.generateAuxiliaryElement.unit;\n    //if (roundValue !== '') {\n    result = parseFloat(valueBrut).toPrecision(roundValue).toString();\n    // } else {\n    //   result = valueBrut;\n    // }\n    return result + ' ' + unit;\n  };\n\n  private displayValuesAuxMetrics = (): JSX.Element => {\n    let html: JSX.Element[] = [];\n    const region: RegionClass = this.props.uneCoor;\n    const valuesAuxMetrics: string[] = this.getValuesAuxiliaryMetrics();\n    const auxMetrics: Metric[] = region.metrics;\n    const addColorText: boolean = region.textObj.generateAuxiliaryElement.addColorTextElement;\n    const addColorBack: boolean = region.textObj.generateAuxiliaryElement.addColorBackElement;\n    const legend: string = region.textObj.generateAuxiliaryElement.legendElement;\n    let colorText = '';\n    let colorBack = '';\n\n    if (addColorText) {\n      colorText = region.textObj.generateAuxiliaryElement.colorTextElement;\n    } else {\n      colorText = 'white';\n    }\n\n    if (addColorBack) {\n      colorBack = region.textObj.generateAuxiliaryElement.colorBackElement;\n    } else {\n      colorBack = 'black';\n    }\n\n    const styleTitle = {\n      fontFamily: this.props.options.display.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: colorText,\n      //backgroundColor: colorBack,\n    } as React.CSSProperties;\n\n    const styleTitle2 = {\n      fontFamily: this.props.options.display.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginLeft: '5px',\n      marginBottom: '0px',\n      color: colorText,\n      //backgroundColor: colorBack,\n    } as React.CSSProperties;\n\n    const styleContent = {\n      fontFamily: this.props.options.display.police,\n      fontSize: '9px',\n      marginLeft: '10px',\n      marginBottom: '0px',\n      color: colorText,\n      //backgroundColor: colorBack,\n    } as React.CSSProperties;\n\n    if (auxMetrics.length > 0) {\n      html.push(\n        <p key={'region' + region.id + 'contentToolTip1'} style={styleTitle}>\n          Auxiliary Metric\n        </p>\n      );\n      html.push(\n        <p key={'region' + region.id + 'contentToolTip2'} style={styleTitle}>\n          {legend}\n        </p>\n      );\n      let index = 1;\n      for (const metric of auxMetrics) {\n        const valueAuxMetric: string = this.getConvertValueAuxMetrics(valuesAuxMetrics[index - 1]);\n        html.push(\n          <p key={index + 'region' + region.id + 'contentToolTip3'} style={styleTitle2}>\n            + Metric {index}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.id + 'contentToolTip4'} style={styleContent}>\n            - Reference : {metric.refId}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.id + 'contentToolTip5'} style={styleContent}>\n            - Value : {!isNaN(parseFloat(valueAuxMetric)) && valueAuxMetric}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.id + 'contentToolTip6'} style={styleContent}>\n            - Key : {metric.key}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.id + 'contentToolTip7'} style={styleContent}>\n            - KeyValue : {metric.keyValue}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.id + 'contentToolTip8'} style={styleContent}>\n            - Type : {metric.manageValue}\n          </p>\n        );\n        index++;\n      }\n    }\n    return <div style={{ backgroundColor: colorBack }}>{html}</div>;\n  };\n\n  displayValuesMetaData = (): JSX.Element | null => {\n    const styleTitleMetaData = {\n      fontFamily: this.props.options.display.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: 'white',\n    } as React.CSSProperties;\n\n    let result: JSX.Element[] = [];\n    if (this.props.uneCoor.meta.length !== 0) {\n      result.push(\n        <p key={'region' + this.props.uneCoor.id + 'ContentTooltip9' + this.props.uneCoor.label} style={styleTitleMetaData}>\n          Metadata\n        </p>\n      );\n      this.props.uneCoor.meta.forEach((oneMetaData, index) => {\n        const styleContentMetaData = {\n          color: oneMetaData.obj.colorText,\n          backgroundColor: oneMetaData.obj.colorBack,\n          fontWeight: oneMetaData.obj.style.bold ? 'bold' : 'normal',\n          fontStyle: oneMetaData.obj.style.italic ? 'italic' : 'normal',\n          textDecoration: oneMetaData.obj.style.underline ? 'underline' : 'none',\n          fontFamily: this.props.options.display.police,\n          fontSize: '9px',\n          marginLeft: '10px',\n          marginBottom: '0px',\n        } as CSSProperties;\n        result.push(\n          <p key={index + 'region' + this.props.uneCoor.id + 'ContentTooltip10' + this.props.uneCoor.label} style={styleContentMetaData}>\n            - {oneMetaData.meta}\n          </p>\n        );\n      });\n    } else {\n      return null;\n    }\n    return <div>{result}</div>;\n  };\n\n  /**\n   * to do\n   * @param coordinateX\n   *\n   */\n  private defineLimitX(coordinateX: number) {\n    let result: number = coordinateX;\n    // if (this.props.options.coordinateSpaceInitial.defaultReferentiel) {\n    //   if (coordinateX > 100) {\n    //     result = 100;\n    //   }\n    //   if (coordinateX < 0) {\n    //     result = 0;\n    //   }\n    // } else {\n    //   if (coordinateX > 100) {\n    //     result = 100;\n    //   }\n    //   if (coordinateX < -100) {\n    //     result = -100;\n    //   }\n    // }\n    return result;\n  }\n\n  /**\n   * to do\n   * @param coordinateY\n   *\n   */\n  private defineLimitY(coordinateY: number) {\n    let result: number = coordinateY;\n    // if (this.props.options.coordinateSpaceInitial.defaultReferentiel) {\n    //   if (coordinateY > 100) {\n    //     result = 100;\n    //   }\n    //   if (coordinateY < 0) {\n    //     result = 0;\n    //   }\n    // } else {\n    //   if (coordinateY > 100) {\n    //     result = 100;\n    //   }\n    //   if (coordinateY < -100) {\n    //     result = -100;\n    //   }\n    // }\n    return result;\n  }\n\n  getCoordinatePxAdaptToInitialSpace = (\n    region: RegionClass,\n    // coorRegion: Coord4D,\n    coorRegionDefault: Coord4D,\n    // widthInitialSpaceDefault: number,\n    // heightInitialSpaceDefault: number\n  ): CoorHTML => {\n    const widthBackground: number = parseInt(this.props.options.baseMap.width, 10);\n    const heightBackground: number = parseInt(this.props.options.baseMap.height, 10);\n    const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n    const xMin: number = parseInt(initialSpace.xMin, 10);\n    const xMax: number = parseInt(initialSpace.xMax, 10);\n    const yMin: number = parseInt(initialSpace.yMin, 10);\n    const yMax: number = parseInt(initialSpace.yMax, 10);\n    const widthInitialSpace: number = xMax - xMin;\n    const heightInitialSpace: number = yMax - yMin;\n    let leftPx = 0;\n    let rightPx = 0;\n    let topPx = 0;\n    let bottomPx = 0;\n\n    const ratioLeft = parseInt(coorRegionDefault.xMin, 10) / widthBackground;\n    const ratioRight = (widthBackground - parseInt(coorRegionDefault.xMax, 10)) / widthBackground;\n    const ratioTop = (heightBackground - parseInt(coorRegionDefault.yMax, 10)) / heightBackground;\n    const ratioBottom = parseInt(coorRegionDefault.yMin, 10) / heightBackground;\n    leftPx = Math.round(this.defineLimitX(xMin + widthInitialSpace * ratioLeft));\n    rightPx = Math.round(this.defineLimitX(widthInitialSpace * ratioRight + (widthBackground - xMax)));\n    topPx = Math.round(this.defineLimitY(heightInitialSpace * ratioTop + (heightBackground - yMax)));\n    bottomPx = Math.round(this.defineLimitY(yMin + heightInitialSpace * ratioBottom));\n\n    let newArrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n    newArrayRegion.forEach((currentRegion) => {\n      if (currentRegion.id === region.id) {\n        currentRegion.coords.xMin = leftPx.toString();\n        currentRegion.coords.xMax = (widthBackground - rightPx).toString();\n        currentRegion.coords.yMin = bottomPx.toString();\n        currentRegion.coords.yMax = (heightBackground - topPx).toString();\n      }\n    });\n    this.props.options.regionCoordinateSpace = newArrayRegion;\n\n    const leftToDraw = ((leftPx - xMin) / widthInitialSpace) * widthBackground;\n    const rightToDraw = ((rightPx - (widthBackground - xMax)) / widthInitialSpace) * widthBackground;\n    const topToDraw = ((topPx - (heightBackground - yMax)) / heightInitialSpace) * heightBackground;\n    const bottomToDraw = ((bottomPx - yMin) / heightInitialSpace) * heightBackground;\n\n    let result: CoorHTML = {\n      top: topToDraw.toString() + 'px',\n      bottom: bottomToDraw.toString() + 'px',\n      left: leftToDraw.toString() + 'px',\n      right: rightToDraw.toString() + 'px',\n    };\n    return result;\n  };\n\n  /** final region zone . Call function after reqMetrics*/\n  renduFinal = () => {\n    if (this.props.uneCoor.mode) {\n      return;\n    }\n    const region: RegionClass = this.props.uneCoor;\n    const pBorder: string = this.state.sizeBorder.toString() + 'px solid ' + this.state.borderColor;\n\n    const backColor: string = region.textObj.colorBack;\n    const textColor: string = region.textObj.colorText;\n\n    //const coorHTML: CoorHTML = calculRealCoordinate(region, this.props.useLimit, this.props.limit);\n    const coorHTML: CoorHTML = this.getCoordinatePxAdaptToInitialSpace(\n      region,\n      region.coordsDefault\n      // region.coords,\n      // parseInt(region.widthInitialSpaceDefault, 10),\n      // parseInt(region.heightInitialSpaceDefault, 10)\n    );\n    const style: Style = region.textObj.style;\n\n    let valueCursor = 'default';\n    if (this.props.buttonAddLinkIsActive || this.props.buttonAddIncurvedLinkIsActive) {\n      valueCursor = 'pointer';\n    }\n\n    const styleDiv = {\n      position: 'absolute',\n      border: pBorder,\n      top: coorHTML.top,\n      bottom: coorHTML.bottom,\n      left: coorHTML.left,\n      right: coorHTML.right,\n      zIndex: 999,\n      justifyContent: 'center',\n      background: 'url(' + region.img + ') no-repeat center center',\n      backgroundColor: this.state.backgroundColor,\n      backgroundSize: 'contain',\n      cursor: valueCursor,\n    } as React.CSSProperties;\n\n    const styleTextDiv = {\n      backgroundColor: backColor,\n      textDecoration: this.defineTextDecoration(style),\n      fontStyle: this.defineFontStyle(style),\n      fontWeight: this.defineFontWeight(style),\n      textAlign: 'center',\n      //verticalAlign: 'middle',\n      color: textColor,\n      marginTop: (parseInt(region.positionParameter.labelAPositionY, 10) * -1) + 'px',\n      marginLeft: region.positionParameter.labelAPositionX + 'px',\n    } as React.CSSProperties;\n\n    const styleMetricsDiv = {\n      textDecoration: this.defineTextDecoration(style),\n      fontStyle: this.defineFontStyle(style),\n      fontWeight: this.defineFontWeight(style),\n      backgroundColor: region.textObj.valueGenerateObjectText ? region.textObj.valueGenerateObjectText.colorBackElement : 'black',\n      color: region.textObj.valueGenerateObjectText ? region.textObj.valueGenerateObjectText.colorTextElement : 'white',\n      textAlign: 'center',\n      //verticalAlign: 'middle',\n    } as React.CSSProperties;\n\n    let positionTooltip: any = '';\n    if (region.positionParameter.tooltipPositionA.value) {\n      positionTooltip = region.positionParameter.tooltipPositionA.value.toLowerCase();\n    }\n\n    let value: JSX.Element;\n\n    if (this.props.buttonAddLinkIsActive || this.props.buttonAddIncurvedLinkIsActive) {\n      value = (\n        <div style={styleDiv} id={this.props.id}>\n          {(!region.textObj.isTextTooltip || region.textObj.generateObjectText) && (\n            <div>\n              <div style={styleTextDiv}>{!region.textObj.isTextTooltip && region.label}</div>\n              <div style={styleMetricsDiv}>\n                {region.textObj.generateObjectText && !region.textObj.valueGenerateObjectText.displayObjectInTooltip && this.state.valueQuery}\n              </div>\n            </div>\n          )}\n        </div>\n      );\n      if (\n        region.textObj.isTextTooltip ||\n        (region.textObj.generateObjectText && region.textObj.valueGenerateObjectText.displayObjectInTooltip) ||\n        region.textObj.generateAuxiliaryElement.displayObjectInTooltip ||\n        region.meta.length !== 0\n      ) {\n        // if (this.state.tooltipValue) {\n        //   value = <Tooltip content={this.state.tooltipValue}>{value}</Tooltip>;\n        // } else {\n        //   <div>{value}</div>;\n        // }\n        if (this.state.tooltipValue === null) {\n          <div>{value}</div>;\n        } else {\n          value = <Tooltip placement={positionTooltip} content={this.state.tooltipValue}>{value}</Tooltip>;\n        }\n      }\n    } else {\n      value = (\n        <div style={styleDiv} id={this.props.id}>\n          <a href={region.linkURL.followLink} onClick={this.desactiveLink} style={{cursor: this.defineCursor()}} target=\"_blank\" rel=\"noopener noreferrer\">\n            <div style={{ height: '100%', width: '100%' }}>\n              {(!region.textObj.isTextTooltip || region.textObj.generateObjectText) && (\n                <div>\n                  <div style={styleTextDiv}>{!region.textObj.isTextTooltip && region.label}</div>\n                  <div style={styleMetricsDiv}>\n                    {region.textObj.generateObjectText && !region.textObj.valueGenerateObjectText.displayObjectInTooltip && this.state.valueQuery}\n                  </div>\n                </div>\n              )}\n            </div>\n          </a>\n        </div>\n      );\n      if (\n        region.textObj.isTextTooltip ||\n        (region.textObj.generateObjectText && region.textObj.valueGenerateObjectText.displayObjectInTooltip) ||\n        region.textObj.generateAuxiliaryElement.displayObjectInTooltip ||\n        region.meta.length !== 0\n      ) {\n        // if (this.state.tooltipValue) {\n        //   value = <Tooltip content={this.state.tooltipValue}>{value}</Tooltip>;\n        // } else {\n        //   <div>{value}</div>;\n        // }\n        if (this.state.tooltipValue === null) {\n          <div>{value}</div>;\n        } else {\n          value = <Tooltip placement={positionTooltip} content={this.state.tooltipValue}>{value}</Tooltip>;\n        }\n      }\n    }\n    // if (!this.props.isEnabled && region.linkURL.followLink !== '') {\n    //   value = (\n    //     <div style={styleDiv} id={this.props.id}>\n    //       <a href={region.linkURL.followLink}>\n    //         <div style={{height: '100%', width: '100%'}} >\n    //           {(!region.textObj.isTextTooltip || region.textObj.generateObjectText) && (\n    //             <div>\n    //               <div style={styleTextDiv}>{!region.textObj.isTextTooltip && region.label}</div>\n    //               <div style={styleMetricsDiv}>\n    //                 {region.textObj.generateObjectText && !region.textObj.valueGenerateObjectText.displayObjectInTooltip && this.state.valueQuery}\n    //               </div>\n    //             </div>\n    //           )}\n    //         </div>\n    //       </a>\n    //     </div>\n    //   );\n    //   if (region.textObj.isTextTooltip || (region.textObj.generateObjectText && region.textObj.valueGenerateObjectText.displayObjectInTooltip) || region.textObj.generateAuxiliaryElement.displayObjectInTooltip) {\n    //     value = <Tooltip content={this.state.tooltipValue}>{value}</Tooltip>;\n    //   }\n    // } else {\n    //   value = (\n    //     <div style={styleDiv} id={this.props.id}>\n    //       {(!region.textObj.isTextTooltip || region.textObj.generateObjectText) && (\n    //         <div>\n    //           <div style={styleTextDiv}>{!region.textObj.isTextTooltip && region.label}</div>\n    //           <div style={styleMetricsDiv}>\n    //             {region.textObj.generateObjectText && !region.textObj.valueGenerateObjectText.displayObjectInTooltip && this.state.valueQuery}\n    //           </div>\n    //         </div>\n    //       )}\n    //     </div>\n    //   );\n    //   if (region.textObj.isTextTooltip || (region.textObj.generateObjectText && region.textObj.valueGenerateObjectText.displayObjectInTooltip) || region.textObj.generateAuxiliaryElement.displayObjectInTooltip) {\n    //     value = <Tooltip content={this.state.tooltipValue}>{value}</Tooltip>;\n    //   }\n    // }\n    this.setState({\n      htmlResult: value,\n    });\n  };\n\n  /** fill state to display data in html */\n  fillState = async () => {\n    await Promise.resolve('Success').then(() => {\n      this.reqMetrics();\n    });\n    await Promise.resolve('Success').then(() => {\n      this.renduFinal();\n    });\n  };\n\n  private defineTextDecoration = (mainStyle: Style): string => {\n    let result = '';\n    if (mainStyle.underline) {\n      result = 'underline';\n    } else {\n      if (this.props.options.display.style.underline) {\n        result = 'underline';\n      } else {\n        result = 'none';\n      }\n    }\n    return result;\n  };\n\n  private defineFontStyle = (mainStyle: Style): string => {\n    let result = '';\n    if (mainStyle.italic) {\n      result = 'italic';\n    } else {\n      if (this.props.options.display.style.italic) {\n        result = 'italic';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n\n  private defineFontWeight = (mainStyle: Style): any => {\n    let result = '';\n    if (mainStyle.bold) {\n      result = 'bold';\n    } else {\n      if (this.props.options.display.style.bold) {\n        result = 'bold';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n\n  /**\n   * update props\n   * @param prevProps\n   */\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps !== this.props) {\n      this.fillState();\n    }\n  }\n\n  /** load prometheus value */\n  componentDidMount = () => {\n    this.fillState();\n  };\n\n  /** render */\n  render() {\n    return this.state.htmlResult;\n  }\n}\n","import { LowerLimitClass } from 'Models/LowerLimitClass';\nimport { RegionClass } from 'Models/RegionClass';\n\nexport interface LowerLimit {\n  /** color for background */\n  colorBack: string;\n  /** border color */\n  colorBorder: string;\n  /** size border */\n  sizeBorder: number;\n}\n\n/**\n * Get color with lower limit and prometheus value\n * @returns {LowerLimit} new color value\n */\nexport const getLowerLimit = (coordinate: RegionClass, value: number | null): LowerLimit => {\n  const lowerLimit: LowerLimitClass[] = coordinate.lowerLimit;\n  const result: LowerLimit = { colorBack: '', colorBorder: '', sizeBorder: 0 };\n\n  if (coordinate.colorMode && value) {\n    for (const line of lowerLimit) {\n      //const min: string = line.lowerLimitMin.replace('>', '');\n      const min = line.lowerLimitMin.split('')[0] === '>' ? line.lowerLimitMin.substr(1) : line.lowerLimitMin;\n      const minFloat: number = parseFloat(min);\n      const maxFloat: number = parseFloat(line.lowerLimitMax);\n      if ((minFloat <= value || !line.lowerLimitMin) && (maxFloat >= value || !line.lowerLimitMax)) {\n        if (lowerLimit.length > 0) {\n          result.colorBack = coordinate.traceBack ? line.backColor : '';\n          result.colorBorder = coordinate.traceBorder ? line.borderColor : '';\n          result.sizeBorder = coordinate.traceBorder ? parseInt(line.sizeBorder, 10) : 0;\n          break;\n        }\n      }\n    }\n  } else {\n    if (lowerLimit.length > 0) {\n      result.colorBack = coordinate.traceBack ? lowerLimit[0].backColor : '';\n      result.colorBorder = coordinate.traceBorder ? lowerLimit[0].borderColor : '';\n      result.sizeBorder = coordinate.traceBorder ? parseInt(lowerLimit[0].sizeBorder, 10) : 0;\n    }\n  }\n  return result;\n};\n","import React from 'react';\n\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions, CoordinateSpaceInitial } from 'types';\n\nimport { isNumFloat } from 'Functions/isNumFloat';\nimport DrawRectangleExtend from './drawRectangleExtend';\nimport { RegionClass, Coord4D } from 'Models/RegionClass';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  /** color of border */\n  color: string;\n  /** coordinate space initial */\n  coordinateInitial: CoordinateSpaceInitial;\n  /** id region */\n  id: string;\n  /** if button SimplePanel is active, block all onClick region space */\n  //isEnabled: boolean;\n  /** if button Add Oriented Link of SimplePanel is active, block all onClick region space */\n  buttonAddLinkIsActive: boolean;\n  /** if button Add Incurved Oriented Link of SimplePanel is active, block all onClick region space */\n  buttonAddIncurvedLinkIsActive: boolean;\n}\n\n// tslint:disable-next-line: no-empty-interface\ninterface State {\n  /** stock html for result */\n  resultHTML: JSX.Element;\n}\n\n/**\n * Draw inititial viewing space rectangle\n */\nexport default class DrawRectangle extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      resultHTML: <div></div>,\n    };\n  }\n\n  /**\n   * Transform coordinate percent for css\n   * @param {number} size value of coordinate\n   * @param {boolean} isMax true if x or y is max value\n   * @returns coordinate to percent\n   */\n  transformCoordonneesToPx = (size: number, isMax: boolean, position: number): number => {\n    /**\n     *\n     * V1 -100-100\n     *\n     */\n    // if (size > 100) {\n    //   size = 100;\n    // } else if (size < 0 && size < -100) {\n    //   size = -100;\n    // }\n    // if (size >= 0) {\n    //   size /= 2;\n    //   size = isMax ? 50 - size : 50 + size;\n    // } else {\n    //   size *= -1;\n    //   size /= 2;\n    //   size = 50 - size;\n    // }\n    // return size;\n\n    /**\n     *\n     * Correctif client 0-100\n     *\n     */\n    let result = 0;\n    // if (!this.props.options.coordinateSpaceInitial.defaultReferentiel) {\n    //   if (size > 100) {\n    //     size = 100;\n    //   } else if (size < 0 && size < -100) {\n    //     size = -100;\n    //   }\n    //   if (size >= 0) {\n    //     size /= 2;\n    //     size = isMax ? 50 - size : 50 + size;\n    //   } else {\n    //     size *= -1;\n    //     size /= 2;\n    //     size = 50 - size;\n    //   }\n    //   result = size;\n    // } else {\n    //   if (position === 1) {\n    //     result = size;\n    //   } else if (position === 2) {\n    //     result = 100 - size;\n    //   } else if (position === 3) {\n    //     result = size;\n    //   } else if (position === 4) {\n    //     result = 100 - size;\n    //   }\n    // }\n    return result;\n  };\n\n  limitValueBorder = (value: number, position: number): number => {\n    const widthBackground = parseInt(this.props.options.baseMap.width, 10);\n    const heigthBackground = parseInt(this.props.options.baseMap.height, 10);\n    let result = value;\n    if (position === 1 || position === 2) {\n      //xMin + xMax\n      if (value > widthBackground) {\n        result = widthBackground;\n      }\n    } else if (position === 3 || position === 4) {\n      //yMin + yMax\n      if (value > heigthBackground) {\n        result = heigthBackground;\n      }\n    }\n    return result;\n  };\n\n  getPositionBorder = (value: number, position: number): number => {\n    // const widthBackground = parseInt(this.props.options.baseMap.width, 10);\n    // const heigthBackground = parseInt(this.props.options.baseMap.height, 10);\n    // const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    // const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    // const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    // const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    // const widthInitialSpace = xMaxInitialSpace - xMinInitialSpace;\n    // const heightInitialSpace = yMaxInitialSpace - yMinInitialSpace;\n    let result = 0;\n    // if (position === 1) {\n    //   //xMin\n    //   if (value < 0) {\n    //     result = 0;\n    //   } else if (xMaxInitialSpace > widthBackground) {\n    //     result = (value / xMaxInitialSpace) * widthBackground;\n    //   } else {\n    //     result = value;\n    //   }\n    // } else if (position === 2) {\n    //   //xMax\n    //   if (value > widthBackground) {\n    //     result = 0;\n    //   } else {\n    //     result = widthBackground - value;\n    //   }\n    // } else if (position === 3) {\n    //   //yMax\n    //   if (value > heigthBackground) {\n    //     result = 0;\n    //   } else {\n    //     result = heigthBackground - value;\n    //   }\n    // } else if (position === 4) {\n    //   //yMin\n    //   if (value < 0) {\n    //     result = 0;\n    //   } else if (yMaxInitialSpace > heigthBackground) {\n    //     result = (value / yMaxInitialSpace) * heigthBackground;\n    //   } else {\n    //     result = value;\n    //   }\n    // }\n    return result;\n  };\n\n  fillCoordinate = (): JSX.Element => {\n    const { options } = this.props;\n    const xMinInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const yMinInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.yMax, 10);\n    let mapItems: JSX.Element[];\n    mapItems = options.regionCoordinateSpace.map((line: RegionClass, index: number) => (\n      <DrawRectangleExtend\n        key={'drawRectangleExtend' + index.toString()}\n        uneCoor={line}\n        useLimit={false}\n        limit={options.coordinateSpaceInitial.coordinate}\n        onOptionsChange={this.props.onOptionsChange}\n        options={this.props.options}\n        data={this.props.data}\n        id={'region' + line.id.toString()}\n        //isEnabled={this.props.isEnabled}\n        buttonAddLinkIsActive={this.props.buttonAddLinkIsActive}\n        buttonAddIncurvedLinkIsActive={this.props.buttonAddIncurvedLinkIsActive}\n        widthInitialSpaceDefault={(xMaxInitialSpace - xMinInitialSpace).toString()}\n        heightInitialSpaceDefault={(yMaxInitialSpace - yMinInitialSpace).toString()}\n      />\n    ));\n    return <ul>{mapItems}</ul>;\n  };\n\n  /** creaate rectrangle */\n  createRectangle = (): void => {\n    const line: Coord4D = this.props.coordinateInitial.coordinate;\n    let pLeft: string;\n    let pRight: string;\n    let pTop: string;\n    let pBottom: string;\n    let xMin = 0;\n    let xMax = 0;\n    let yMin = 0;\n    let yMax = 0;\n    const pBorder: string = this.props.coordinateInitial.displayArea ? '3px solid ' + this.props.color : '';\n\n    xMin = isNumFloat(line.xMin) ? parseInt(line.xMin, 10) : 0;\n    xMax = isNumFloat(line.xMax) ? parseInt(line.xMax, 10) : 0;\n    yMin = isNumFloat(line.yMin) ? parseInt(line.yMin, 10) : 0;\n    yMax = isNumFloat(line.yMax) ? parseInt(line.yMax, 10) : 0;\n\n    // pLeft = this.transformCoordonneesToPx(xMin, false, 1).toString() + '%';\n    // pRight = this.transformCoordonneesToPx(xMax, true, 2).toString() + '%';\n    // pBottom = this.transformCoordonneesToPx(yMin, false, 3).toString() + '%';\n    // pTop = this.transformCoordonneesToPx(yMax, true, 4).toString() + '%';\n    pLeft = this.getPositionBorder(xMin, 1).toString() + 'px';\n    pRight = this.getPositionBorder(xMax, 2).toString() + 'px';\n    pTop = this.getPositionBorder(yMax, 3).toString() + 'px';\n    pBottom = this.getPositionBorder(yMin, 4).toString() + 'px';\n\n    // if (xMax >= 0) {\n    //   pLeft = this.transformCoordonneesToPx(xMin, false, 1).toString() + 'px';\n    //   pRight = this.transformCoordonneesToPx(xMax, true, 2).toString() + 'px';\n    // } else {\n    //   xMin = xMin * -1;\n    //   pRight = this.transformCoordonneesToPx(xMin, false, 1).toString() + 'px';\n    //   pLeft = this.transformCoordonneesToPx(xMax, true, 2).toString() + 'px';\n    // }\n    // if (yMax >= 0) {\n    //   pBottom = this.transformCoordonneesToPx(yMin, false, 3).toString() + 'px';\n    //   pTop = this.transformCoordonneesToPx(yMax, true, 4).toString() + 'px';\n    // } else {\n    //   yMin = yMin * -1;\n    //   pTop = this.transformCoordonneesToPx(yMin, false, 3).toString() + 'px';\n    //   pBottom = this.transformCoordonneesToPx(yMax, true, 4).toString() + 'px';\n    // }\n\n    const data: JSX.Element = (\n      <div\n        style={{\n          border: pBorder,\n          bottom: pBottom,\n          left: pLeft,\n          position: 'absolute',\n          right: pRight,\n          top: pTop,\n        }}\n        id={this.props.id}\n      >\n        {/* {this.fillCoordinate()} */}\n      </div>\n    );\n    this.setState({\n      resultHTML: data,\n    });\n  };\n\n  /** update state when props coordinateInitial change */\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps !== this.props) {\n      this.createRectangle();\n    }\n  }\n\n  /** create rectangle when component mount */\n  componentDidMount = () => {\n    this.createRectangle();\n  };\n\n  /**\n   * render\n   */\n  render() {\n    const test = {\n      position: 'absolute',\n      textAlign: 'center',\n      height: this.props.options.baseMap.height + 'px',\n      width: this.props.options.baseMap.width + 'px',\n    } as React.CSSProperties;\n\n    return <div style={test}>{this.state.resultHTML}</div>;\n  }\n}\n","import React, { CSSProperties } from 'react';\nimport { SelectableValue, PanelEditorProps } from '@grafana/data';\nimport { RegionClass, Coord4D } from 'Models/RegionClass';\nimport { Tooltip } from '@grafana/ui';\nimport { SimpleOptions, Metric, Metadata } from 'types';\nimport { TextObject } from 'Models/TextObjectClass';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\nimport { LinkURLClass } from 'Models/LinkURLClass';\nimport { Style } from 'components/Parametrage/styleComponent';\nimport { PointClass } from 'Models/PointClass';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  drawGraphicMarker: SelectableValue<string>;\n  shape: SelectableValue<string>;\n  size: string;\n  positionShapeX: string;\n  positionShapeY: string;\n  label: string;\n  color: string;\n  widthImage: number;\n  heightImage: number;\n  police: string;\n  sizePolice: string;\n  //style: Style;\n  idPoint: string;\n  name: string;\n  textObject: TextObject;\n  seuil: LowerLimitClass[];\n  valueMainMetric: string;\n  refMainMetric: string;\n  associateOrientedLinkIn: any[];\n  associateOrientedLinkOut: any[];\n  labelPositionX: string;\n  labelPositionY: string;\n  tooltipPosition: SelectableValue<any>;\n  auxiliaryMetrics: Metric[];\n  valuesAuxiliaryMetrics: string[];\n  linkUrl: LinkURLClass;\n  buttonAddLinkIsActive: boolean;\n  buttonAddIncurvedLinkIsActive: boolean;\n  widthInitialSpaceDefault: string;\n  heightInitialSpaceDefault: string;\n  positionXDefault: string;\n  positionYDefault: string;\n  metaData: Metadata[];\n  colorMode: boolean;\n  traceBorder: boolean;\n  traceBack: boolean;\n}\n\ninterface State {}\n\n/**\n * to do\n */\nexport default class DrawPoint extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {};\n  }\n\n  /**\n   * to do\n   * @param coordinateX\n   *\n   */\n  private defineLimitX(coordinateX: number) {\n    let result: number = coordinateX;\n    const xMin: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMax: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    if (coordinateX < xMin) {\n      result = xMin;\n    } else if (coordinateX > xMax) {\n      result = xMax;\n    }\n    return result;\n  }\n\n  /**\n   * to do\n   * @param coordinateY\n   *\n   */\n  private defineLimitY(coordinateY: number) {\n    let result: number = coordinateY;\n    const yMin: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMax: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    if (coordinateY < yMin) {\n      result = yMin;\n    } else if (coordinateY > yMax) {\n      result = yMax;\n    }\n    return result;\n  }\n\n  /**\n   * to do\n   * @param defineCenter\n   * @param sizeGraphicMarkerPx\n   * @param shapeGraphicMarker\n   */\n  private definePositionX(positionX: number, initialSpace: Coord4D, size: number, shape: string): number {\n    const xMin: number = parseInt(initialSpace.xMin, 10);\n    const xMax: number = parseInt(initialSpace.xMax, 10);\n    const widthInitialSpace: number = xMax - xMin;\n    const ratioX = parseInt(this.props.positionXDefault, 10) / this.props.widthImage;\n\n    // define value to display in input positionShapeX\n    const x = Math.round(xMin + widthInitialSpace * ratioX);\n\n    // saving data new positionShapeX\n    let newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n    newArrayPoint.forEach((point) => {\n      if (point.name === this.props.name) {\n        point.positionShapeX = x.toString();\n      }\n    });\n    this.props.options.arrayPoints = newArrayPoint;\n\n    // define limit x in fonction of values xMin and xMax of initialSpace\n    const xLimited = this.defineLimitX(x);\n\n    // define display x\n    const result = ((xLimited - xMin) / widthInitialSpace) * this.props.widthImage;\n\n    // return result and center display of point in fonction of sizePoint and borderPoint\n    return result - (size + parseInt(this.defineBorderSize(), 10));\n  }\n\n  /**\n   * to do\n   * @param defineCenter\n   * @param sizeGraphicMarkerPx\n   * @param shapeGraphicMarker\n   */\n  private definePositionY(positionY: number, initialSpace: SelectableValue<RegionClass>, size: number, shapeGraphicMarker: string): number {\n    const yMin: number = parseInt(initialSpace.yMin, 10);\n    const yMax: number = parseInt(initialSpace.yMax, 10);\n    const heightInitialSpace: number = yMax - yMin;\n    const ratioY = parseInt(this.props.positionYDefault, 10) / this.props.heightImage;\n\n    // define value to display in input positionShapeY\n    let y = Math.round(yMin + heightInitialSpace * ratioY);\n\n    // saving data new positionShapeY\n    let newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n    newArrayPoint.forEach((point) => {\n      if (point.name === this.props.name) {\n        point.positionShapeY = y.toString();\n      }\n    });\n    this.props.options.arrayPoints = newArrayPoint;\n\n    // define limit y in fonction of values yMin and yMax of initialSpace\n    const yLimited = this.defineLimitY(y);\n\n    // define display y\n    const result = ((yMin + heightInitialSpace - yLimited) / heightInitialSpace) * this.props.heightImage;\n\n    return result - (size + parseInt(this.defineBorderSize(), 10));\n  }\n\n  /**\n   * to do\n   * @param sizeGraphicMarker\n   * @param shapeGraphicMarker\n   */\n  private defineSizeGraphicMarkerPx(size: string, shape: string) {\n    if (this.props.shape.value === 'none') {\n      return 0;\n    } else {\n      // if (size === 'small') {\n      //   return 4;\n      // } else if (size === 'medium') {\n      //   return 6;\n      // } else if (size === 'large') {\n      //   return 8;\n      // } else {\n      //   return 0;\n      // }\n      return parseInt(size, 10) / 2;\n    }\n  }\n\n  defineBorderRadius = (): number => {\n    let result = 0;\n    const shape: string = this.props.shape.value || '';\n    if (shape === 'circle') {\n      result = 50;\n    }\n    return result;\n  };\n\n  defineRotate = (): string => {\n    let result = 'rotate(0deg)';\n    const shape: string = this.props.shape.value || '';\n    if (shape === 'diamond') {\n      result = 'rotate(45deg)';\n    }\n    return result;\n  };\n\n  /**\n   * to do\n   * @param positionX\n   * @param positionY\n   * @param color\n   * @param sizeGraphicMarkerPx\n   * @param shapeGraphicMarker\n   */\n  private drawPoint(drawGraphicMarker: string, size: number, positionShapeX: number, positionShapeY: number): any {\n    const valueToolTip: JSX.Element | null = this.defineContentTooltip('point');\n    const linkUrlPoint = this.props.linkUrl.followLink;\n    const borderRadius = this.defineBorderRadius() + 'px';\n    const rotate = this.defineRotate();\n    let positionTooltip: any = '';\n    if (this.props.tooltipPosition.value) {\n      positionTooltip = this.props.tooltipPosition.value.toLowerCase();\n    }\n\n    if (drawGraphicMarker === 'true') {\n      if (this.props.buttonAddLinkIsActive || this.props.buttonAddIncurvedLinkIsActive) {\n        if (valueToolTip === null) {\n          return (\n            <div\n              style={{\n                border: this.defineBorderSize() + 'px solid ' + this.defineBorderColor(),\n                backgroundColor: this.defineBackgroundColor(),\n                borderRadius: borderRadius,\n                padding: size + 'px',\n                position: 'absolute',\n                zIndex: 1000,\n                left: positionShapeX,\n                top: positionShapeY,\n                transform: rotate,\n              }}\n              id={this.props.idPoint}\n            ></div>\n          );\n        } else {\n          return (\n            <Tooltip key={'tooltip' + this.props.name} content={valueToolTip} placement={positionTooltip}>\n              <div\n                style={{\n                  border: this.defineBorderSize() + 'px solid ' + this.defineBorderColor(),\n                  backgroundColor: this.defineBackgroundColor(),\n                  borderRadius: borderRadius,\n                  padding: size + 'px',\n                  position: 'absolute',\n                  zIndex: 1000,\n                  left: positionShapeX,\n                  top: positionShapeY,\n                  transform: rotate,\n                }}\n                id={this.props.idPoint}\n              ></div>\n            </Tooltip>\n          );\n        }\n      } else {\n        if (valueToolTip === null) {\n          return (\n            <div>\n              <a\n                href={linkUrlPoint}\n                onClick={this.desactiveLink}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                style={{\n                  border: this.defineBorderSize() + 'px solid ' + this.defineBorderColor(),\n                  backgroundColor: this.defineBackgroundColor(),\n                  borderRadius: borderRadius,\n                  padding: size + 'px',\n                  position: 'absolute',\n                  zIndex: 1000,\n                  left: positionShapeX,\n                  top: positionShapeY,\n                  transform: rotate,\n                  cursor: this.defineCursor(),\n                }}\n                id={this.props.idPoint}\n              ></a>\n            </div>\n          );\n        } else {\n          return (\n            <Tooltip key={'tooltip' + this.props.name} content={valueToolTip} placement={positionTooltip}>\n              <a\n                href={linkUrlPoint}\n                onClick={this.desactiveLink}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                style={{\n                  border: this.defineBorderSize() + 'px solid ' + this.defineBorderColor(),\n                  backgroundColor: this.defineBackgroundColor(),\n                  borderRadius: borderRadius,\n                  padding: size + 'px',\n                  position: 'absolute',\n                  zIndex: 1000,\n                  left: positionShapeX,\n                  top: positionShapeY,\n                  transform: rotate,\n                  cursor: this.defineCursor(),\n                }}\n                id={this.props.idPoint}\n              ></a>\n            </Tooltip>\n          );\n        }\n      }\n    } else {\n      return <div></div>;\n    }\n  }\n\n  private desactiveLink = (event: any) => {\n    // const inputFollowingLink: any = document.getElementById('followLink');\n    // if (inputFollowingLink) {\n    //   if (inputFollowingLink.defaultValue === '') {\n    //     event.preventDefault();\n    //   }\n    // } else if (this.props.linkUrl.followLink === '') {\n    //   event.preventDefault();\n    // }\n    if (this.props.linkUrl.followLink === '') {\n      event.preventDefault();\n    }\n  };\n\n  private defineCursor = (): string => {\n    let result = 'pointer';\n    // const inputFollowingLink: any = document.getElementById('followLink');\n    // if (inputFollowingLink) {\n    //   if (inputFollowingLink.defaultValue === '') {\n    //     result = 'default';\n    //   }\n    // } else if (this.props.linkUrl.followLink === '') {\n    //   result = 'default';\n    // }\n    if (this.props.linkUrl.followLink === '') {\n      result = 'default';\n    }\n    return result;\n  };\n\n  private definePositionLabelX = (coordinateX: number): number => {\n    const positionLabel: number = parseInt(this.props.labelPositionX, 10);\n    let result = 0;\n    if (this.props.drawGraphicMarker.value === 'true') {\n      result = coordinateX + positionLabel + parseInt(this.props.size, 10) + 5;\n      // if (this.props.size.value === 'large') {\n      //   result = coordinateX + positionLabel + 18;\n      // } else if (this.props.size.value === 'medium') {\n      //   result = coordinateX + positionLabel + 14;\n      // }\n    } else {\n      result = coordinateX + positionLabel;\n    }\n    return result;\n  };\n\n  private definePositionLabelY = (coordinateY: number): number => {\n    const inverseAxeY = -1;\n    const positionLabel: number = parseInt(this.props.labelPositionY, 10) * inverseAxeY;\n    let result = 0;\n    if (this.props.drawGraphicMarker.value === 'true') {\n      result = coordinateY + positionLabel + parseInt(this.props.size, 10) + 5;\n      // if (this.props.size.value === 'large') {\n      //   result = coordinateY + positionLabel + 18;\n      // } else if (this.props.size.value === 'medium') {\n      //   result = coordinateY + positionLabel + 14;\n      // }\n    } else {\n      result = coordinateY + positionLabel;\n    }\n    return result;\n  };\n\n  private displayLabel(label: string, name: string, positionX: number, positionY: number, police: string) {\n    const valueToolTip: JSX.Element | null = this.defineContentTooltip('label');\n    let positionTooltip: any = '';\n    if (this.props.tooltipPosition.value) {\n      positionTooltip = this.props.tooltipPosition.value.toLowerCase();\n    }\n    if (valueToolTip === null) {\n      return (\n        <div\n          style={{\n            textDecoration: this.defineTextDecoration(),\n            fontStyle: this.defineFontStyle(),\n            fontWeight: this.defineFontWeight(),\n            fontSize: this.props.sizePolice,\n            fontFamily: police,\n            color: this.props.textObject.colorText || 'black',\n            position: 'absolute',\n            zIndex: 1000,\n            top: this.definePositionLabelY(positionY),\n            left: this.definePositionLabelX(positionX),\n          }}\n        >\n          {this.defineTextObject(this.props.valueMainMetric)}\n        </div>\n      );\n    } else {\n      return (\n        <Tooltip key={'tooltipLabel' + this.props.name} content={valueToolTip} placement={positionTooltip}>\n          <div\n            style={{\n              textDecoration: this.defineTextDecoration(),\n              fontStyle: this.defineFontStyle(),\n              fontWeight: this.defineFontWeight(),\n              fontSize: this.props.sizePolice,\n              fontFamily: police,\n              color: this.props.textObject.colorText || 'black',\n              position: 'absolute',\n              zIndex: 1000,\n              top: this.definePositionLabelY(positionY),\n              left: this.definePositionLabelX(positionX),\n            }}\n          >\n            {this.defineTextObject(this.props.valueMainMetric)}\n          </div>\n        </Tooltip>\n      );\n    }\n  }\n\n  private defineMainMetric = (mainMetric: string): string => {\n    let result = '';\n    const unit: string = this.props.textObject.valueGenerateObjectText.unit;\n    const decimal: string = this.props.textObject.valueGenerateObjectText.numericFormatElement;\n    const roundValue: number = parseInt(decimal, 10) || 1;\n\n    if (decimal !== '') {\n      result = parseFloat(mainMetric).toPrecision(roundValue) + ' ' + unit;\n    } else {\n      result = mainMetric + ' ' + unit;\n    }\n    return result;\n  };\n\n  private defineAuxMetric = (auxMetric: string): string => {\n    let result = '';\n    const unit: string = this.props.textObject.generateAuxiliaryElement.unit;\n    const decimal: string = this.props.textObject.generateAuxiliaryElement.numericFormatElement;\n    const roundValue: number = parseInt(decimal, 10) || 1;\n\n    if (decimal !== '') {\n      result = parseFloat(auxMetric).toPrecision(roundValue) + ' ' + unit;\n    } else {\n      result = auxMetric + ' ' + unit;\n    }\n    return result;\n  };\n\n  private defineTextObject = (mainMetric: string): JSX.Element => {\n    let htmlTextObject: JSX.Element[] = [];\n    let htmlMainMetric: JSX.Element[] = [];\n    const dislayTextObjectInTooltip: boolean = this.props.textObject.isTextTooltip;\n    const textColorTextObject: string = this.props.textObject.colorText;\n    const backColoTextObject: string = this.props.textObject.colorBack;\n    const displayMainMetric: boolean = this.props.textObject.generateObjectText;\n    const displayMainMetricInTooltip: boolean = this.props.textObject.valueGenerateObjectText.displayObjectInTooltip;\n    const addTextColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorTextElement;\n    const addBackColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorBackElement;\n    const textColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorTextElement;\n    const backColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorBackElement;\n    const legendMainMetric: string = this.props.textObject.valueGenerateObjectText.legendElement;\n\n    const styleLabel = {\n      color: textColorTextObject,\n      backgroundColor: backColoTextObject,\n      textAlign: 'center',\n      margin: 0,\n      padding: '0 5px',\n    } as CSSProperties;\n\n    const styleMainMetric = {\n      color: addTextColorMainMetric ? textColorMainMetric : textColorTextObject,\n      margin: 0,\n      padding: 0,\n      whiteSpace: 'nowrap',\n    } as CSSProperties;\n\n    if (!dislayTextObjectInTooltip) {\n      htmlTextObject.push(\n        <p key={'contentTextObject1' + this.props.name} style={styleLabel}>\n          {this.props.label || this.props.name.toUpperCase()}\n        </p>\n      );\n    }\n\n    if (displayMainMetric) {\n      if (!displayMainMetricInTooltip) {\n        if (legendMainMetric) {\n          htmlMainMetric.push(\n            <p key={'contentTextObject2' + this.props.name} style={styleMainMetric}>\n              {legendMainMetric}\n            </p>\n          );\n        }\n        // Condition Display NaN none Point\n        htmlMainMetric.push(\n          <p key={'contentTextObject3' + this.props.name} style={styleMainMetric}>\n            {!isNaN(parseFloat(this.defineMainMetric(mainMetric))) && this.defineMainMetric(mainMetric)}\n          </p>\n        );\n      }\n    }\n\n    let styleMainDiv = {\n      backgroundColor: backColoTextObject,\n      border: '1px solid black',\n    } as CSSProperties;\n\n    if (!displayMainMetric || (displayMainMetric && displayMainMetricInTooltip)) {\n      styleMainDiv = {\n        backgroundColor: backColoTextObject,\n      };\n    }\n    return (\n      <div style={styleMainDiv}>\n        {htmlTextObject}\n        <div style={{ backgroundColor: addBackColorMainMetric ? backColorMainMetric : backColoTextObject, padding: '0 5px' }}>{htmlMainMetric}</div>\n      </div>\n    );\n  };\n\n  private defineHtmlLinkTooltip = (): JSX.Element => {\n    let result: JSX.Element = <div></div>;\n    if (this.props.linkUrl.hoveringTooltipText !== '') {\n      result = (\n        <a\n          style={{ fontFamily: this.props.police, fontSize: '11px', marginBottom: '0px', textAlign: 'center' }}\n          href={this.props.linkUrl.hoveringTooltipLink}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {this.props.linkUrl.hoveringTooltipText}\n        </a>\n      );\n    }\n    return result;\n  };\n\n  private defineContentTooltip(localisation: string): JSX.Element | null {\n    const contentTooltip: JSX.Element[] = [];\n    const contentTooltipMainMetric: JSX.Element[] = [];\n    const contentTooltipAuxMetric: JSX.Element[] = [];\n    const contentTooltipAssociateLink: JSX.Element[] = [];\n    const contentTooltipMetadata: JSX.Element[] = [];\n    const arrayOrientedLinksIn: any[] = this.props.associateOrientedLinkIn;\n    const arrayOrientedLinksOut: any[] = this.props.associateOrientedLinkOut;\n    const refMainMetric: string = this.props.refMainMetric;\n    const dislayTextObjectInTooltip: boolean = this.props.textObject.isTextTooltip;\n    const textColorTextObject: string = this.props.textObject.colorText;\n    const backColoTextObject: string = this.props.textObject.colorBack;\n    const displayMainMetric: boolean = this.props.textObject.generateObjectText;\n    const displayMainMetricInTooltip: boolean = this.props.textObject.valueGenerateObjectText.displayObjectInTooltip;\n    const addTextColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorTextElement;\n    const addBackColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorBackElement;\n    const textColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorTextElement;\n    const backColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorBackElement;\n    const legendMainMetric: string = this.props.textObject.valueGenerateObjectText.legendElement;\n    const displayAuxMetricInTooltip: boolean = this.props.textObject.generateAuxiliaryElement.displayObjectInTooltip;\n    const addTextColorAuxMetric: boolean = this.props.textObject.generateAuxiliaryElement.addColorTextElement;\n    const addBackColorAuxMetric: boolean = this.props.textObject.generateAuxiliaryElement.addColorBackElement;\n    const textColorAuxMetric: string = this.props.textObject.generateAuxiliaryElement.colorTextElement;\n    const backColorAuxMetric: string = this.props.textObject.generateAuxiliaryElement.colorBackElement;\n    const legendAuxMetric: string = this.props.textObject.generateAuxiliaryElement.legendElement;\n\n    const styleMainTitle = {\n      fontFamily: this.props.police,\n      fontSize: '11px',\n      marginBottom: '0px',\n      textAlign: 'center',\n      color: textColorTextObject,\n      backgroundColor: backColoTextObject,\n    } as React.CSSProperties;\n\n    const styleTitleMainMetric = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: addTextColorMainMetric ? textColorMainMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitleAuxMetric = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: addTextColorAuxMetric ? textColorAuxMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitle2AuxMetric = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginLeft: '5px',\n      marginBottom: '0px',\n      color: addTextColorAuxMetric ? textColorAuxMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitleMetaData = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: 'white',\n    } as React.CSSProperties;\n\n    const styleContentMainMetrics = {\n      fontFamily: this.props.police,\n      fontSize: '9px',\n      marginLeft: '10px',\n      marginBottom: '0px',\n      color: addTextColorMainMetric ? textColorMainMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleContentAuxMetrics = {\n      fontFamily: this.props.police,\n      fontSize: '9px',\n      marginLeft: '10px',\n      marginBottom: '0px',\n      color: addTextColorAuxMetric ? textColorAuxMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitleAssociateLink = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n    } as React.CSSProperties;\n\n    const styleContentAssociateLink = {\n      fontFamily: this.props.police,\n      fontSize: '9px',\n      marginLeft: '10px',\n      marginBottom: '0px',\n    } as React.CSSProperties;\n\n    if (dislayTextObjectInTooltip) {\n      contentTooltip.push(\n        <p key={localisation + 'ContentTooltip1' + this.props.name} style={styleMainTitle}>\n          {this.props.label || this.props.name.toUpperCase()}\n        </p>\n      );\n    }\n\n    if (displayMainMetric && displayMainMetricInTooltip) {\n      if (legendMainMetric) {\n        contentTooltipMainMetric.push(\n          <p key={localisation + 'ContentTooltip2' + this.props.name} style={styleTitleMainMetric}>\n            {legendMainMetric}\n          </p>\n        );\n      }\n\n      contentTooltipMainMetric.push(\n        <p key={localisation + 'ContentTooltip3' + this.props.name} style={styleTitleMainMetric}>\n          Main Metric\n        </p>\n      );\n\n      contentTooltipMainMetric.push(\n        <p key={localisation + 'ContentTooltip4' + this.props.name} style={styleContentMainMetrics}>\n          - Reference : {refMainMetric}\n        </p>\n      );\n\n      contentTooltipMainMetric.push(\n        <p key={localisation + 'ContentTooltip5' + this.props.name} style={styleContentMainMetrics}>\n          - Value : {this.defineMainMetric(this.props.valueMainMetric)}\n        </p>\n      );\n    }\n\n    if (displayAuxMetricInTooltip) {\n      if (legendAuxMetric) {\n        contentTooltipMainMetric.push(\n          <p key={localisation + 'ContentTooltip6' + this.props.name} style={styleTitleAuxMetric}>\n            {legendAuxMetric}\n          </p>\n        );\n      }\n      if (this.props.auxiliaryMetrics.length > 0) {\n        contentTooltipAuxMetric.push(\n          <p key={localisation + 'ContentTooltip7' + this.props.name} style={styleTitleAuxMetric}>\n            Auxiliary Metric\n          </p>\n        );\n        let index = 1;\n        this.props.auxiliaryMetrics.forEach((metric) => {\n          contentTooltipAuxMetric.push(\n            <p key={index.toString() + localisation + 'ContentTooltip8' + this.props.name} style={styleTitle2AuxMetric}>\n              + Metric {index}\n            </p>\n          );\n          contentTooltipAuxMetric.push(\n            <p key={index.toString() + localisation + 'ContentTooltip9' + this.props.name} style={styleContentAuxMetrics}>\n              - Reference : {metric.refId}\n            </p>\n          );\n          contentTooltipAuxMetric.push(\n            <p key={index.toString() + localisation + 'ContentTooltip10' + this.props.name} style={styleContentAuxMetrics}>\n              - Value :{' '}\n              {!isNaN(parseFloat(this.defineAuxMetric(this.props.valuesAuxiliaryMetrics[index - 1]))) &&\n                this.defineAuxMetric(this.props.valuesAuxiliaryMetrics[index - 1])}\n            </p>\n          );\n          contentTooltipAuxMetric.push(\n            <p key={index.toString() + localisation + 'ContentTooltip11' + this.props.name} style={styleContentAuxMetrics}>\n              - Key : {metric.key}\n            </p>\n          );\n          contentTooltipAuxMetric.push(\n            <p key={index.toString() + localisation + 'ContentTooltip12' + this.props.name} style={styleContentAuxMetrics}>\n              - KeyValue : {metric.keyValue}\n            </p>\n          );\n          contentTooltipAuxMetric.push(\n            <p key={index.toString() + localisation + 'ContentTooltip13' + this.props.name} style={styleContentAuxMetrics}>\n              - Type : {metric.manageValue}\n            </p>\n          );\n          index++;\n        });\n      }\n    }\n\n    if (arrayOrientedLinksIn.length !== 0) {\n      contentTooltipAssociateLink.push(\n        <p key={localisation + 'ContentTooltip14' + this.props.name} style={styleTitleAssociateLink}>\n          Associate Link In :\n        </p>\n      );\n      arrayOrientedLinksIn.forEach((orientedLinkIn) => {\n        const nameOrientedLink: string = orientedLinkIn.label || orientedLinkIn.name;\n        contentTooltipAssociateLink.push(\n          <p key={localisation + 'ContentTooltip15' + this.props.name + nameOrientedLink} style={styleContentAssociateLink}>\n            - {nameOrientedLink}\n          </p>\n        );\n      });\n    }\n\n    if (arrayOrientedLinksOut.length !== 0) {\n      contentTooltipAssociateLink.push(\n        <p key={localisation + 'ContentTooltip16' + this.props.name} style={styleTitleAssociateLink}>\n          Associate Link Out :\n        </p>\n      );\n      arrayOrientedLinksOut.forEach((orientedLinkOut) => {\n        const nameOrientedLink: string = orientedLinkOut.label || orientedLinkOut.name;\n        contentTooltipAssociateLink.push(\n          <p key={localisation + 'ContentTooltip17' + this.props.name + nameOrientedLink} style={styleContentAssociateLink}>\n            - {nameOrientedLink}\n          </p>\n        );\n      });\n    }\n\n    if (this.props.metaData.length !== 0) {\n      contentTooltipMetadata.push(\n        <p key={localisation + 'ContentTooltip18' + this.props.name} style={styleTitleMetaData}>\n          Metadata\n        </p>\n      );\n      this.props.metaData.forEach((oneMetaData, index) => {\n        const styleContentMetaData = {\n          color: oneMetaData.obj.colorText,\n          backgroundColor: oneMetaData.obj.colorBack,\n          fontWeight: oneMetaData.obj.style.bold ? 'bold' : 'normal',\n          fontStyle: oneMetaData.obj.style.italic ? 'italic' : 'normal',\n          textDecoration: oneMetaData.obj.style.underline ? 'underline' : 'none',\n          fontFamily: this.props.police,\n          fontSize: '9px',\n          marginLeft: '10px',\n          marginBottom: '0px',\n        } as CSSProperties;\n        contentTooltipMetadata.push(\n          <p key={localisation + index + 'ContentTooltip19' + this.props.name} style={styleContentMetaData}>\n            - {oneMetaData.meta}\n          </p>\n        );\n      });\n    }\n\n    if (\n      contentTooltip.length === 0 &&\n      contentTooltipMainMetric.length === 0 &&\n      contentTooltipAssociateLink.length === 0 &&\n      contentTooltipMetadata.length === 0 &&\n      !this.props.linkUrl.hoveringTooltipText\n    ) {\n      return null;\n    }\n\n    return (\n      <div>\n        <div style={{ border: '1px solid black', padding: 0 }}>\n          {contentTooltip}\n          <div style={{ backgroundColor: addBackColorMainMetric ? backColorMainMetric : backColoTextObject, padding: '0 5px' }}>\n            {contentTooltipMainMetric}\n          </div>\n          <div style={{ backgroundColor: addBackColorAuxMetric ? backColorAuxMetric : backColoTextObject, padding: '0 5px' }}>\n            {contentTooltipAuxMetric}\n          </div>\n          <div style={{ padding: '0 5px' }}>{contentTooltipMetadata}</div>\n          <div style={{ padding: '0 5px' }}>{contentTooltipAssociateLink}</div>\n          {this.defineHtmlLinkTooltip()}\n        </div>\n      </div>\n    );\n  }\n\n  private defineBackgroundColor() {\n    let colorBackground = '';\n\n    if (!this.props.colorMode && this.props.seuil.length > 0) {\n      if (this.props.seuil[0].backColor !== '') {\n        colorBackground = this.props.seuil[0].backColor;\n      } else {\n        colorBackground = 'black';\n      }\n    } else {\n      colorBackground = 'black';\n    }\n\n    const valueMainMetric: number = parseInt(this.props.valueMainMetric, 10);\n    let index = 0;\n\n    if (this.props.traceBack) {\n      if (this.props.colorMode && this.props.seuil.length > 0) {\n        this.props.seuil.forEach((level: LowerLimitClass) => {\n          let lowerLimitMin = 0;\n          if (level.lowerLimitMin === '') {\n            lowerLimitMin = 0;\n          } else {\n            lowerLimitMin = parseInt(level.lowerLimitMin.substring(1), 10);\n          }\n          if (lowerLimitMin === 0) {\n            if (valueMainMetric >= lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n              colorBackground = level.backColor;\n            }\n          } else if (this.props.seuil.length === index + 1) {\n            if (valueMainMetric > lowerLimitMin) {\n              colorBackground = level.backColor;\n            }\n          } else if (valueMainMetric > lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n            colorBackground = level.backColor;\n          }\n          index++;\n        });\n      }\n    }\n\n    return colorBackground;\n  }\n\n  private defineBorderColor() {\n    let colorBorder = '';\n\n    if (!this.props.colorMode && this.props.seuil.length > 0) {\n      if (this.props.seuil[0].borderColor !== '') {\n        colorBorder = this.props.seuil[0].borderColor;\n      } else {\n        colorBorder = 'black';\n      }\n    } else {\n      colorBorder = 'black';\n    }\n\n    const valueMainMetric: number = parseInt(this.props.valueMainMetric, 10);\n    let index = 0;\n\n    if (this.props.traceBorder) {\n      if (this.props.colorMode && this.props.seuil.length > 0) {\n        this.props.seuil.forEach((level: LowerLimitClass) => {\n          let lowerLimitMin = 0;\n          if (level.lowerLimitMin === '') {\n            lowerLimitMin = 0;\n          } else {\n            lowerLimitMin = parseInt(level.lowerLimitMin.substring(1), 10);\n          }\n          if (lowerLimitMin === 0) {\n            if (valueMainMetric >= lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n              colorBorder = level.borderColor;\n            }\n          } else if (this.props.seuil.length === index + 1) {\n            if (valueMainMetric > lowerLimitMin) {\n              colorBorder = level.borderColor;\n            }\n          } else if (valueMainMetric > lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n            colorBorder = level.borderColor;\n          }\n          index++;\n        });\n      }\n    }\n\n    return colorBorder;\n  }\n\n  private defineBorderSize() {\n    let sizeBorder = '';\n\n    if (!this.props.colorMode && this.props.seuil.length > 0) {\n      sizeBorder = this.props.seuil[0].sizeBorder;\n    } else {\n      sizeBorder = '1';\n    }\n\n    const valueMainMetric: number = parseInt(this.props.valueMainMetric, 10);\n    let index = 0;\n\n    if (this.props.traceBorder) {\n      if (this.props.colorMode && this.props.seuil.length > 0) {\n        this.props.seuil.forEach((level: LowerLimitClass) => {\n          let lowerLimitMin = 0;\n          if (level.lowerLimitMin === '') {\n            lowerLimitMin = 0;\n          } else {\n            lowerLimitMin = parseInt(level.lowerLimitMin.substring(1), 10);\n          }\n          if (lowerLimitMin === 0) {\n            if (valueMainMetric >= lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n              sizeBorder = level.sizeBorder;\n            }\n          } else if (this.props.seuil.length === index + 1) {\n            if (valueMainMetric > lowerLimitMin) {\n              sizeBorder = level.sizeBorder;\n            }\n          } else if (valueMainMetric > lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n            sizeBorder = level.sizeBorder;\n          }\n          index++;\n        });\n      }\n    }\n\n    return sizeBorder;\n  }\n\n  private defineTextDecoration = (): string => {\n    const mainStyle: Style = this.props.textObject.style;\n    let result = '';\n    if (mainStyle.underline) {\n      result = 'underline';\n    } else {\n      if (this.props.options.display.style.underline) {\n        result = 'underline';\n      } else {\n        result = 'none';\n      }\n    }\n    return result;\n  };\n\n  private defineFontStyle = (): string => {\n    const mainStyle: Style = this.props.textObject.style;\n    let result = '';\n    if (mainStyle.italic) {\n      result = 'italic';\n    } else {\n      if (this.props.options.display.style.italic) {\n        result = 'italic';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n\n  private defineFontWeight = (): any => {\n    const mainStyle: Style = this.props.textObject.style;\n    let result = '';\n    if (mainStyle.bold) {\n      result = 'bold';\n    } else {\n      if (this.props.options.display.style.bold) {\n        result = 'bold';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n\n  /**\n   * render\n   */\n  render() {\n    const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n    const shape: string = this.props.shape.value || '';\n    const size: number = this.defineSizeGraphicMarkerPx(this.props.size || '', shape);\n    const valuePositionX: number = parseInt(this.props.positionShapeX, 10) || 0;\n    const valuePositionY: number = parseInt(this.props.positionShapeY, 10) || 0;\n    const positionShapeX: number = this.definePositionX(valuePositionX, initialSpace, size, shape);\n    const positionShapeY: number = this.definePositionY(valuePositionY, initialSpace, size, shape);\n    const label: string = this.props.label;\n    const name: string = this.props.name;\n    const drawGraphicMarker: string = this.props.drawGraphicMarker.value || '';\n    const police = this.props.police;\n\n    return (\n      <div key={this.props.name} style={{ cursor: 'pointer' }}>\n        {this.displayLabel(label, name, positionShapeX, positionShapeY, police)}\n        {this.drawPoint(drawGraphicMarker, size, positionShapeX, positionShapeY)}\n      </div>\n    );\n  }\n}\n","import React, { CSSProperties } from 'react';\nimport { SelectableValue, PanelEditorProps } from '@grafana/data';\nimport { Coord4D, RegionClass } from 'Models/RegionClass';\nimport { Tooltip } from '@grafana/ui';\nimport { SimpleOptions, Metric, Metadata } from 'types';\nimport { TextObject } from 'Models/TextObjectClass';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { LinkURLClass } from 'Models/LinkURLClass';\nimport { Style } from 'components/Parametrage/styleComponent';\nimport { PointClass } from 'Models/PointClass';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  id: string;\n  pointAPositionX: string;\n  pointAPositionY: string;\n  pointBPositionX: string;\n  pointBPositionY: string;\n  colorA: string;\n  colorB: string;\n  orientationLink: string;\n  label: string;\n  associatePointIn: string;\n  associatePointOut: string;\n  associateRegionIn: string;\n  associateRegionOut: string;\n  widthImage: number;\n  heightImage: number;\n  name: string;\n  refMainMetricA: string;\n  refMainMetricB: string;\n  valueMainMetricA: string;\n  valueMainMetricB: string;\n  textObject: TextObject;\n  seuil: LowerLimitClass[];\n  labelAPositionX: string;\n  labelAPositionY: string;\n  labelBPositionX: string;\n  labelBPositionY: string;\n  tooltipPositionA: SelectableValue<any>;\n  tooltipPositionB: SelectableValue<any>;\n  zIndex: number;\n  pointCPositionX: string;\n  pointCPositionY: string;\n  isIncurved: SelectableValue<boolean>;\n  auxiliaryMetrics: Metric[];\n  auxiliaryMetricsB: Metric[];\n  valuesAuxiliaryMetrics: string[];\n  valuesAuxiliaryMetricsB: string[];\n  police: string;\n  sizePolice: string;\n  linkUrl: LinkURLClass;\n  size: string;\n  widthInitialSpaceDefault: string;\n  heightInitialSpaceDefault: string;\n  positionXADefault: string;\n  positionYADefault: string;\n  positionXBDefault: string;\n  positionYBDefault: string;\n  positionXCDefault: string;\n  positionYCDefault: string;\n  metaData: Metadata[];\n  colorMode: boolean;\n  traceBorder: boolean;\n  traceBack: boolean;\n}\n\ninterface State {}\n\nexport default class DrawOrientedLink extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {};\n  }\n\n  /**\n   * détermine la valeur de X pour les points A, B et C du lien en fonction des limites\n   * de l'initialSpace\n   * @param coordinateX\n   *\n   */\n  private defineLimitX(coordinateX: number) {\n    let result: number = coordinateX;\n    const xMin: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMax: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    if (coordinateX < xMin) {\n      result = xMin;\n    } else if (coordinateX > xMax) {\n      result = xMax;\n    }\n    return result;\n  }\n\n  /**\n   * détermine la valeur de Y pour les points A, B et C du lien en fonction des limites\n   * de l'initialSpace\n   * @param coordinateY\n   *\n   */\n  private defineLimitY(coordinateY: number) {\n    let result: number = coordinateY;\n    const yMin: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMax: number = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    if (coordinateY < yMin) {\n      result = yMin;\n    } else if (coordinateY > yMax) {\n      result = yMax;\n    }\n    return result;\n  }\n\n  // définit la bonne position X des points A, B et C composant le lien\n  // en fonction des valeurs de l'initialSpace (xMin, xMax, yMin, yMax)\n  private synchroLinkX(positionX: number, name?: string): number {\n    const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n    const xMin: number = parseInt(initialSpace.xMin, 10);\n    const xMax: number = parseInt(initialSpace.xMax, 10);\n    const widthInitialSpace: number = xMax - xMin;\n    const ratioX = positionX / this.props.widthImage;\n\n    // define value to display in input positionShapeX\n    const x = Math.round(xMin + widthInitialSpace * ratioX);\n\n    // saving data new positionShapeX\n    let newArrayLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    newArrayLink.forEach((link) => {\n      if (link.name === this.props.name) {\n        if (name === 'xA') {\n          link.pointAPositionX = x.toString();\n        } else if (name === 'xB') {\n          link.pointBPositionX = x.toString();\n        } else if (name === 'xC') {\n          link.pointCPositionX = x.toString();\n        }\n      }\n    });\n    this.props.options.arrayOrientedLinks = newArrayLink;\n\n    // define limit x in fonction of values xMin and xMax of initialSpace\n    const xLimited = this.defineLimitX(x);\n\n    // define display x\n    const result = ((xLimited - xMin) / widthInitialSpace) * this.props.widthImage;\n\n    // return result and center display of point in fonction of sizePoint and borderPoint\n    return result;\n  }\n\n  // définit la bonne position Y des points A, B et C composant le lien\n  // en fonction des valeurs de l'initialSpace (xMin, xMax, yMin, yMax)\n  private synchroLinkY(positionY: number, name?: string): number {\n    const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n    const yMin: number = parseInt(initialSpace.yMin, 10);\n    const yMax: number = parseInt(initialSpace.yMax, 10);\n    const heightInitialSpace: number = yMax - yMin;\n    const ratioY = positionY / this.props.heightImage;\n\n    // define value to display in input positionShapeY\n    let y = Math.round(yMin + heightInitialSpace * ratioY);\n    // saving data new positionShapeY\n    let newArrayLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    newArrayLink.forEach((link) => {\n      if (link.name === this.props.name) {\n        if (name === 'yA') {\n          link.pointAPositionY = y.toString();\n        } else if (name === 'yB') {\n          link.pointBPositionY = y.toString();\n        } else if (name === 'yC') {\n          link.pointCPositionY = y.toString();\n        }\n      }\n    });\n    this.props.options.arrayOrientedLinks = newArrayLink;\n\n    // define limit y in fonction of values yMin and yMax of initialSpace\n    const yLimited = this.defineLimitY(y);\n\n    // define display y\n    const result = ((yMin + heightInitialSpace - yLimited) / heightInitialSpace) * this.props.heightImage;\n\n    return result;\n  }\n\n  private labelSynchroX = (whatLabel: string): number => {\n    let result = 0;\n    let labelMainMetric: HTMLElement | null = null;\n    if (whatLabel === 'A') {\n      labelMainMetric = document.getElementById('labelMainMetric' + this.props.id);\n    } else {\n      labelMainMetric = document.getElementById('labelMainMetricB' + this.props.id);\n    }\n    if (labelMainMetric?.offsetWidth) {\n      result = labelMainMetric?.offsetWidth / 2;\n    }\n    return result;\n  };\n\n  private labelSynchroY = (whatLabel: string): number => {\n    let result = 0;\n    let labelMainMetric: HTMLElement | null = null;\n    if (whatLabel === 'A') {\n      labelMainMetric = document.getElementById('labelMainMetric' + this.props.id);\n    } else {\n      labelMainMetric = document.getElementById('labelMainMetricB' + this.props.id);\n    }\n    if (labelMainMetric?.offsetHeight) {\n      result = labelMainMetric?.offsetHeight / 2;\n    }\n    return result;\n  };\n\n  /**\n   * to do\n   */\n  private defineParallelOrientedLinks = (): number[] => {\n    const arrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    const listParallelOrientedLinks: number[] = [];\n    listParallelOrientedLinks.push(parseInt(this.props.id, 10));\n    arrayOrientedLink.forEach((orientedLink) => {\n      if (this.props.name !== orientedLink.name) {\n        if (this.props.associateRegionIn !== '' && this.props.associateRegionOut !== '') {\n          if (this.props.associateRegionIn === orientedLink.regionIn || this.props.associateRegionIn === orientedLink.regionOut) {\n            if (this.props.associateRegionOut === orientedLink.regionIn || this.props.associateRegionOut === orientedLink.regionOut) {\n              listParallelOrientedLinks.push(orientedLink.id);\n            }\n          }\n        } else if (this.props.associatePointIn !== '' && this.props.associatePointOut !== '') {\n          if (this.props.associatePointIn === orientedLink.pointIn || this.props.associatePointIn === orientedLink.pointOut) {\n            if (this.props.associatePointOut === orientedLink.pointIn || this.props.associatePointOut === orientedLink.pointOut) {\n              listParallelOrientedLinks.push(orientedLink.id);\n            }\n          }\n        } else if (this.props.associateRegionIn !== '' && this.props.associatePointOut !== '') {\n          if (this.props.associateRegionIn === orientedLink.regionIn || this.props.associateRegionIn === orientedLink.regionOut) {\n            if (this.props.associatePointOut === orientedLink.pointOut || this.props.associatePointOut === orientedLink.pointIn) {\n              listParallelOrientedLinks.push(orientedLink.id);\n            }\n          }\n        } else if (this.props.associatePointIn !== '' && this.props.associateRegionOut !== '') {\n          if (this.props.associatePointIn === orientedLink.pointIn || this.props.associatePointIn === orientedLink.pointOut) {\n            if (this.props.associateRegionOut === orientedLink.regionOut || this.props.associateRegionOut === orientedLink.regionIn) {\n              listParallelOrientedLinks.push(orientedLink.id);\n            }\n          }\n        }\n      }\n    });\n    const listParallelOrientedLinkSorted: number[] = listParallelOrientedLinks.sort((a, b) => a - b);\n    return listParallelOrientedLinkSorted;\n  };\n\n  /**\n   * to do\n   * @param region\n   */\n  private defineCoor4DRegion = (region: RegionClass): Coord4D => {\n    // let coor4D: Coord4D = { xMin: '0', xMax: '0', yMin: '0', yMax: '0' };\n    let coor4D: Coord4D;\n    let xMin = 0;\n    let xMax = 0;\n    let yMin = 0;\n    let yMax = 0;\n    if (region.idSVG !== '') {\n      // region SVG\n      const heightPanel: number = parseInt(this.props.options.baseMap.height, 10);\n      const widthPanel: number = parseInt(this.props.options.baseMap.width, 10);\n      const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n      const xMinInitialSpace: number = parseInt(initialSpace.xMin, 10);\n      const xMinPx: number = (xMinInitialSpace + 100) * (widthPanel / 200);\n      const xMaxInitialSpace: number = parseInt(initialSpace.xMax, 10);\n      const xMaxPx: number = (xMaxInitialSpace + 100) * (widthPanel / 200);\n      const widthInitialSpace: number = xMaxPx - xMinPx;\n      const yMinInitialSpace: number = parseInt(initialSpace.yMin, 10);\n      const yMinPx: number = (yMinInitialSpace + 100) * (heightPanel / 200);\n      const yMaxInitialSpace: number = parseInt(initialSpace.yMax, 10);\n      const yMaxPx: number = (yMaxInitialSpace + 100) * (heightPanel / 200);\n      const heightInitialSpace: number = yMaxPx - yMinPx;\n      let regionSVGHtml: any;\n      if (this.props.options.baseMap.isUploaded) {\n        regionSVGHtml = document.getElementById(region.idSVG);\n      } else {\n        regionSVGHtml = document.getElementById('oct' + region.idSVG);\n      }\n      let width = 0;\n      let height = 0;\n      let xMinSVG = 0;\n      let xMaxSVG = 0;\n      let yMaxSVG = 0;\n      let yMinSVG = 0;\n      if (regionSVGHtml) {\n        if (regionSVGHtml.localName === 'rect') {\n          width = parseInt(regionSVGHtml.attributes['width'].nodeValue, 10);\n          height = parseInt(regionSVGHtml.attributes['height'].nodeValue, 10);\n          xMinSVG = parseInt(regionSVGHtml.attributes['x'].nodeValue, 10);\n          xMaxSVG = xMinSVG + width;\n          yMaxSVG = parseInt(regionSVGHtml.attributes['y'].nodeValue, 10);\n          yMinSVG = yMaxSVG + height;\n        } else if (regionSVGHtml.localName === 'ellipse') {\n          const rX: number = parseInt(regionSVGHtml.attributes['rx'].nodeValue, 10);\n          const rY: number = parseInt(regionSVGHtml.attributes['ry'].nodeValue, 10);\n          xMinSVG = parseInt(regionSVGHtml.attributes['cx'].nodeValue, 10) - rX;\n          xMaxSVG = parseInt(regionSVGHtml.attributes['cx'].nodeValue, 10) + rX;\n          yMinSVG = parseInt(regionSVGHtml.attributes['cy'].nodeValue, 10) + rY;\n          yMaxSVG = parseInt(regionSVGHtml.attributes['cy'].nodeValue, 10) - rY;\n        } else if (regionSVGHtml.localName === 'path') {\n          const allValues: string = regionSVGHtml.attributes['d'].nodeValue;\n          const arrayAllValues: string[] = allValues.split(' ');\n          let iX = -2;\n          let xMin = 1000000;\n          let xMax = 0;\n          let iY = -1;\n          let yMin = 1000000;\n          let yMax = 0;\n          for (let i = 0; i < arrayAllValues.length; i++) {\n            let valueToCheck = parseInt(arrayAllValues[i], 10);\n            if (i === iX + 3) {\n              if (valueToCheck < xMin) {\n                xMin = valueToCheck;\n              }\n              if (valueToCheck > xMax) {\n                xMax = valueToCheck;\n              }\n              iX = i;\n            }\n            if (i === iY + 3) {\n              if (valueToCheck < yMin) {\n                yMin = valueToCheck;\n              }\n              if (valueToCheck > yMax) {\n                yMax = valueToCheck;\n              }\n              iY = i;\n            }\n          }\n          xMinSVG = xMin;\n          xMaxSVG = xMax;\n          yMinSVG = yMax;\n          yMaxSVG = yMin;\n        }\n      }\n      const xMinSVGCoor: number = Math.round((xMinSVG - widthInitialSpace / 2) * (100 / widthInitialSpace)) * 2;\n      const xMaxSVGCoor: number = Math.round((xMaxSVG - widthInitialSpace / 2) * (100 / widthInitialSpace)) * 2;\n      const yMinSVGCoor: number = Math.round((yMinSVG - heightInitialSpace / 2) * (100 / heightInitialSpace)) * 2 * -1;\n      const yMaxSVGCoor: number = Math.round((yMaxSVG - heightInitialSpace / 2) * (100 / heightInitialSpace)) * 2 * -1;\n      xMin = Math.round(xMinSVG);\n      xMax = Math.round(xMaxSVG);\n      yMin = Math.round(this.props.heightImage - yMinSVG);\n      yMax = Math.round(this.props.heightImage - yMaxSVG);\n\n      if (xMin < 0 && xMax < 0) {\n        xMin = xMaxSVGCoor;\n        xMax = xMinSVGCoor;\n      }\n      if (yMin < 0 && yMax < 0) {\n        yMin = yMaxSVGCoor;\n        yMax = yMinSVGCoor;\n      }\n    } else {\n      // region coordinate\n      xMin = parseInt(region.coordsDefault.xMin, 10);\n      xMax = parseInt(region.coordsDefault.xMax, 10);\n      yMin = parseInt(region.coordsDefault.yMin, 10);\n      yMax = parseInt(region.coordsDefault.yMax, 10);\n    }\n    coor4D = { xMin: xMin.toString(), xMax: xMax.toString(), yMin: yMin.toString(), yMax: yMax.toString() };\n    return coor4D;\n  };\n\n  private getPaddingPoint = (point: PointClass, idMultiLink: number): number => {\n    let result = 0;\n    const pointHtml = document.getElementById(point.name);\n    if (pointHtml) {\n      result = parseInt(pointHtml.style.padding.substring(-2), 10) + parseInt(this.props.size, 10) / 10;\n      if (idMultiLink === 2) {\n        result = result / 2;\n      }\n    }\n    return result;\n  };\n\n  // permet de définir le bon placement X des extrémités du lien :\n  // - selon si il y a un ou plusieurs liens entre deux extrémités\n  // - selon si l'extrémité A est un point, une région ou le panel\n  // - selon si l'extrémité B est un point, une région ou le panel\n  private definePositionX = (isIn: boolean, idMultiLink: number): number => {\n    let xResult = 0;\n    const arrayRegions = this.props.options.regionCoordinateSpace;\n    const arrayPoints = this.props.options.arrayPoints;\n    let xMinIn = 0;\n    let xMaxIn = 0;\n    let xMinOut = 0;\n    let xMaxOut = 0;\n    let yMinIn = 0;\n    let yMaxIn = 0;\n    let yMinOut = 0;\n    let yMaxOut = 0;\n    let xMidIn = 0;\n    let xMidOut = 0;\n    let yMidIn = 0;\n    let yMidOut = 0;\n    let paddingPoint = 0;\n\n    if (this.props.associatePointIn !== '' && this.props.associateRegionOut !== '') {\n      // pointIn + regionOut\n      //console.log('1');\n      arrayPoints.forEach((point) => {\n        paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointIn) {\n          xMinIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinIn < 0 && xMaxIn < 0) {\n            xMinIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinIn < 0 && yMaxIn < 0) {\n            yMinIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionOut) {\n          xMinOut = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxOut = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinOut = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxOut = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n    } else if (this.props.associateRegionIn !== '' && this.props.associatePointOut !== '') {\n      // regionIn + pointOut\n      //console.log('2');\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionIn) {\n          xMinIn = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxIn = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinIn = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxIn = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n\n      arrayPoints.forEach((point) => {\n        paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointOut) {\n          xMinOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinOut < 0 && xMaxOut < 0) {\n            xMinOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinOut < 0 && yMaxOut < 0) {\n            yMinOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n    } else if (this.props.associatePointIn === '' && this.props.associateRegionIn === '' && this.props.associateRegionOut !== '') {\n      // vide + regionOut\n      //console.log('3');\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionOut) {\n          xMinOut = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxOut = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinOut = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxOut = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n      xMinIn = parseInt(this.props.positionXADefault, 10);\n      xMaxIn = parseInt(this.props.positionXADefault, 10);\n      yMinIn = parseInt(this.props.positionYADefault, 10);\n      yMaxIn = parseInt(this.props.positionYADefault, 10);\n    } else if (this.props.associateRegionIn !== '' && this.props.associatePointOut === '' && this.props.associateRegionOut === '') {\n      // regionIn + vide\n      //console.log('4');\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionIn) {\n          xMinIn = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxIn = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinIn = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxIn = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n      xMinOut = parseInt(this.props.positionXBDefault, 10);\n      xMaxOut = parseInt(this.props.positionXBDefault, 10);\n      yMinOut = parseInt(this.props.positionYBDefault, 10);\n      yMaxOut = parseInt(this.props.positionYBDefault, 10);\n    } else if (this.props.associatePointIn !== '' && this.props.associatePointOut === '' && this.props.associateRegionOut === '') {\n      // pointIn + vide\n      //console.log('5');\n      arrayPoints.forEach((point) => {\n        paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointIn) {\n          xMinIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinIn < 0 && xMaxIn < 0) {\n            xMinIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinIn < 0 && yMaxIn < 0) {\n            yMinIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n      xMinOut = parseInt(this.props.positionXBDefault, 10);\n      xMaxOut = parseInt(this.props.positionXBDefault, 10);\n      yMinOut = parseInt(this.props.positionYBDefault, 10);\n      yMaxOut = parseInt(this.props.positionYBDefault, 10);\n    } else if (this.props.associatePointIn === '' && this.props.associateRegionIn === '' && this.props.associatePointOut !== '') {\n      // vide + pointOut\n      //console.log('6');\n      arrayPoints.forEach((point) => {\n        paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointOut) {\n          xMinOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinOut < 0 && xMaxOut < 0) {\n            xMinOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinOut < 0 && yMaxOut < 0) {\n            yMinOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n      xMinIn = parseInt(this.props.positionXADefault, 10);\n      xMaxIn = parseInt(this.props.positionXADefault, 10);\n      yMinIn = parseInt(this.props.positionYADefault, 10);\n      yMaxIn = parseInt(this.props.positionYADefault, 10);\n    } else if (this.props.associatePointIn !== '' && this.props.associatePointOut !== '') {\n      // pointIn + pointOut\n      //console.log('7');\n      arrayPoints.forEach((point) => {\n        paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointIn) {\n          xMinIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinIn < 0 && xMaxIn < 0) {\n            xMinIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinIn < 0 && yMaxIn < 0) {\n            yMinIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n\n        if (name === this.props.associatePointOut) {\n          xMinOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinOut < 0 && xMaxOut < 0) {\n            xMinOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinOut < 0 && yMaxOut < 0) {\n            yMinOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n    } else {\n      //console.log('8');\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionIn) {\n          xMinIn = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxIn = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinIn = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxIn = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n\n        if (region.label === this.props.associateRegionOut) {\n          xMinOut = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxOut = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinOut = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxOut = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n    }\n\n    xMidIn = (xMinIn + xMaxIn) / 2;\n    xMidOut = (xMinOut + xMaxOut) / 2;\n    yMidIn = (yMinIn + yMaxIn) / 2;\n    yMidOut = (yMinOut + yMaxOut) / 2;\n\n    const ratioXin = xMidIn / this.props.widthImage;\n    const ratioXout = xMidOut / this.props.widthImage;\n\n    if (isIn) {\n      if (idMultiLink === 0) {\n        if (xMidIn > xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x1');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMinIn;\n            } else {\n              xResult = xMaxIn;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x2');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMinIn;\n            } else {\n              xResult = xMaxIn;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x3');\n            xResult = xMidIn;\n          }\n        } else if (xMidIn < xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x4');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMinIn;\n            } else {\n              xResult = xMaxIn;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x5');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMaxIn;\n            } else {\n              xResult = xMinIn;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x6');\n            xResult = xMidIn;\n          }\n        } else if (xMidIn === xMidOut) {\n          //console.log('x7');\n          xResult = xMidIn;\n        }\n      } else if (idMultiLink === 1) {\n        if (xMidIn > xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x8');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMinIn;\n            } else {\n              xResult = xMaxIn;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x9');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMaxIn;\n            } else {\n              xResult = xMinIn;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x10');\n            xResult = xMidIn;\n          }\n        } else if (xMidIn < xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x11');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMaxIn;\n            } else {\n              xResult = xMinIn;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x12');\n            if (xMinIn < 0 && xMaxIn < 0) {\n              xResult = xMaxIn;\n            } else {\n              xResult = xMinIn;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x13');\n            xResult = xMidIn;\n          }\n        } else if (xMidIn === xMidOut) {\n          //console.log('x14');\n          xResult = xMidIn;\n        }\n      } else if (idMultiLink === 2) {\n        if (this.props.associatePointIn !== '' && this.props.associateRegionIn === '') {\n          if (yMidIn === yMidOut) {\n            if ((xMidOut > xMinIn && xMidOut < xMaxIn) || (xMidOut < xMinIn && xMidOut > xMaxIn)) {\n              xResult = xMidIn;\n            } else if (xMidIn > xMidOut) {\n              if (xMinIn < 0 && xMaxIn < 0) {\n                xResult = xMaxIn;\n              } else {\n                xResult = xMinIn;\n              }\n            } else if (xMidIn < xMidOut) {\n              if (xMinIn < 0 && xMaxIn < 0) {\n                xResult = xMinIn;\n              } else {\n                xResult = xMaxIn;\n              }\n            } else if (xMidIn === xMidOut) {\n              xResult = xMinIn;\n            }\n          } else {\n            if ((xMidOut > xMinIn && xMidOut < xMaxIn) || (xMidOut < xMinIn && xMidOut > xMaxIn)) {\n              xResult = xMidIn;\n            } else if (xMidIn > xMidOut) {\n              if (ratioXin - ratioXout < 0.05) {\n                xResult = xMidIn;\n              } else if (ratioXin - ratioXout < 0.11) {\n                xResult = xMidIn + paddingPoint - parseInt(this.props.size, 10) / 2;\n              } else if (ratioXin - ratioXout < 0.37) {\n                xResult = xMidIn - paddingPoint / 2;\n              } else {\n                if (xMinIn < 0 && xMaxIn < 0) {\n                  xResult = xMaxIn;\n                } else {\n                  xResult = xMinIn;\n                }\n              }\n            } else if (xMidIn < xMidOut) {\n              if (ratioXout - ratioXin < 0.05) {\n                xResult = xMidIn;\n              } else if (ratioXout - ratioXin < 0.11) {\n                xResult = xMidIn - paddingPoint + parseInt(this.props.size, 10) / 2;\n              } else if (ratioXout - ratioXin < 0.37) {\n                xResult = xMidIn + paddingPoint / 2;\n              } else {\n                if (xMinIn < 0 && xMaxIn < 0) {\n                  xResult = xMinIn;\n                } else {\n                  xResult = xMaxIn;\n                }\n              }\n            } else if (xMidIn === xMidOut) {\n              xResult = xMidIn;\n            }\n          }\n        } else if (this.props.associatePointIn === '' && this.props.associateRegionIn !== '') {\n          if (yMidIn === yMidOut) {\n            if ((xMidOut > xMinIn && xMidOut < xMaxIn) || (xMidOut < xMinIn && xMidOut > xMaxIn)) {\n              xResult = xMidIn;\n            } else if (xMidIn > xMidOut) {\n              if (xMinIn < 0 && xMaxIn < 0) {\n                xResult = xMaxIn;\n              } else {\n                xResult = xMinIn;\n              }\n            } else if (xMidIn < xMidOut) {\n              if (xMinIn < 0 && xMaxIn < 0) {\n                xResult = xMinIn;\n              } else {\n                xResult = xMaxIn;\n              }\n            } else if (xMidIn === xMidOut) {\n              xResult = xMinIn;\n            }\n          } else {\n            if ((xMidOut > xMinIn && xMidOut < xMaxIn) || (xMidOut < xMinIn && xMidOut > xMaxIn)) {\n              xResult = xMidIn;\n            } else if (xMidIn > xMidOut) {\n              if (xMinIn < 0 && xMaxIn < 0) {\n                xResult = xMaxIn;\n              } else {\n                xResult = xMinIn;\n              }\n            } else if (xMidIn < xMidOut) {\n              if (xMinIn < 0 && xMaxIn < 0) {\n                xResult = xMinIn;\n              } else {\n                xResult = xMaxIn;\n              }\n            } else if (xMidIn === xMidOut) {\n              xResult = xMidIn;\n            }\n          }\n        }\n      }\n    } else {\n      if (idMultiLink === 0) {\n        if (xMidIn > xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x15');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMinOut;\n            } else {\n              xResult = xMaxOut;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x16');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMinOut;\n            } else {\n              xResult = xMaxOut;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x17');\n            xResult = xMidOut;\n          }\n        } else if (xMidIn < xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x18');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMinOut;\n            } else {\n              xResult = xMaxOut;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x19');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMinOut;\n            } else {\n              xResult = xMaxOut;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x20');\n            xResult = xMidOut;\n          }\n        } else if (xMidIn === xMidOut) {\n          //console.log('x21');\n          xResult = xMidOut;\n        }\n      } else if (idMultiLink === 1) {\n        if (xMidIn > xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x22');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMinOut;\n            } else {\n              xResult = xMaxOut;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x23');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMaxOut;\n            } else {\n              xResult = xMinOut;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x24');\n            xResult = xMidOut;\n          }\n        } else if (xMidIn < xMidOut) {\n          if (yMidIn > yMidOut) {\n            //console.log('x25');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMaxOut;\n            } else {\n              xResult = xMinOut;\n            }\n          } else if (yMidIn < yMidOut) {\n            //console.log('x26');\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMaxOut;\n            } else {\n              xResult = xMinOut;\n            }\n          } else if (yMidIn === yMidOut) {\n            //console.log('x27');\n            xResult = xMidOut;\n          }\n        } else if (xMidIn === xMidOut) {\n          //console.log('x28');\n          xResult = xMidOut;\n        }\n      } else if (idMultiLink === 2) {\n        if (this.props.associatePointOut !== '' && this.props.associateRegionOut === '') {\n          if (yMidIn === yMidOut) {\n            if (xMidIn > xMidOut) {\n              if (xMinOut < 0 && xMaxOut < 0) {\n                xResult = xMinOut;\n              } else {\n                xResult = xMaxOut;\n              }\n            } else if (xMidIn < xMidOut) {\n              if (xMinOut < 0 && xMaxOut < 0) {\n                xResult = xMaxOut;\n              } else {\n                xResult = xMinOut;\n              }\n            } else if (xMidIn === xMidOut) {\n              xResult = xMinOut;\n            }\n          } else {\n            if ((xMidIn > xMinOut && xMidIn < xMaxOut) || (xMidIn < xMinOut && xMidIn > xMaxOut)) {\n              xResult = xMidOut;\n            } else if (xMidIn > xMidOut) {\n              if (ratioXin - ratioXout < 0.23) {\n                xResult = xMidOut;\n              } else {\n                if (xMinOut < 0 && xMaxOut < 0) {\n                  xResult = xMinOut;\n                } else {\n                  xResult = xMaxOut;\n                }\n              }\n            } else if (xMidIn < xMidOut) {\n              if (ratioXout - ratioXin < 0.23) {\n                xResult = xMidOut;\n              } else {\n                if (xMinOut < 0 && xMaxOut < 0) {\n                  xResult = xMaxOut;\n                } else {\n                  xResult = xMinOut;\n                }\n              }\n            } else if (xMidIn === xMidOut) {\n              xResult = xMidOut;\n            }\n          }\n        } else if (this.props.associatePointOut === '' && this.props.associateRegionOut !== '') {\n          if ((xMidIn > xMinOut && xMidIn < xMaxOut) || (xMidIn < xMinOut && xMidIn > xMaxOut)) {\n            xResult = xMidOut;\n          } else if (xMidIn > xMidOut) {\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMinOut;\n            } else {\n              xResult = xMaxOut;\n            }\n          } else if (xMidIn < xMidOut) {\n            if (xMinOut < 0 && xMaxOut < 0) {\n              xResult = xMaxOut;\n            } else {\n              xResult = xMinOut;\n            }\n          } else if (xMidIn === xMidOut) {\n            xResult = xMidOut;\n          }\n        }\n      }\n    }\n\n    let newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    newArrayOrientedLink.forEach((orientedLink) => {\n      if (orientedLink.name === this.props.name) {\n        if (isIn) {\n          orientedLink.pointAPositionX = xResult.toString();\n          orientedLink.pointAPositionXDefault = xResult.toString();\n        } else {\n          orientedLink.pointBPositionX = xResult.toString();\n          orientedLink.pointBPositionXDefault = xResult.toString();\n        }\n      }\n    });\n    this.props.options.arrayOrientedLinks = newArrayOrientedLink;\n\n    return xResult;\n  };\n\n  // permet de définir le bon placement Y des extrémités du lien :\n  // - selon si il y a un ou plusieurs liens entre deux extrémités\n  // - selon si l'extrémité A est un point, une région ou le panel\n  // - selon si l'extrémité B est un point, une région ou le panel\n  private definePositionY = (isIn: boolean, idMultiLink: number): number => {\n    let yResult = 0;\n    const arrayPoints = this.props.options.arrayPoints;\n    const arrayRegions = this.props.options.regionCoordinateSpace;\n    let xMinIn = 0;\n    let xMaxIn = 0;\n    let xMinOut = 0;\n    let xMaxOut = 0;\n    let yMinIn = 0;\n    let yMaxIn = 0;\n    let yMinOut = 0;\n    let yMaxOut = 0;\n    let xMidIn = 0;\n    let xMidOut = 0;\n    let yMidIn = 0;\n    let yMidOut = 0;\n\n    if (this.props.associatePointIn !== '' && this.props.associateRegionOut !== '') {\n      arrayPoints.forEach((point) => {\n        let paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointIn) {\n          xMinIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinIn < 0 && xMaxIn < 0) {\n            xMinIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinIn < 0 && yMaxIn < 0) {\n            yMinIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionOut) {\n          xMinOut = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxOut = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinOut = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxOut = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n    } else if (this.props.associateRegionIn !== '' && this.props.associatePointOut !== '') {\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionIn) {\n          xMinIn = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxIn = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinIn = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxIn = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n\n      arrayPoints.forEach((point) => {\n        let paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointOut) {\n          xMinOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinOut < 0 && xMaxOut < 0) {\n            xMinOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinOut < 0 && yMaxOut < 0) {\n            yMinOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n    } else if (this.props.associatePointIn === '' && this.props.associateRegionIn === '' && this.props.associateRegionOut !== '') {\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionOut) {\n          xMinOut = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxOut = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinOut = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxOut = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n      xMinIn = parseInt(this.props.positionXADefault, 10);\n      xMaxIn = parseInt(this.props.positionXADefault, 10);\n      yMinIn = parseInt(this.props.positionYADefault, 10);\n      yMaxIn = parseInt(this.props.positionYADefault, 10);\n    } else if (this.props.associateRegionIn !== '' && this.props.associatePointOut === '' && this.props.associateRegionOut === '') {\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionIn) {\n          xMinIn = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxIn = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinIn = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxIn = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n      xMinOut = parseInt(this.props.positionXBDefault, 10);\n      xMaxOut = parseInt(this.props.positionXBDefault, 10);\n      yMinOut = parseInt(this.props.positionYBDefault, 10);\n      yMaxOut = parseInt(this.props.positionYBDefault, 10);\n    } else if (this.props.associatePointIn !== '' && this.props.associatePointOut === '' && this.props.associateRegionOut === '') {\n      arrayPoints.forEach((point) => {\n        let paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointIn) {\n          xMinIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinIn < 0 && xMaxIn < 0) {\n            xMinIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinIn < 0 && yMaxIn < 0) {\n            yMinIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n      xMinOut = parseInt(this.props.positionXBDefault, 10);\n      xMaxOut = parseInt(this.props.positionXBDefault, 10);\n      yMinOut = parseInt(this.props.positionYBDefault, 10);\n      yMaxOut = parseInt(this.props.positionYBDefault, 10);\n    } else if (this.props.associatePointIn === '' && this.props.associateRegionIn === '' && this.props.associatePointOut !== '') {\n      arrayPoints.forEach((point) => {\n        let paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointOut) {\n          xMinOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinOut < 0 && xMaxOut < 0) {\n            xMinOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinOut < 0 && yMaxOut < 0) {\n            yMinOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n      xMinIn = parseInt(this.props.positionXADefault, 10);\n      xMaxIn = parseInt(this.props.positionXADefault, 10);\n      yMinIn = parseInt(this.props.positionYADefault, 10);\n      yMaxIn = parseInt(this.props.positionYADefault, 10);\n    } else if (this.props.associatePointIn !== '' && this.props.associatePointOut !== '') {\n      arrayPoints.forEach((point) => {\n        let paddingPoint = this.getPaddingPoint(point, idMultiLink);\n        let name: string = point.label || point.name;\n        if (name === this.props.associatePointIn) {\n          xMinIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinIn < 0 && xMaxIn < 0) {\n            xMinIn = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxIn = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinIn < 0 && yMaxIn < 0) {\n            yMinIn = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxIn = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n\n        if (name === this.props.associatePointOut) {\n          xMinOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          xMaxOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n          yMinOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          yMaxOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n\n          if (xMinOut < 0 && xMaxOut < 0) {\n            xMinOut = parseInt(point.positionXDefault, 10) + paddingPoint;\n            xMaxOut = parseInt(point.positionXDefault, 10) - paddingPoint;\n          }\n\n          if (yMinOut < 0 && yMaxOut < 0) {\n            yMinOut = parseInt(point.positionYDefault, 10) + paddingPoint;\n            yMaxOut = parseInt(point.positionYDefault, 10) - paddingPoint;\n          }\n        }\n      });\n    } else {\n      arrayRegions.forEach((region) => {\n        if (region.label === this.props.associateRegionIn) {\n          xMinIn = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxIn = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinIn = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxIn = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n\n        if (region.label === this.props.associateRegionOut) {\n          xMinOut = parseInt(this.defineCoor4DRegion(region).xMin, 10);\n          xMaxOut = parseInt(this.defineCoor4DRegion(region).xMax, 10);\n          yMinOut = parseInt(this.defineCoor4DRegion(region).yMin, 10);\n          yMaxOut = parseInt(this.defineCoor4DRegion(region).yMax, 10);\n        }\n      });\n    }\n\n    xMidIn = (xMinIn + xMaxIn) / 2;\n    xMidOut = (xMinOut + xMaxOut) / 2;\n    yMidIn = (yMinIn + yMaxIn) / 2;\n    yMidOut = (yMinOut + yMaxOut) / 2;\n\n    if (isIn) {\n      if (idMultiLink === 0) {\n        if (yMidIn > yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y1');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMaxIn;\n            } else {\n              yResult = yMinIn;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y2');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMinIn;\n            } else {\n              yResult = yMaxIn;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y3');\n            yResult = yMidIn;\n          }\n        } else if (yMidIn < yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y4');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMinIn;\n            } else {\n              yResult = yMaxIn;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y5');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMaxIn;\n            } else {\n              yResult = yMinIn;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y6');\n            yResult = yMidIn;\n          }\n        } else if (yMidIn === yMidOut) {\n          //console.log('y7');\n          yResult = yMidIn;\n        }\n      } else if (idMultiLink === 1) {\n        if (yMidIn > yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y8');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMinIn;\n            } else {\n              yResult = yMaxIn;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y9');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMaxIn;\n            } else {\n              yResult = yMinIn;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y10');\n            yResult = yMidIn;\n          }\n        } else if (yMidIn < yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y11');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMaxIn;\n            } else {\n              yResult = yMinIn;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y12');\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMinIn;\n            } else {\n              yResult = yMaxIn;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y13');\n            yResult = yMidIn;\n          }\n        } else if (yMidIn === yMidOut) {\n          //console.log('y14');\n          yResult = yMidIn;\n        }\n      } else if (idMultiLink === 2) {\n        if (this.props.associatePointIn !== '' && this.props.associateRegionIn === '') {\n          if (xMidIn === xMidOut) {\n            if (yMidIn > yMidOut) {\n              if (yMinIn < 0 && yMaxIn < 0) {\n                yResult = yMaxIn;\n              } else {\n                yResult = yMinIn;\n              }\n            } else if (yMidIn < yMidOut) {\n              if (yMinIn < 0 && yMaxIn < 0) {\n                yResult = yMinIn;\n              } else {\n                yResult = yMaxIn;\n              }\n            }\n          } else {\n            yResult = yMidIn;\n          }\n        } else if (this.props.associatePointIn === '' && this.props.associateRegionIn !== '') {\n          if (yMidIn > yMidOut) {\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMaxIn;\n            } else {\n              yResult = yMinIn;\n            }\n          } else if (yMidIn < yMidOut) {\n            if (yMinIn < 0 && yMaxIn < 0) {\n              yResult = yMinIn;\n            } else {\n              yResult = yMaxIn;\n            }\n          } else if (yMidIn === yMidOut) {\n            yResult = yMidIn;\n          }\n        }\n      }\n    } else {\n      // ce lien est le premier parmis deux ou trois liens\n      if (idMultiLink === 0) {\n        if (yMidIn > yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y15');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMaxOut;\n            } else {\n              yResult = yMinOut;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y16');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMinOut;\n            } else {\n              yResult = yMaxOut;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y17');\n            yResult = yMidOut;\n          }\n        } else if (yMidIn < yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y18');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMinOut;\n            } else {\n              yResult = yMaxOut;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y19');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMaxOut;\n            } else {\n              yResult = yMinOut;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y20');\n            yResult = yMidOut;\n          }\n        } else if (yMidIn === yMidOut) {\n          //console.log('y21');\n          yResult = yMidOut;\n        }\n        // ce lien est le deuxième parmis deux ou trois liens\n      } else if (idMultiLink === 1) {\n        if (yMidIn > yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y22');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMinOut;\n            } else {\n              yResult = yMaxOut;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y23');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMaxOut;\n            } else {\n              yResult = yMinOut;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y24');\n            yResult = yMidOut;\n          }\n        } else if (yMidIn < yMidOut) {\n          if (xMidIn > xMidOut) {\n            //console.log('y25');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMaxOut;\n            } else {\n              yResult = yMinOut;\n            }\n          } else if (xMidIn < xMidOut) {\n            //console.log('y26');\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMinOut;\n            } else {\n              yResult = yMaxOut;\n            }\n          } else if (xMidIn === xMidOut) {\n            //console.log('y27');\n            yResult = yMidOut;\n          }\n        } else if (yMidIn === yMidOut) {\n          //console.log('y28');\n          yResult = yMidOut;\n        }\n        // le lien est seul ou au milieu de trois liens\n      } else if (idMultiLink === 2) {\n        // un point en sortie\n        if (this.props.associatePointOut !== '' && this.props.associateRegionOut === '') {\n          if (xMidIn === xMidOut) {\n            if (yMidIn > yMidOut) {\n              if (yMinOut < 0 && yMaxOut < 0) {\n                yResult = yMinOut;\n              } else {\n                yResult = yMaxOut;\n              }\n            } else if (yMidIn < yMidOut) {\n              if (yMinOut < 0 && yMaxOut < 0) {\n                yResult = yMaxOut;\n              } else {\n                yResult = yMinOut;\n              }\n            }\n          } else {\n            yResult = yMidOut;\n          }\n          // une région en sortie\n        } else if (this.props.associatePointOut === '' && this.props.associateRegionOut !== '') {\n          if (yMidIn > yMidOut) {\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMinOut;\n            } else {\n              yResult = yMaxOut;\n            }\n          } else if (yMidIn < yMidOut) {\n            if (yMinOut < 0 && yMaxOut < 0) {\n              yResult = yMaxOut;\n            } else {\n              yResult = yMinOut;\n            }\n          } else if (yMidIn === yMidOut) {\n            yResult = yMidOut;\n          }\n        }\n      }\n    }\n\n    let newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    newArrayOrientedLink.forEach((orientedLink) => {\n      if (orientedLink.name === this.props.name) {\n        if (isIn) {\n          orientedLink.pointAPositionY = yResult.toString();\n          orientedLink.pointAPositionYDefault = yResult.toString();\n        } else {\n          orientedLink.pointBPositionY = yResult.toString();\n          orientedLink.pointBPositionYDefault = yResult.toString();\n        }\n      }\n    });\n    this.props.options.arrayOrientedLinks = newArrayOrientedLink;\n\n    return yResult;\n  };\n\n  /**\n   * to do\n   */\n  private drawLink(xA0: number, yA0: number, xB0: number, yB0: number, xCByClick0: number, yCByClick0: number, orientationLink: string) {\n    const listParallelOrientedLinks: number[] = this.defineParallelOrientedLinks();\n    let xA = 0;\n    let yA = 0;\n    let xB = 0;\n    let yB = 0;\n    let xCByClick = 0;\n    let yCByClick = 0;\n\n    if (listParallelOrientedLinks.length > 1) {\n      let indexOrientedLink = 0;\n      listParallelOrientedLinks.forEach((index) => {\n        if (index === parseInt(this.props.id, 10)) {\n          if (indexOrientedLink === 0) {\n            xA = this.synchroLinkX(this.definePositionX(true, 0));\n            yA = this.synchroLinkY(this.definePositionY(true, 0));\n            xB = this.synchroLinkX(this.definePositionX(false, 0));\n            yB = this.synchroLinkY(this.definePositionY(false, 0));\n            xCByClick = xCByClick0 || (xA + xB) / 2;\n            yCByClick = yCByClick0 || (yA + yB) / 2;\n          } else if (indexOrientedLink === 1) {\n            xA = this.synchroLinkX(this.definePositionX(true, 1));\n            yA = this.synchroLinkY(this.definePositionY(true, 1));\n            xB = this.synchroLinkX(this.definePositionX(false, 1));\n            yB = this.synchroLinkY(this.definePositionY(false, 1));\n            xCByClick = xCByClick0 || (xA + xB) / 2;\n            yCByClick = yCByClick0 || (yA + yB) / 2;\n          } else if (indexOrientedLink === 2) {\n            xA = this.synchroLinkX(this.definePositionX(true, 2));\n            yA = this.synchroLinkY(this.definePositionY(true, 2));\n            xB = this.synchroLinkX(this.definePositionX(false, 2));\n            yB = this.synchroLinkY(this.definePositionY(false, 2));\n            xCByClick = xCByClick0 || (xA + xB) / 2;\n            yCByClick = yCByClick0 || (yA + yB) / 2;\n          }\n        }\n        indexOrientedLink++;\n      });\n    } else {\n      if (\n        (this.props.associateRegionIn !== '' || this.props.associatePointIn !== '') &&\n        this.props.associateRegionOut === '' &&\n        this.props.associatePointOut === ''\n      ) {\n        xA = this.synchroLinkX(this.definePositionX(true, 2));\n        yA = this.synchroLinkY(this.definePositionY(true, 2));\n        xB = xB0;\n        yB = yB0;\n        xCByClick = xCByClick0 || (xA + xB) / 2;\n        yCByClick = yCByClick0 || (yA + yB) / 2;\n      } else if (\n        (this.props.associateRegionIn === '' || this.props.associatePointIn === '') &&\n        this.props.associateRegionOut !== '' &&\n        this.props.associatePointOut !== ''\n      ) {\n        xA = xA0;\n        yA = yA0;\n        xB = this.synchroLinkX(this.definePositionX(false, 2));\n        yB = this.synchroLinkY(this.definePositionY(false, 2));\n        xCByClick = xCByClick0 || (xA + xB) / 2;\n        yCByClick = yCByClick0 || (yA + yB) / 2;\n      } else if (\n        (this.props.associatePointIn !== '' && this.props.associatePointOut !== '') ||\n        (this.props.associatePointIn !== '' && this.props.associateRegionOut !== '') ||\n        (this.props.associateRegionIn !== '' && this.props.associatePointOut !== '') ||\n        (this.props.associateRegionIn !== '' && this.props.associateRegionOut !== '')\n      ) {\n        xA = this.synchroLinkX(this.definePositionX(true, 2));\n        yA = this.synchroLinkY(this.definePositionY(true, 2));\n        xB = this.synchroLinkX(this.definePositionX(false, 2));\n        yB = this.synchroLinkY(this.definePositionY(false, 2));\n        xCByClick = xCByClick0 || (xA + xB) / 2;\n        yCByClick = yCByClick0 || (yA + yB) / 2;\n      } else {\n        xA = xA0;\n        yA = yA0;\n        xB = xB0;\n        yB = yB0;\n        xCByClick = xCByClick0;\n        yCByClick = yCByClick0;\n      }\n    }\n\n    let xC = 0;\n    let yC = 0;\n\n    if (this.props.isIncurved.value) {\n      xC = xCByClick;\n      yC = yCByClick;\n    } else {\n      xC = (xA + xB) / 2;\n      yC = (yA + yB) / 2;\n    }\n\n    const distanceAC: number = Math.sqrt((xA - xC) * (xA - xC) + (yA - yC) * (yA - yC));\n    const angleRadianAC: number = Math.atan2(yA - yC, xA - xC);\n    const angleDegreeAC: number = (angleRadianAC * 180) / Math.PI;\n    const xMidAC: number = (xA + xC) / 2;\n    const yMidAC: number = (yA + yC) / 2;\n    const xArrowAC: number = xMidAC - distanceAC / 2;\n    const yArrowAC: number = yMidAC;\n\n    const distanceBC: number = Math.sqrt((xB - xC) * (xB - xC) + (yB - yC) * (yB - yC));\n    const angleRadianBC: number = Math.atan2(yB - yC, xB - xC);\n    const angleDegreeBC: number = (angleRadianBC * 180) / Math.PI;\n    const xMidBC: number = (xB + xC) / 2;\n    const yMidBC: number = (yB + yC) / 2;\n    const xArrowBC: number = xMidBC - distanceBC / 2;\n    const yArrowBC: number = yMidBC;\n\n    const distanceAB: number = Math.sqrt((xA - xB) * (xA - xB) + (yA - yB) * (yA - yB));\n    const angleRadianAB: number = Math.atan2(yA - yB, xA - xB);\n    const angleDegreeAB: number = (angleRadianAB * 180) / Math.PI;\n    const xMidAB: number = (xA + xB) / 2;\n    const yMidAB: number = (yA + yB) / 2;\n    const xArrowAB: number = xMidAB - distanceAB / 2;\n    const yArrowAB: number = yMidAB;\n\n    const sizeArrowTriangle = 8;\n\n    const valueTooltipMonodirectional: JSX.Element | null = this.defineValueTooptip('monodirectional');\n    const valueTooltipBidirectionalA: JSX.Element | null = this.defineValueTooptip('bidirectional', 'A');\n    const valueTooltipBidirectionalB: JSX.Element | null = this.defineValueTooptip('bidirectional', 'B');\n    const linkUrlOrientedLink: string = this.props.linkUrl.followLink;\n    const inverseAxeY = -1;\n\n    let positionTooltipA: any = '';\n    if (this.props.tooltipPositionA.value) {\n      positionTooltipA = this.props.tooltipPositionA.value.toLowerCase();\n    }\n\n    let positionTooltipB: any = '';\n    if (this.props.tooltipPositionB.value) {\n      positionTooltipB = this.props.tooltipPositionB.value.toLowerCase();\n    }\n\n    if (orientationLink === 'double') {\n      let first: JSX.Element;\n      if (valueTooltipBidirectionalA) {\n        first = (\n          <Tooltip content={valueTooltipBidirectionalA} placement={positionTooltipA}>\n            <div\n              id=\"linkA\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowAC - sizeArrowTriangle / 2,\n                left: xArrowAC,\n                transform: 'rotate(' + angleDegreeAC.toString() + 'deg)',\n                width: distanceAC,\n              }}\n            >\n              <div\n                id=\"arrow1\"\n                style={{\n                  display: 'flex',\n                  alignContent: 'stretch',\n                }}\n              >\n                <div\n                  className=\"arrowTriangle\"\n                  style={{\n                    width: '0',\n                    height: '0',\n                    borderLeft: this.defineSizeLink() + 'px solid transparent',\n                    borderRight: this.defineSizeLink() + 'px solid transparent',\n                    borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('A'),\n                    transform: 'rotate(270deg)',\n                  }}\n                ></div>\n                <div\n                  style={{\n                    border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                    backgroundColor: this.defineBackColor('A'),\n                    width: distanceAC,\n                    height: this.defineSizeLink() + 'px',\n                  }}\n                ></div>\n              </div>\n            </div>\n          </Tooltip>\n        );\n      } else {\n        first = (\n          <div\n            id=\"linkA\"\n            style={{\n              position: 'absolute',\n              zIndex: this.props.zIndex,\n              top: yArrowAC - sizeArrowTriangle / 2,\n              left: xArrowAC,\n              transform: 'rotate(' + angleDegreeAC.toString() + 'deg)',\n              width: distanceAC,\n            }}\n          >\n            <div\n              id=\"arrow1\"\n              style={{\n                display: 'flex',\n                alignContent: 'stretch',\n              }}\n            >\n              <div\n                className=\"arrowTriangle\"\n                style={{\n                  width: '0',\n                  height: '0',\n                  borderLeft: this.defineSizeLink() + 'px solid transparent',\n                  borderRight: this.defineSizeLink() + 'px solid transparent',\n                  borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('A'),\n                  transform: 'rotate(270deg)',\n                }}\n              ></div>\n              <div\n                style={{\n                  border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                  backgroundColor: this.defineBackColor('A'),\n                  width: distanceAC,\n                  height: this.defineSizeLink() + 'px',\n                }}\n              ></div>\n            </div>\n          </div>\n        );\n      }\n      let second: JSX.Element;\n      if (valueTooltipBidirectionalB) {\n        second = (\n          <Tooltip content={valueTooltipBidirectionalB} placement={positionTooltipB}>\n            <div\n              id=\"linkB\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowBC - sizeArrowTriangle / 2,\n                left: xArrowBC,\n                transform: 'rotate(' + angleDegreeBC.toString() + 'deg)',\n                width: distanceBC,\n              }}\n            >\n              <div\n                id=\"arrow2\"\n                style={{\n                  display: 'flex',\n                  alignContent: 'stretch',\n                }}\n              >\n                <div\n                  className=\"arrowTriangle\"\n                  style={{\n                    width: '0',\n                    height: '0',\n                    borderLeft: this.defineSizeLink() + 'px solid transparent',\n                    borderRight: this.defineSizeLink() + 'px solid transparent',\n                    borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('B'),\n                    transform: 'rotate(270deg)',\n                  }}\n                ></div>\n                <div\n                  style={{\n                    border: this.defineBorderSize('B') + 'px solid ' + this.defineBorderColor('B'),\n                    backgroundColor: this.defineBackColor('B'),\n                    width: distanceBC,\n                    height: this.defineSizeLink() + 'px',\n                  }}\n                ></div>\n              </div>\n            </div>\n          </Tooltip>\n        );\n      } else {\n        second = (\n          <div\n            id=\"linkB\"\n            style={{\n              position: 'absolute',\n              zIndex: this.props.zIndex,\n              top: yArrowBC - sizeArrowTriangle / 2,\n              left: xArrowBC,\n              transform: 'rotate(' + angleDegreeBC.toString() + 'deg)',\n              width: distanceBC,\n            }}\n          >\n            <div\n              id=\"arrow2\"\n              style={{\n                display: 'flex',\n                alignContent: 'stretch',\n              }}\n            >\n              <div\n                className=\"arrowTriangle\"\n                style={{\n                  width: '0',\n                  height: '0',\n                  borderLeft: this.defineSizeLink() + 'px solid transparent',\n                  borderRight: this.defineSizeLink() + 'px solid transparent',\n                  borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('B'),\n                  transform: 'rotate(270deg)',\n                }}\n              ></div>\n              <div\n                style={{\n                  border: this.defineBorderSize('B') + 'px solid ' + this.defineBorderColor('B'),\n                  backgroundColor: this.defineBackColor('B'),\n                  width: distanceBC,\n                  height: this.defineSizeLink() + 'px',\n                }}\n              ></div>\n            </div>\n          </div>\n        );\n      }\n\n      return (\n        <a\n          id=\"link\"\n          href={linkUrlOrientedLink}\n          onClick={this.desactiveLink}\n          style={{ cursor: this.defineCursor() }}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <div>\n            {first}\n            <div\n              id={'labelMainMetric' + this.props.id}\n              style={{\n                textDecoration: this.defineTextDecoration(),\n                fontStyle: this.defineFontStyle(),\n                fontWeight: this.defineFontWeight(),\n                position: 'absolute',\n                zIndex: 9999,\n                top: yMidAC + parseInt(this.props.labelAPositionY, 10) * inverseAxeY - this.labelSynchroY('A'),\n                left: xMidAC + parseInt(this.props.labelAPositionX, 10) - this.labelSynchroX('A'),\n                fontSize: this.props.sizePolice,\n                //border: '1px solid black',\n                backgroundColor: 'white',\n                color: this.defineColorTextLabel(),\n                padding: '0',\n              }}\n            >\n              {this.defineTextObject(this.props.valueMainMetricA)}\n            </div>\n          </div>\n          <div>\n            {second}\n            <div\n              id={'labelMainMetricB' + this.props.id}\n              style={{\n                textDecoration: this.defineTextDecoration(),\n                fontStyle: this.defineFontStyle(),\n                fontWeight: this.defineFontWeight(),\n                position: 'absolute',\n                zIndex: 9999,\n                top: yMidBC + parseInt(this.props.labelBPositionY, 10) * inverseAxeY - this.labelSynchroY('B'),\n                left: xMidBC + parseInt(this.props.labelBPositionX, 10) - this.labelSynchroX('B'),\n                fontSize: this.props.sizePolice,\n                //border: '1px solid black',\n                backgroundColor: 'white',\n                color: this.defineColorTextLabel(),\n                padding: '0',\n              }}\n            >\n              {this.defineTextObject(this.props.valueMainMetricB)}\n            </div>\n          </div>\n        </a>\n      );\n    } else if (orientationLink === 'AB') {\n      let first: JSX.Element;\n      if (valueTooltipMonodirectional) {\n        first = (\n          <Tooltip content={valueTooltipMonodirectional} placement={positionTooltipA}>\n            <div\n              id=\"partA\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowAC - sizeArrowTriangle / 2,\n                left: xArrowAC,\n                transform: 'rotate(' + angleDegreeAC.toString() + 'deg)',\n                width: distanceAC,\n              }}\n            >\n              <div\n                style={{\n                  padding: parseInt(this.defineBorderSize('A'), 10) / 2 + 'px',\n                  border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                  backgroundColor: this.defineBackColor('A'),\n                  width: distanceAC,\n                  height: this.defineSizeLink() + 'px',\n                }}\n              ></div>\n            </div>\n          </Tooltip>\n        );\n      } else {\n        first = (\n          <div\n            id=\"partA\"\n            style={{\n              position: 'absolute',\n              zIndex: this.props.zIndex,\n              top: yArrowAC - sizeArrowTriangle / 2,\n              left: xArrowAC,\n              transform: 'rotate(' + angleDegreeAC.toString() + 'deg)',\n              width: distanceAC,\n            }}\n          >\n            <div\n              style={{\n                padding: parseInt(this.defineBorderSize('A'), 10) / 2 + 'px',\n                border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                backgroundColor: this.defineBackColor('A'),\n                width: distanceAC,\n                height: this.defineSizeLink() + 'px',\n              }}\n            ></div>\n          </div>\n        );\n      }\n      let second: JSX.Element;\n      if (valueTooltipMonodirectional) {\n        second = (\n          <Tooltip content={valueTooltipMonodirectional} placement={positionTooltipA}>\n            <div\n              id=\"partB\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowBC - sizeArrowTriangle / 2,\n                left: xArrowBC,\n                transform: 'rotate(' + angleDegreeBC.toString() + 'deg)',\n                width: distanceBC,\n              }}\n            >\n              <div\n                id=\"arrow2\"\n                style={{\n                  display: 'flex',\n                }}\n              >\n                <div\n                  style={{\n                    border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                    backgroundColor: this.defineBackColor('A'),\n                    width: distanceBC,\n                    height: this.defineSizeLink() + 'px',\n                  }}\n                ></div>\n                <div\n                  className=\"arrowTriangle\"\n                  style={{\n                    width: '0',\n                    height: '0',\n                    borderLeft: this.defineSizeLink() + 'px solid transparent',\n                    borderRight: this.defineSizeLink() + 'px solid transparent',\n                    borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('A'),\n                    transform: 'rotate(90deg)',\n                  }}\n                ></div>\n              </div>\n            </div>\n          </Tooltip>\n        );\n      } else {\n        second = (\n          <div\n            id=\"partB\"\n            style={{\n              position: 'absolute',\n              zIndex: this.props.zIndex,\n              top: yArrowBC - sizeArrowTriangle / 2,\n              left: xArrowBC,\n              transform: 'rotate(' + angleDegreeBC.toString() + 'deg)',\n              width: distanceBC,\n              height: this.defineSizeLink() + 'px',\n            }}\n          >\n            <div\n              id=\"arrow2\"\n              style={{\n                display: 'flex',\n              }}\n            >\n              <div\n                style={{\n                  border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                  backgroundColor: this.defineBackColor('A'),\n                  width: distanceBC,\n                  height: this.defineSizeLink() + 'px',\n                }}\n              ></div>\n              <div\n                className=\"arrowTriangle\"\n                style={{\n                  width: '0',\n                  height: '0',\n                  borderLeft: this.defineSizeLink() + 'px solid transparent',\n                  borderRight: this.defineSizeLink() + 'px solid transparent',\n                  borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('A'),\n                  transform: 'rotate(90deg)',\n                }}\n              ></div>\n            </div>\n          </div>\n        );\n      }\n      if (this.props.isIncurved.value) {\n        return (\n          <a\n            href={linkUrlOrientedLink}\n            onClick={this.desactiveLink}\n            style={{ cursor: this.defineCursor() }}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {first}\n            {second}\n            <div\n              id={'labelMainMetric' + this.props.id}\n              style={{\n                textDecoration: this.defineTextDecoration(),\n                fontStyle: this.defineFontStyle(),\n                fontWeight: this.defineFontWeight(),\n                position: 'absolute',\n                zIndex: 9999,\n                top: yC + parseInt(this.props.labelAPositionY, 10) * inverseAxeY - this.labelSynchroY('A'),\n                left: xC + parseInt(this.props.labelAPositionX, 10) - this.labelSynchroX('A'),\n                backgroundColor: 'white',\n                fontSize: this.props.sizePolice,\n                color: this.defineColorTextLabel(),\n                padding: '0',\n              }}\n            >\n              {this.defineTextObject(this.props.valueMainMetricA)}\n            </div>\n          </a>\n        );\n      } else {\n        let first: JSX.Element;\n        if (valueTooltipMonodirectional) {\n          first = (\n            <Tooltip content={valueTooltipMonodirectional} placement={positionTooltipA}>\n              <div\n                id=\"link\"\n                style={{\n                  position: 'absolute',\n                  zIndex: this.props.zIndex,\n                  top: yArrowAB - sizeArrowTriangle / 2,\n                  left: xArrowAB,\n                  transform: 'rotate(' + angleDegreeAB.toString() + 'deg)',\n                  width: distanceAB,\n                }}\n              >\n                <div\n                  id=\"arrow1\"\n                  style={{\n                    display: 'flex',\n                    justifyContent: 'center',\n                  }}\n                >\n                  <div\n                    className=\"arrowTriangle\"\n                    style={{\n                      //position: 'absolute',\n                      width: '0',\n                      height: '0',\n                      borderLeft: this.defineSizeLink() + 'px solid transparent',\n                      borderRight: this.defineSizeLink() + 'px solid transparent',\n                      borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('A'),\n                      transform: 'rotate(270deg)',\n                    }}\n                  ></div>\n                  <div\n                    style={{\n                      border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                      backgroundColor: this.defineBackColor('A'),\n                      width: distanceAB,\n                      height: this.defineSizeLink() + 'px',\n                    }}\n                  ></div>\n                </div>\n              </div>\n            </Tooltip>\n          );\n        } else {\n          first = (\n            <div\n              id=\"link\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowAB - sizeArrowTriangle / 2,\n                left: xArrowAB,\n                transform: 'rotate(' + angleDegreeAB.toString() + 'deg)',\n                width: distanceAB,\n              }}\n            >\n              <div\n                id=\"arrow1\"\n                style={{\n                  display: 'flex',\n                  justifyContent: 'center',\n                }}\n              >\n                <div\n                  className=\"arrowTriangle\"\n                  style={{\n                    width: '0',\n                    height: '0',\n                    borderLeft: this.defineSizeLink() + 'px solid transparent',\n                    borderRight: this.defineSizeLink() + 'px solid transparent',\n                    borderBottom: this.defineSizeLink() + 'px solid ' + this.defineBackColor('A'),\n                    transform: 'rotate(270deg)',\n                  }}\n                ></div>\n                <div\n                  style={{\n                    border: this.defineBorderSize('A') + 'px solid ' + this.defineBorderColor('A'),\n                    backgroundColor: this.defineBackColor('A'),\n                    width: distanceAB,\n                    height: this.defineSizeLink() + 'px',\n                  }}\n                ></div>\n              </div>\n            </div>\n          );\n        }\n        return (\n          <a\n            href={linkUrlOrientedLink}\n            onClick={this.desactiveLink}\n            style={{ cursor: this.defineCursor() }}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {first}\n            <div\n              id={'labelMainMetric' + this.props.id}\n              style={{\n                textDecoration: this.defineTextDecoration(),\n                fontStyle: this.defineFontStyle(),\n                fontWeight: this.defineFontWeight(),\n                position: 'absolute',\n                zIndex: 9999,\n                top: yMidAB + parseInt(this.props.labelAPositionY, 10) * inverseAxeY - this.labelSynchroY('A'),\n                left: xMidAB + parseInt(this.props.labelAPositionX, 10) - this.labelSynchroX('A'),\n                backgroundColor: 'white',\n                fontSize: this.props.sizePolice,\n                color: this.defineColorTextLabel(),\n                padding: '0',\n              }}\n            >\n              {this.defineTextObject(this.props.valueMainMetricA)}\n            </div>\n          </a>\n        );\n      }\n    } else if (orientationLink === 'no') {\n      if (this.props.isIncurved.value) {\n        let first: JSX.Element;\n        if (valueTooltipMonodirectional) {\n          first = (\n            <Tooltip content={valueTooltipMonodirectional} placement={positionTooltipA}>\n              <div\n                id=\"partA\"\n                style={{\n                  position: 'absolute',\n                  zIndex: this.props.zIndex,\n                  top: yArrowAC,\n                  left: xArrowAC,\n                  transform: 'rotate(' + angleDegreeAC.toString() + 'deg)',\n                  height: this.defineSizeLink() + 'px',\n                  width: distanceAC,\n                  border: this.defineBorderSize('A') + ' solid ' + this.defineBorderColor('A'),\n                  backgroundColor: this.defineBackColor('A'),\n                }}\n              ></div>\n            </Tooltip>\n          );\n        } else {\n          first = (\n            <div\n              id=\"partA\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowAC,\n                left: xArrowAC,\n                transform: 'rotate(' + angleDegreeAC.toString() + 'deg)',\n                height: this.defineSizeLink() + 'px',\n                width: distanceAC,\n                border: this.defineBorderSize('A') + ' solid ' + this.defineBorderColor('A'),\n                backgroundColor: this.defineBackColor('A'),\n              }}\n            ></div>\n          );\n        }\n        let second: JSX.Element;\n        if (valueTooltipMonodirectional) {\n          second = (\n            <Tooltip content={valueTooltipMonodirectional} placement={positionTooltipA}>\n              <div\n                id=\"partB\"\n                style={{\n                  position: 'absolute',\n                  zIndex: this.props.zIndex,\n                  top: yArrowBC,\n                  left: xArrowBC,\n                  transform: 'rotate(' + angleDegreeBC.toString() + 'deg)',\n                  height: this.defineSizeLink() + 'px',\n                  width: distanceBC,\n                  border: this.defineBorderSize('A') + ' solid ' + this.defineBorderColor('A'),\n                  backgroundColor: this.defineBackColor('A'),\n                }}\n              ></div>\n            </Tooltip>\n          );\n        } else {\n          second = (\n            <div\n              id=\"partB\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowBC,\n                left: xArrowBC,\n                transform: 'rotate(' + angleDegreeBC.toString() + 'deg)',\n                height: this.defineSizeLink() + 'px',\n                width: distanceBC,\n                border: this.defineBorderSize('A') + ' solid ' + this.defineBorderColor('A'),\n                backgroundColor: this.defineBackColor('A'),\n              }}\n            ></div>\n          );\n        }\n        return (\n          <a\n            href={linkUrlOrientedLink}\n            onClick={this.desactiveLink}\n            style={{ cursor: this.defineCursor() }}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {first}\n            {second}\n            <div\n              id={'labelMainMetric' + this.props.id}\n              style={{\n                textDecoration: this.defineTextDecoration(),\n                fontStyle: this.defineFontStyle(),\n                fontWeight: this.defineFontWeight(),\n                position: 'absolute',\n                zIndex: 9999,\n                top: yC + parseInt(this.props.labelAPositionY, 10) * inverseAxeY - this.labelSynchroY('A'),\n                left: xC + parseInt(this.props.labelAPositionX, 10) - this.labelSynchroX('A'),\n                backgroundColor: 'white',\n                fontSize: this.props.sizePolice,\n                color: this.defineColorTextLabel(),\n                padding: '0',\n              }}\n            >\n              {this.defineTextObject(this.props.valueMainMetricA)}\n            </div>\n          </a>\n        );\n      } else {\n        let first: JSX.Element;\n        if (valueTooltipMonodirectional) {\n          first = (\n            <Tooltip content={valueTooltipMonodirectional} placement={positionTooltipA}>\n              <div\n                id=\"link\"\n                style={{\n                  position: 'absolute',\n                  zIndex: this.props.zIndex,\n                  top: yArrowAB,\n                  left: xArrowAB,\n                  transform: 'rotate(' + angleDegreeAB.toString() + 'deg)',\n                  width: distanceAB,\n                  height: this.defineSizeLink() + 'px',\n                  border: this.defineBorderSize('A') + ' solid ' + this.defineBorderColor('A'),\n                  backgroundColor: this.defineBackColor('A'),\n                }}\n              ></div>\n            </Tooltip>\n          );\n        } else {\n          first = (\n            <div\n              id=\"link\"\n              style={{\n                position: 'absolute',\n                zIndex: this.props.zIndex,\n                top: yArrowAB,\n                left: xArrowAB,\n                transform: 'rotate(' + angleDegreeAB.toString() + 'deg)',\n                width: distanceAB,\n                height: this.defineSizeLink() + 'px',\n                border: this.defineBorderSize('A') + ' solid ' + this.defineBorderColor('A'),\n                backgroundColor: this.defineBackColor('A'),\n              }}\n            ></div>\n          );\n        }\n        return (\n          <a\n            href={linkUrlOrientedLink}\n            onClick={this.desactiveLink}\n            style={{ cursor: this.defineCursor() }}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {first}\n            <div\n              id={'labelMainMetric' + this.props.id}\n              style={{\n                textDecoration: this.defineTextDecoration(),\n                fontStyle: this.defineFontStyle(),\n                fontWeight: this.defineFontWeight(),\n                position: 'absolute',\n                zIndex: 9999,\n                top: yMidAB + parseInt(this.props.labelAPositionY, 10) * inverseAxeY - this.labelSynchroY('A'),\n                left: xMidAB + parseInt(this.props.labelAPositionX, 10) - this.labelSynchroX('A'),\n                backgroundColor: 'white',\n                fontSize: this.props.sizePolice,\n                color: this.defineColorTextLabel(),\n                padding: '0',\n              }}\n            >\n              {this.defineTextObject(this.props.valueMainMetricA)}\n            </div>\n          </a>\n        );\n      }\n    } else {\n      return <div></div>;\n    }\n  }\n\n  private desactiveLink = (event: any) => {\n    // const inputFollowingLink: any = document.getElementById('followLink');\n    // if (inputFollowingLink) {\n    //   if (inputFollowingLink.defaultValue === '') {\n    //     event.preventDefault();\n    //   }\n    // } else if (this.props.linkUrl.followLink === '') {\n    //   event.preventDefault();\n    // }\n    if (this.props.linkUrl.followLink === '') {\n      event.preventDefault();\n    }\n  };\n\n  private defineCursor = (): string => {\n    let result = 'pointer';\n    // const inputFollowingLink: any = document.getElementById('followLink');\n    // if (inputFollowingLink) {\n    //   if (inputFollowingLink.defaultValue === '') {\n    //     result = 'default';\n    //   }\n    // } else if (this.props.linkUrl.followLink === '') {\n    //   result = 'default';\n    // }\n    if (this.props.linkUrl.followLink === '') {\n      result = 'default';\n    }\n    return result;\n  };\n\n  private defineBackColor(link: string) {\n    let colorBack = '';\n    let seuil: LowerLimitClass[] = this.props.seuil;\n    let valueMainMetric = 0;\n\n    if (link === 'A') {\n      valueMainMetric = parseInt(this.props.valueMainMetricA, 10);\n    } else {\n      valueMainMetric = parseInt(this.props.valueMainMetricB, 10);\n    }\n\n    if (this.props.traceBack) {\n      if (!this.props.colorMode && this.props.seuil.length > 0) {\n        if (seuil[0].backColor !== '') {\n          colorBack = seuil[0].backColor;\n        } else {\n          colorBack = 'black';\n        }\n      } else {\n        colorBack = 'black';\n      }\n    } else {\n      colorBack = 'black';\n    }\n\n    let index = 0;\n    if (this.props.colorMode && this.props.seuil.length > 0) {\n      seuil.forEach((level: LowerLimitClass) => {\n        let lowerLimitMin = 0;\n        if (level.lowerLimitMin === '') {\n          lowerLimitMin = 0;\n        } else {\n          lowerLimitMin = parseInt(level.lowerLimitMin.substring(1), 10);\n        }\n        if (lowerLimitMin === 0) {\n          if (valueMainMetric >= lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n            colorBack = level.backColor;\n          }\n        } else if (this.props.seuil.length === index + 1) {\n          if (valueMainMetric > lowerLimitMin) {\n            colorBack = level.backColor;\n          }\n        } else if (valueMainMetric > lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n          colorBack = level.backColor;\n        }\n        index++;\n      });\n    }\n\n    return colorBack;\n  }\n\n  private defineBorderColor(link: string) {\n    let colorBorder = '';\n    let seuil: LowerLimitClass[] = this.props.seuil;\n    let valueMainMetric = 0;\n\n    if (link === 'A') {\n      valueMainMetric = parseInt(this.props.valueMainMetricA, 10);\n    } else {\n      valueMainMetric = parseInt(this.props.valueMainMetricB, 10);\n    }\n\n    if (this.props.traceBorder) {\n      if (!this.props.colorMode && this.props.seuil.length > 0) {\n        if (seuil[0].borderColor !== '') {\n          colorBorder = seuil[0].borderColor;\n        } else {\n          colorBorder = 'black';\n        }\n      } else {\n        colorBorder = 'black';\n      }\n    } else {\n      colorBorder = 'black';\n    }\n\n    let index = 0;\n    if (this.props.colorMode && this.props.seuil.length > 0) {\n      seuil.forEach((level: LowerLimitClass) => {\n        let lowerLimitMin = 0;\n        if (level.lowerLimitMin === '') {\n          lowerLimitMin = 0;\n        } else {\n          lowerLimitMin = parseInt(level.lowerLimitMin.substring(1), 10);\n        }\n        if (lowerLimitMin === 0) {\n          if (valueMainMetric >= lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n            colorBorder = level.borderColor;\n          }\n        } else if (this.props.seuil.length === index + 1) {\n          if (valueMainMetric > lowerLimitMin) {\n            colorBorder = level.borderColor;\n          }\n        } else if (valueMainMetric > lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n          colorBorder = level.borderColor;\n        }\n        index++;\n      });\n    }\n    return colorBorder;\n  }\n\n  defineBorderSize(link: string) {\n    let sizeBorder = '';\n    let seuil: LowerLimitClass[] = this.props.seuil;\n    let valueMainMetric = 0;\n\n    if (link === 'A') {\n      valueMainMetric = parseInt(this.props.valueMainMetricA, 10);\n    } else {\n      valueMainMetric = parseInt(this.props.valueMainMetricB, 10);\n    }\n\n    if (this.props.traceBorder) {\n      if (!this.props.colorMode && this.props.seuil.length > 0) {\n        if (seuil[0].sizeBorder !== '') {\n          sizeBorder = seuil[0].sizeBorder;\n        } else {\n          sizeBorder = '0';\n        }\n      } else {\n        sizeBorder = '0';\n      }\n    } else {\n      sizeBorder = '0';\n    }\n\n    let index = 0;\n    if (this.props.colorMode && this.props.seuil.length > 0) {\n      seuil.forEach((level: LowerLimitClass) => {\n        let lowerLimitMin = 0;\n        if (level.lowerLimitMin === '') {\n          lowerLimitMin = 0;\n        } else {\n          lowerLimitMin = parseInt(level.lowerLimitMin.substring(1), 10);\n        }\n        if (lowerLimitMin === 0) {\n          if (valueMainMetric >= lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n            sizeBorder = level.sizeBorder;\n          }\n        } else if (this.props.seuil.length === index + 1) {\n          if (valueMainMetric > lowerLimitMin) {\n            sizeBorder = level.sizeBorder;\n          }\n        } else if (valueMainMetric > lowerLimitMin && valueMainMetric <= parseInt(level.lowerLimitMax, 10)) {\n          sizeBorder = level.sizeBorder;\n        }\n        index++;\n      });\n    }\n    return sizeBorder;\n  }\n\n  private defineMainMetric = (mainMetric: string): string => {\n    let result = '';\n    const unit: string = this.props.textObject.valueGenerateObjectText.unit;\n    const decimal: string = this.props.textObject.valueGenerateObjectText.numericFormatElement;\n    const roundValue: number = parseInt(decimal, 10) || 1;\n\n    if (decimal !== '') {\n      result = parseFloat(mainMetric).toPrecision(roundValue) + ' ' + unit;\n    } else {\n      result = mainMetric + ' ' + unit;\n    }\n    return result;\n  };\n\n  private defineAuxMetric = (auxMetric: string): string => {\n    let result = '';\n    const unit: string = this.props.textObject.generateAuxiliaryElement.unit;\n    const decimal: string = this.props.textObject.generateAuxiliaryElement.numericFormatElement;\n    const roundValue: number = parseInt(decimal, 10) || 1;\n\n    if (decimal !== '') {\n      result = parseFloat(auxMetric).toPrecision(roundValue) + ' ' + unit;\n    } else {\n      result = auxMetric + ' ' + unit;\n    }\n    return result;\n  };\n\n  private defineTextObject = (mainMetric: string): JSX.Element => {\n    let htmlTextObject: JSX.Element[] = [];\n    let htmlMainMetric: JSX.Element[] = [];\n    const dislayTextObjectInTooltip: boolean = this.props.textObject.isTextTooltip;\n    const textColorTextObject: string = this.props.textObject.colorText;\n    const backColoTextObject: string = this.props.textObject.colorBack;\n    const displayMainMetric: boolean = this.props.textObject.generateObjectText;\n    const displayMainMetricInTooltip: boolean = this.props.textObject.valueGenerateObjectText.displayObjectInTooltip;\n    const addTextColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorTextElement;\n    const addBackColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorBackElement;\n    const textColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorTextElement;\n    const backColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorBackElement;\n    const legendMainMetric: string = this.props.textObject.valueGenerateObjectText.legendElement;\n\n    const styleLabel = {\n      color: textColorTextObject,\n      backgroundColor: backColoTextObject,\n      textAlign: 'center',\n      margin: 0,\n      padding: '0 5px',\n    } as CSSProperties;\n\n    const styleMainMetric = {\n      color: addTextColorMainMetric ? textColorMainMetric : textColorTextObject,\n      margin: 0,\n      padding: 0,\n      whiteSpace: 'nowrap',\n    } as CSSProperties;\n\n    if (!dislayTextObjectInTooltip) {\n      htmlTextObject.push(\n        <p key={'contentTextObject1' + this.props.name} style={styleLabel}>\n          {this.props.label || this.props.name.toUpperCase()}\n        </p>\n      );\n    }\n    if (displayMainMetric) {\n      if (!displayMainMetricInTooltip) {\n        if (legendMainMetric) {\n          htmlMainMetric.push(\n            <p key={'contentTextObject2' + this.props.name} style={styleMainMetric}>\n              {legendMainMetric}\n            </p>\n          );\n        }\n        // Condition Display NaN none Oriented Link\n        htmlMainMetric.push(\n          <p key={'contentTextObject3' + this.props.name} style={styleMainMetric}>\n            {!isNaN(parseFloat(this.defineMainMetric(mainMetric))) && this.defineMainMetric(mainMetric)}\n          </p>\n        );\n      }\n    }\n\n    let styleMainDiv = {\n      backgroundColor: backColoTextObject,\n      border: '1px solid black',\n    } as CSSProperties;\n\n    if (!displayMainMetric || (displayMainMetric && displayMainMetricInTooltip)) {\n      styleMainDiv = {\n        backgroundColor: backColoTextObject,\n      };\n    }\n\n    return (\n      <div style={styleMainDiv}>\n        {htmlTextObject}\n        <div style={{ backgroundColor: addBackColorMainMetric ? backColorMainMetric : backColoTextObject, padding: '0 5px' }}>{htmlMainMetric}</div>\n      </div>\n    );\n  };\n\n  private defineHtmlLinkTooltip = (): JSX.Element => {\n    let result: JSX.Element = <div></div>;\n    if (this.props.linkUrl.hoveringTooltipText !== '') {\n      result = (\n        <a href={this.props.linkUrl.hoveringTooltipLink} target=\"_blank\" rel=\"noopener noreferrer\">\n          {this.props.linkUrl.hoveringTooltipText}\n        </a>\n      );\n    }\n    return result;\n  };\n\n  private defineValueTooptip = (typeLink: string, link?: string): JSX.Element | null => {\n    const contentTooltip: JSX.Element[] = [];\n    const contentTooltipMainMetric: JSX.Element[] = [];\n    const contentTooltipAuxMetric: JSX.Element[] = [];\n    const contentTooltipMetaData: JSX.Element[] = [];\n    const valueMainMetricA = this.props.valueMainMetricA;\n    const valueMainMetricB = this.props.valueMainMetricB;\n    const refMainMetricA = this.props.refMainMetricA;\n    const refMainMetricB = this.props.refMainMetricB;\n    const dislayTextObjectInTooltip: boolean = this.props.textObject.isTextTooltip;\n    const textColorTextObject: string = this.props.textObject.colorText;\n    const backColoTextObject: string = this.props.textObject.colorBack;\n    const displayMainMetric: boolean = this.props.textObject.generateObjectText;\n    const displayMainMetricInTooltip: boolean = this.props.textObject.valueGenerateObjectText.displayObjectInTooltip;\n    const addTextColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorTextElement;\n    const addBackColorMainMetric: boolean = this.props.textObject.valueGenerateObjectText.addColorBackElement;\n    const textColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorTextElement;\n    const backColorMainMetric: string = this.props.textObject.valueGenerateObjectText.colorBackElement;\n    const legendMainMetric: string = this.props.textObject.valueGenerateObjectText.legendElement;\n    const displayAuxMetricInTooltip: boolean = this.props.textObject.generateAuxiliaryElement.displayObjectInTooltip;\n    const addTextColorAuxMetric: boolean = this.props.textObject.generateAuxiliaryElement.addColorTextElement;\n    const addBackColorAuxMetric: boolean = this.props.textObject.generateAuxiliaryElement.addColorBackElement;\n    const textColorAuxMetric: string = this.props.textObject.generateAuxiliaryElement.colorTextElement;\n    const backColorAuxMetric: string = this.props.textObject.generateAuxiliaryElement.colorBackElement;\n    const legendAuxMetric: string = this.props.textObject.generateAuxiliaryElement.legendElement;\n\n    const styleMainTitle = {\n      fontFamily: this.props.police,\n      fontSize: '11px',\n      marginBottom: '0px',\n      textAlign: 'center',\n      color: textColorTextObject,\n      backgroundColor: backColoTextObject,\n    } as React.CSSProperties;\n\n    const styleTitleMainMetric = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: addTextColorMainMetric ? textColorMainMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitleAuxMetric = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: addTextColorAuxMetric ? textColorAuxMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitle2MainMetric = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginLeft: '5px',\n      marginBottom: '0px',\n      color: addTextColorMainMetric ? textColorMainMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitle2AuxMetric = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginLeft: '5px',\n      marginBottom: '0px',\n      color: addTextColorAuxMetric ? textColorAuxMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleTitleMetaData = {\n      fontFamily: this.props.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: 'white',\n    } as React.CSSProperties;\n\n    const styleContentMainMetrics = {\n      fontFamily: this.props.police,\n      fontSize: '9px',\n      marginLeft: '10px',\n      marginBottom: '0px',\n      color: addTextColorMainMetric ? textColorMainMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    const styleContentAuxMetrics = {\n      fontFamily: this.props.police,\n      fontSize: '9px',\n      marginLeft: '10px',\n      marginBottom: '0px',\n      color: addTextColorAuxMetric ? textColorAuxMetric : textColorTextObject,\n    } as React.CSSProperties;\n\n    if (dislayTextObjectInTooltip) {\n      contentTooltip.push(\n        <p key={'contentTooltip1' + this.props.name} style={styleMainTitle}>\n          {this.props.label || this.props.name.toUpperCase()}\n        </p>\n      );\n    }\n\n    if (displayMainMetric) {\n      if (displayMainMetricInTooltip) {\n        if (legendMainMetric) {\n          contentTooltipMainMetric.push(<p style={styleTitleMainMetric}>{legendMainMetric}</p>);\n        }\n        contentTooltipMainMetric.push(\n          <p key={'contentTooltip1' + this.props.name} style={styleTitleMainMetric}>\n            Main Metric\n          </p>\n        );\n\n        if (typeLink === 'bidirectional') {\n          if (link === 'A') {\n            contentTooltipMainMetric.push(\n              <p key={'contentTooltip2' + this.props.name} style={styleTitle2MainMetric}>\n                + Link A\n              </p>\n            );\n            contentTooltipMainMetric.push(\n              <p key={'contentTooltip3' + this.props.name} style={styleContentMainMetrics}>\n                {' '}\n                - Reference : {refMainMetricA}\n              </p>\n            );\n            contentTooltipMainMetric.push(\n              <p key={'contentTooltip4' + this.props.name} style={styleContentMainMetrics}>\n                {' '}\n                - Value : {this.defineMainMetric(valueMainMetricA)}\n              </p>\n            );\n          } else {\n            contentTooltipMainMetric.push(\n              <p key={'contentTooltip5' + this.props.name} style={styleTitle2MainMetric}>\n                + Link B\n              </p>\n            );\n            contentTooltipMainMetric.push(\n              <p key={'contentTooltip6' + this.props.name} style={styleContentMainMetrics}>\n                {' '}\n                - Reference : {refMainMetricB}\n              </p>\n            );\n            contentTooltipMainMetric.push(\n              <p key={'contentTooltip7' + this.props.name} style={styleContentMainMetrics}>\n                {' '}\n                - Value : {this.defineMainMetric(valueMainMetricB)}\n              </p>\n            );\n          }\n        } else if (typeLink === 'monodirectional') {\n          contentTooltipMainMetric.push(\n            <p key={'contentTooltip8' + this.props.name} style={styleContentMainMetrics}>\n              {' '}\n              - Reference : {refMainMetricA}\n            </p>\n          );\n          contentTooltipMainMetric.push(\n            <p key={'contentTooltip9' + this.props.name} style={styleContentMainMetrics}>\n              {' '}\n              - Value : {this.defineMainMetric(valueMainMetricA)}\n            </p>\n          );\n        }\n      }\n    }\n\n    if (displayAuxMetricInTooltip) {\n      if (legendAuxMetric) {\n        contentTooltipAuxMetric.push(<p style={styleTitleAuxMetric}>{legendAuxMetric}</p>);\n      }\n      if (typeLink === 'bidirectional') {\n        if (link === 'A') {\n          if (this.props.auxiliaryMetrics.length > 0) {\n            contentTooltipAuxMetric.push(\n              <p key={'contentTooltip10' + this.props.name} style={styleTitleAuxMetric}>\n                Auxiliary Metric\n              </p>\n            );\n            let index = 1;\n            this.props.auxiliaryMetrics.forEach((metric) => {\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip11' + this.props.name} style={styleTitle2AuxMetric}>\n                  + Metric {index}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip12' + this.props.name} style={styleContentAuxMetrics}>\n                  - Reference : {metric.refId}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip13' + this.props.name} style={styleContentAuxMetrics}>\n                  - Value :{' '}\n                  {!isNaN(parseFloat(this.defineAuxMetric(this.props.valuesAuxiliaryMetrics[index - 1]))) &&\n                    this.defineAuxMetric(this.props.valuesAuxiliaryMetrics[index - 1])}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip14' + this.props.name} style={styleContentAuxMetrics}>\n                  - Key : {metric.key}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip15' + this.props.name} style={styleContentAuxMetrics}>\n                  - KeyValue : {metric.keyValue}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip16' + this.props.name} style={styleContentAuxMetrics}>\n                  - Type : {metric.manageValue}\n                </p>\n              );\n              index++;\n            });\n          }\n        } else {\n          if (this.props.auxiliaryMetricsB.length > 0) {\n            contentTooltipAuxMetric.push(\n              <p key={'contentTooltip17' + this.props.name} style={styleTitleAuxMetric}>\n                Auxiliary Metric\n              </p>\n            );\n            let index = 1;\n            this.props.auxiliaryMetricsB.forEach((metricB) => {\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip18' + this.props.name} style={styleTitle2AuxMetric}>\n                  + Metric {index}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip19' + this.props.name} style={styleContentAuxMetrics}>\n                  - Reference : {metricB.refId}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip20' + this.props.name} style={styleContentAuxMetrics}>\n                  - Value :{' '}\n                  {!isNaN(parseFloat(this.defineAuxMetric(this.props.valuesAuxiliaryMetricsB[index - 1]))) &&\n                    this.defineAuxMetric(this.props.valuesAuxiliaryMetricsB[index - 1])}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip21' + this.props.name} style={styleContentAuxMetrics}>\n                  - Key : {metricB.key}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip22' + this.props.name} style={styleContentAuxMetrics}>\n                  - KeyValue : {metricB.keyValue}\n                </p>\n              );\n              contentTooltipAuxMetric.push(\n                <p key={index.toString() + 'contentTooltip23' + this.props.name} style={styleContentAuxMetrics}>\n                  - Type : {metricB.manageValue}\n                </p>\n              );\n              index++;\n            });\n          }\n        }\n      } else if (typeLink === 'monodirectional') {\n        if (this.props.auxiliaryMetrics.length > 0) {\n          contentTooltipAuxMetric.push(\n            <p key={'contentTooltip24' + this.props.name} style={styleTitleAuxMetric}>\n              Auxiliary Metric\n            </p>\n          );\n          let index = 1;\n          this.props.auxiliaryMetrics.forEach((metric) => {\n            contentTooltipAuxMetric.push(\n              <p key={index.toString() + 'contentTooltip25' + this.props.name} style={styleTitle2AuxMetric}>\n                + Metric {index}\n              </p>\n            );\n            contentTooltipAuxMetric.push(\n              <p key={index.toString() + 'contentTooltip26' + this.props.name} style={styleContentAuxMetrics}>\n                - Reference : {metric.refId}\n              </p>\n            );\n            contentTooltipAuxMetric.push(\n              <p key={index.toString() + 'contentTooltip27' + this.props.name} style={styleContentAuxMetrics}>\n                - Value :{' '}\n                {!isNaN(parseFloat(this.defineAuxMetric(this.props.valuesAuxiliaryMetrics[index - 1]))) &&\n                  this.defineAuxMetric(this.props.valuesAuxiliaryMetrics[index - 1])}\n              </p>\n            );\n            contentTooltipAuxMetric.push(\n              <p key={index.toString() + 'contentTooltip28' + this.props.name} style={styleContentAuxMetrics}>\n                - Key : {metric.key}\n              </p>\n            );\n            contentTooltipAuxMetric.push(\n              <p key={index.toString() + 'contentTooltip29' + this.props.name} style={styleContentAuxMetrics}>\n                - KeyValue : {metric.keyValue}\n              </p>\n            );\n            contentTooltipAuxMetric.push(\n              <p key={index.toString() + 'contentTooltip30' + this.props.name} style={styleContentAuxMetrics}>\n                - Type : {metric.manageValue}\n              </p>\n            );\n            index++;\n          });\n        }\n      }\n    }\n\n    if (this.props.metaData.length !== 0) {\n      contentTooltipMetaData.push(\n        <p key={'ContentTooltip31' + this.props.name} style={styleTitleMetaData}>\n          Metadata\n        </p>\n      );\n      this.props.metaData.forEach((oneMetaData, index) => {\n        const styleContentMetaData = {\n          color: oneMetaData.obj.colorText,\n          backgroundColor: oneMetaData.obj.colorBack,\n          fontWeight: oneMetaData.obj.style.bold ? 'bold' : 'normal',\n          fontStyle: oneMetaData.obj.style.italic ? 'italic' : 'normal',\n          textDecoration: oneMetaData.obj.style.underline ? 'underline' : 'none',\n          fontFamily: this.props.police,\n          fontSize: '9px',\n          marginLeft: '10px',\n          marginBottom: '0px',\n        } as CSSProperties;\n        contentTooltipMetaData.push(\n          <p key={index + 'ContentTooltip32' + this.props.name} style={styleContentMetaData}>\n            - {oneMetaData.meta}\n          </p>\n        );\n      });\n    }\n\n    if (\n      contentTooltip.length === 0 &&\n      contentTooltipAuxMetric.length === 0 &&\n      contentTooltipMainMetric.length === 0 &&\n      contentTooltipMetaData.length === 0 &&\n      !this.props.linkUrl.hoveringTooltipText\n    ) {\n      return null;\n    }\n\n    return (\n      <div style={{ border: '1px solid black', padding: 0 }}>\n        {contentTooltip}\n        <div style={{ backgroundColor: addBackColorMainMetric ? backColorMainMetric : backColoTextObject, padding: '0 5px' }}>\n          {contentTooltipMainMetric}\n        </div>\n        <div style={{ backgroundColor: addBackColorAuxMetric ? backColorAuxMetric : backColoTextObject, padding: '0 5px' }}>\n          {contentTooltipAuxMetric}\n        </div>\n        <div style={{ padding: '0 5px' }}>{contentTooltipMetaData}</div>\n        {this.defineHtmlLinkTooltip()}\n      </div>\n    );\n  };\n\n  private defineTextDecoration = (): string => {\n    const mainStyle: Style = this.props.textObject.style;\n    let result = '';\n    if (mainStyle.underline) {\n      result = 'underline';\n    } else {\n      if (this.props.options.display.style.underline) {\n        result = 'underline';\n      } else {\n        result = 'none';\n      }\n    }\n    return result;\n  };\n\n  private defineFontStyle = (): string => {\n    const mainStyle: Style = this.props.textObject.style;\n    let result = '';\n    if (mainStyle.italic) {\n      result = 'italic';\n    } else {\n      if (this.props.options.display.style.italic) {\n        result = 'italic';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n\n  private defineFontWeight = (): any => {\n    const mainStyle: Style = this.props.textObject.style;\n    let result = '';\n    if (mainStyle.bold) {\n      result = 'bold';\n    } else {\n      if (this.props.options.display.style.bold) {\n        result = 'bold';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n\n  private defineColorTextLabel = () => {\n    let result = '';\n    if (this.props.textObject.colorText) {\n      result = this.props.textObject.colorText;\n    } else {\n      result = 'black';\n    }\n    return result;\n  };\n\n  private defineSizeLink = (): string => {\n    let result = '';\n    if (this.props.size) {\n      const size: string = this.props.size || '';\n      result = size;\n    } else {\n      result = '2';\n    }\n    return result;\n  };\n\n  render() {\n    const xCoordinateA: number = this.synchroLinkX(parseInt(this.props.positionXADefault, 10), 'xA');\n    const yCoordinateA: number = this.synchroLinkY(parseInt(this.props.positionYADefault, 10), 'yA');\n    const xCoordinateB: number = this.synchroLinkX(parseInt(this.props.positionXBDefault, 10), 'xB');\n    const yCoordinateB: number = this.synchroLinkY(parseInt(this.props.positionYBDefault, 10), 'yB');\n    const xCoordinateC: number = this.synchroLinkX(parseInt(this.props.positionXCDefault, 10) || 0, 'xC');\n    const yCoordinateC: number = this.synchroLinkY(parseInt(this.props.positionYCDefault, 10) || 0, 'yC');\n    const orientationLink: string = this.props.orientationLink;\n\n    return <div>{this.drawLink(xCoordinateA, yCoordinateA, xCoordinateB, yCoordinateB, xCoordinateC, yCoordinateC, orientationLink)}</div>;\n  }\n}\n","import React from 'react';\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions } from 'types';\nimport { RegionClass } from 'Models/RegionClass';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\nimport { PointClass } from 'Models/PointClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { Button } from '@grafana/ui';\n\ninterface Legend {\n  hiddenLegend: boolean;\n  x: number;\n  y: number;\n}\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  // legend: Legend;\n  /** save data */\n  callBack: (event: any) => void;\n  callBackClose: () => void;\n}\n\ninterface State {\n  finalHTML: JSX.Element;\n  legend: Legend;\n}\n\n/**\n * def\n */\nclass LegendComponent extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      finalHTML: <div></div>,\n      legend: this.props.options.legend,\n    };\n  }\n\n  /** async state */\n  setStateAsyncFinalHTML = (state: {\n    /** mew value */\n    finalHTML: JSX.Element;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** fill lowerlimit in JSX.Element */\n  fillLowerLimit = (lowerLimit: LowerLimitClass[], name: string): JSX.Element[] => {\n    const allLimit: JSX.Element[] = [];\n    let i = 0;\n    const max: number = lowerLimit.length - 1;\n\n    for (const lower of lowerLimit) {\n      allLimit.push(\n        <div key={name + 'LowerLimit' + i} className=\"LegendMatt\">\n          <span\n            style={{\n              padding: '5px',\n              // margin: '10px',\n              width: '130px',\n              //width: '3.5rem',\n              //borderRadius: '39%',\n              backgroundColor: lower.backColor,\n              border: lower.sizeBorder + 'px solid ' + lower.borderColor,\n              listStyleType: 'none',\n              display: 'inline-block',\n              textAlign: 'center',\n            }}\n          >\n            {lowerLimit.length > 1 && (\n              <span\n                style={{\n                  //display: 'inline-block',\n                  //verticalAlign: 'middle',\n                  //marginBottom: '1.25rem',\n                  fontSize: '10px',\n                  //fontWeight: 'bold',\n                }}\n              >\n                {i === 0 ? '-∞' : lower.lowerLimitMin} - {i === max ? '+∞' : lower.lowerLimitMax}\n              </span>\n            )}\n          </span>\n        </div>\n      );\n      ++i;\n    }\n    return allLimit;\n  };\n\n  /** get all lower limit for region */\n  fillRegion = () => {\n    const allRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n    const rendu: JSX.Element[] = [];\n    for (const line of allRegion) {\n      const allLimit: JSX.Element[] = this.fillLowerLimit(line.lowerLimit, 'region');\n      const ownElement: JSX.Element = (\n        <div key={line.id + 'DisplayLegendRegion'}>\n          {line.label}\n          {allLimit}\n        </div>\n      );\n      rendu.push(ownElement);\n    }\n    return rendu;\n  };\n\n  closeLegend = (event: any) => {\n    this.props.callBackClose();\n    // const close = document.getElementById('iconclose');\n    // close?.addEventListener('click', () => {\n\n    //   const disappear = document.getElementById('L');\n    //   const appear = document.getElementById('legnd');\n    //   if (disappear) {\n    //     disappear.style.visibility = 'hidden';\n    //   }\n    //   appear?.addEventListener('click', () => {\n    //     if (disappear) {\n    //       disappear.style.visibility = 'visible';\n    //     }\n    //   });\n    // });\n  };\n\n  /** get all limit for point */\n  fillPoint = () => {\n    const allPoint: PointClass[] = this.props.options.arrayPoints;\n    const rendu: JSX.Element[] = [];\n\n    for (const line of allPoint) {\n      const allLimit: JSX.Element[] = this.fillLowerLimit(line.lowerLimit, 'point');\n      const name: string = line.label || line.name;\n      const ownElement: JSX.Element = (\n        <div key={name + 'DisplayLegendPoint'}>\n          {name}\n          {allLimit}\n        </div>\n      );\n      rendu.push(ownElement);\n    }\n    return rendu;\n  };\n\n  /** get all limit for orientedLink */\n  fillLink = () => {\n    const allLinks: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    const rendu: JSX.Element[] = [];\n\n    for (const line of allLinks) {\n      const allLimit: JSX.Element[] = this.fillLowerLimit(line.lowerLimit, 'link');\n      const name: string = line.label || line.name;\n      const ownElement: JSX.Element = (\n        <div key={name + 'DisplayLegendLink'}>\n          {name}\n          {allLimit}\n        </div>\n      );\n      rendu.push(ownElement);\n    }\n    return rendu;\n  };\n\n  /** generate legend */\n  renduState = async () => {\n    const value: JSX.Element = (\n      <div\n        key={'contentLegend'}\n        style={{\n          position: 'relative',\n          left: this.state.legend.x,\n          top: this.state.legend.y,\n          maxWidth: '100%',\n          zIndex: 'auto',\n        }}\n        hidden={this.state.legend.hiddenLegend}\n      >\n        <article\n          id=\"L\"\n          style={{\n            width: '200px',\n            position: 'absolute',\n            overflowY: 'scroll',\n            margin: '0',\n            height: '240px',\n            backgroundColor: '#FFF',\n            color: '#000',\n            border: '4px solid #299c46',\n            borderRadius: '4px',\n            // scrollbarColor: '#09090b #212124',\n            scrollbarColor: '#299c46',\n            scrollbarWidth: 'thin',\n            zIndex: 9999,\n            resize: 'both',\n          }}\n        >\n          <div key={'legendTitle'} style={{ backgroundImage: 'linear-gradient(90deg, rgb(41, 42, 45), rgb(0, 0, 0))' }}>\n            <h5 style={{ width: '100%', fontSize: '20px', display: 'flex', padding: '10px' }}>\n              Legend\n              <Button onClick={this.closeLegend} style={{ marginLeft: 'auto' }} id=\"iconclose\">\n                <i className=\"fa fa-times\" aria-hidden=\"true\"></i>\n              </Button>\n            </h5>\n            {/* <p style={{ color: '#d8d9da', fontSize: '15px', marginLeft: '14px', fontWeight: 'bold' }}>Region</p>\n            <p style={{ color: '#d8d9da', fontSize: '11px', marginLeft: '17px' }}>Label</p> */}\n\n            {/* <p style={{ fontSize: '15px', marginLeft: '14px', fontWeight: 'bold' }}>Region</p> */}\n            <div key={'legendTitleRegion'} style={{ backgroundImage: 'linear-gradient(90deg, rgb(41, 42, 45), rgb(0, 0, 0))' }}>\n              <p style={{ fontSize: '15px', padding: '10px 0 10px 14px', fontWeight: 'bold', color: 'white' }}>Region</p>\n            </div>\n          </div>\n          <div key=\"regionLegend\" style={{ paddingLeft: '5px', lineHeight: '1.5' }}>\n            {this.fillRegion()}\n          </div>\n          <div key={'legendTitlePoint'} style={{ backgroundImage: 'linear-gradient(90deg, rgb(41, 42, 45), rgb(0, 0, 0))' }}>\n            <p style={{ fontSize: '15px', padding: '10px 0 10px 14px', fontWeight: 'bold', color: 'white' }}>Point</p>\n          </div>\n          <div key=\"pointLegend\" style={{ paddingLeft: '5px', lineHeight: '1.5' }}>\n            {this.fillPoint()}\n          </div>\n          <div key={'legendTitleLink'} style={{ backgroundImage: 'linear-gradient(90deg, rgb(41, 42, 45), rgb(0, 0, 0))' }}>\n            <p style={{ fontSize: '15px', padding: '10px 0 10px 14px', fontWeight: 'bold', color: 'white' }}>Oriented Link</p>\n          </div>\n          <div key=\"linkLegend\" style={{ paddingLeft: '5px' }}>\n            {this.fillLink()}\n          </div>\n        </article>\n      </div>\n    );\n    await this.setStateAsyncFinalHTML({\n      finalHTML: value,\n    });\n  };\n\n  setStateLegendAsync = (state: { legend: Legend }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  /** update when legend is edited */\n  componentDidUpdate = async (prevProps: Props, prevState: State) => {\n    if (prevProps !== this.props || prevState.legend.hiddenLegend !== this.props.options.legend.hiddenLegend) {\n      await this.setStateLegendAsync({ legend: this.props.options.legend });\n      this.renduState();\n    }\n  };\n\n  /** fill state value when component is mounted */\n  componentDidMount = () => {\n    this.renduState();\n  };\n\n  /**\n   * result\n   */\n  render() {\n    // rip testMoi\n    return <div key={'contentHtmlLegend'}>{this.state.finalHTML}</div>;\n  }\n}\nexport default LegendComponent;\n","import React, { PureComponent, CSSProperties } from 'react';\nimport { SimpleOptions, Background, Metric, Metadata, CoordinateSpaceInitial } from 'types';\n\nimport { PanelProps, SelectableValue } from '@grafana/data';\nimport { CustomScrollbar, Modal, Button } from '@grafana/ui';\n\nimport { PointClass } from 'Models/PointClass';\nimport { PositionParameterClass } from 'Models/PositionParameterClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { RegionClass, Coord4D } from 'Models/RegionClass';\nimport { TextObject } from 'Models/TextObjectClass';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n\nimport { reqMetricPoint, reqMetricOrientedLink, reqMetricAuxOrientedLink, reqMetricAuxPoint, reqMetricAuxRegion } from 'Functions/fetchMetrics';\nimport { getResultQuery } from 'Functions/getResultQuery';\n\nimport AddCoordinate from 'components/CoordinateSpace/addCoordinate';\nimport DrawRectangle from './components/Draw/drawRectangle';\nimport DrawPoint from './components/Draw/drawPoint';\nimport DrawOrientedLink from './components/Draw/drawOrientedLink';\nimport LegendComponant from './components/legend';\n\nimport DrawRectangleExtend from 'components/Draw/drawRectangleExtend';\nimport { initRegionCoordinateSpace } from 'Functions/initRegionCoordinateSpace';\nimport { Style } from 'components/Parametrage/styleComponent';\n\ninterface Props extends PanelProps<SimpleOptions> {}\n\ninterface DataTooltipRegionSVG {\n  idSVG: string;\n  x: string;\n  y: string;\n}\n\ninterface Legend {\n  hiddenLegend: boolean;\n  x: number;\n  y: number;\n}\n\ninterface State {\n  // isUpdate: boolean;\n  // sizePanel: number;\n  valueButton: string;\n  /**\n   * manage button\n   * [0] -> addNode\n   * [1] -> addLink\n   * [2] -> positionLegend\n   * [3] -> addPoint\n   * [4] -> addIncurvedLink\n   */\n  buttonManage: boolean[];\n  numberClickDiv: number;\n  allActionButton: JSX.Element;\n  // valueLegend: JSX.Element;\n  // seuil: LowerLimitClass[];\n  nbClickButton: boolean;\n  legend: Legend;\n  // img: JSX.Element;\n  svg: string;\n  // loading: boolean;\n  // url: string;\n  //displayRegion: JSX.Element;\n  // check if button Add Oriented Link is active\n  buttonAddLinkIsActive: boolean;\n  // check if button Add Incurved Oriented Link is active\n  buttonAddIncurvedLinkIsActive: boolean;\n\n  dataTooltipSVG: DataTooltipRegionSVG;\n\n  hiddenLegend: boolean;\n\n  // value of image in Display to the initialisation\n  currentImage: string;\n}\n\n/**\n * Affichage\n */\nexport class SimplePanel extends PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      valueButton: '',\n      buttonManage: [false, false, false, false, false, false],\n      numberClickDiv: 0,\n      allActionButton: <div></div>,\n      nbClickButton: false,\n      legend: { hiddenLegend: true, x: 0, y: 0 },\n      svg: '',\n      //displayRegion: <div></div>,\n      buttonAddLinkIsActive: false,\n      buttonAddIncurvedLinkIsActive: false,\n      dataTooltipSVG: { idSVG: '', x: '0', y: '0' },\n      hiddenLegend: false,\n      currentImage: '',\n    };\n  }\n\n  /**\n   * Display limit (coordinateSpaceInitial)\n   * @returns JSX.Element\n   */\n  defineLimit = (): JSX.Element => {\n    const { coordinateSpaceInitial } = this.props.options;\n    let jsxItems: JSX.Element = <div></div>;\n    if (this.props.options.baseMap.image === '' && !this.props.options.baseMap.modeSVG) {\n      jsxItems = (\n        <DrawRectangle\n          key=\"limitCoor\"\n          color=\"orange\"\n          coordinateInitial={coordinateSpaceInitial}\n          id=\"initialSpace\"\n          onOptionsChange={this.props.onOptionsChange}\n          options={this.props.options}\n          data={this.props.data}\n          buttonAddLinkIsActive={this.state.buttonAddLinkIsActive}\n          buttonAddIncurvedLinkIsActive={this.state.buttonAddIncurvedLinkIsActive}\n        />\n      );\n    }\n    return jsxItems;\n  };\n\n  /**\n   * to do\n   */\n  getCoordinatesToDrawPointWithClick = (event: any) => {\n    const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n    const xMin: number = parseInt(initialSpace.xMin, 10);\n    const xMax: number = parseInt(initialSpace.xMax, 10);\n    const yMin: number = parseInt(initialSpace.yMin, 10);\n    const yMax: number = parseInt(initialSpace.yMax, 10);\n    let positionX = 0;\n    let positionY = 0;\n    const paddingMarginLeftSimplePanel = 24;\n    const clickX = event.nativeEvent.clientX - paddingMarginLeftSimplePanel;\n    const widthInitialSpace: number = xMax - xMin;\n    const heightInitialSpace: number = yMax - yMin;\n    const heightBackground: number = parseInt(this.props.options.baseMap.height, 10);\n\n    positionX = Math.round(clickX);\n    positionY = Math.round(heightBackground - event.nativeEvent.layerY);\n\n    if (\n      event.nativeEvent.target.id === 'initialSpace' ||\n      event.nativeEvent.target.id === 'mainPanel' ||\n      event.nativeEvent.target.id === 'Intent' ||\n      event.nativeEvent.target.id === 'oct' + this.props.options.baseMap.idSVG ||\n      event.nativeEvent.target.id === this.props.options.baseMap.idSVG\n    ) {\n      this.createPointToClick(positionX, positionY, widthInitialSpace, heightInitialSpace);\n    }\n  };\n\n  defineIdPoint = (): number => {\n    let id = 1;\n    if (this.props.options.arrayPoints.length === 0) {\n      return id;\n    } else {\n      id = this.props.options.arrayPoints[this.props.options.arrayPoints.length - 1].id + 1;\n      return id;\n    }\n  };\n\n  /**\n   * to do\n   */\n  createPointToClick = (x: number, y: number, widthInitialSpace: number, heightInitialSpace: number) => {\n    const id: number = this.defineIdPoint();\n    const initTextObject: TextObject = new TextObject(\n      '',\n      false,\n      'white',\n      'black',\n      { bold: false, italic: false, underline: false },\n      true,\n      {\n        legendElement: '',\n        numericFormatElement: '5',\n        unit: '',\n        displayObjectInTooltip: false,\n        addColorTextElement: false,\n        colorTextElement: 'white',\n        addColorBackElement: false,\n        colorBackElement: 'black',\n      },\n      {\n        legendElement: '',\n        numericFormatElement: '5',\n        unit: '',\n        displayObjectInTooltip: true,\n        addColorTextElement: true,\n        colorTextElement: 'white',\n        addColorBackElement: true,\n        colorBackElement: 'black',\n      }\n    );\n    const linkUrl: LinkURLClass = new LinkURLClass('', '', '');\n    const positionParameter: PositionParameterClass = new PositionParameterClass('0', '0', '0', '0', { label: 'Right', value: 'Right' }, {});\n    const newPoint: PointClass = new PointClass(\n      id,\n      linkUrl,\n      [],\n      [],\n      '',\n      initTextObject,\n      {\n        key: '',\n        unit: '',\n        format: '',\n        keyValue: '',\n        refId: '',\n        manageValue: 'avg',\n      },\n      [],\n      false,\n      false,\n      false,\n      positionParameter,\n      'point' + id.toString(),\n      '',\n      { label: 'Yes', value: 'true' },\n      { label: 'Circle', value: 'circle' },\n      '12',\n      { label: 'Medium', value: 'medium' },\n      '0',\n      x.toString(),\n      y.toString(),\n      'black',\n      [],\n      [],\n      widthInitialSpace.toString(),\n      heightInitialSpace.toString(),\n      x.toString(),\n      y.toString()\n    );\n\n    const newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n    newArrayPoint.push(newPoint);\n\n    this.props.onOptionsChange({\n      ...this.props.options,\n      indexPoint: id,\n      arrayPoints: newArrayPoint,\n    });\n\n    this.props.options.newPoint = true;\n  };\n\n  /**\n   * to do\n   */\n  displayPoint() {\n    const mapItems: JSX.Element[] = [];\n    let newArrayPoint: PointClass[] = this.props.options.arrayPoints;\n    newArrayPoint.forEach((line: PointClass) => {\n      const valueMainMetric = this.getValuesMainMetricPoint(line).toString();\n      this.updatePositionOrientedLink(line);\n      const valuesAuxiliaryMetrics: string[] = this.getValuesAuxiliaryMetricsPoint(line);\n      const item: JSX.Element = (\n        <DrawPoint\n          key={'point' + line.id.toString()}\n          drawGraphicMarker={line.drawGraphicMarker}\n          shape={line.shape}\n          size={line.sizeWidth}\n          positionShapeX={line.positionShapeX}\n          positionShapeY={line.positionShapeY}\n          label={line.label}\n          widthImage={parseInt(this.props.options.baseMap.width, 10)}\n          heightImage={parseInt(this.props.options.baseMap.height, 10)}\n          police={this.props.options.display.police}\n          sizePolice={this.props.options.display.size}\n          color={line.color}\n          idPoint={'point' + line.id.toString()}\n          name={line.name}\n          options={this.props.options}\n          onOptionsChange={this.props.onOptionsChange}\n          data={this.props.data}\n          textObject={line.textObj}\n          seuil={line.lowerLimit}\n          valueMainMetric={valueMainMetric}\n          refMainMetric={line.mainMetric.refId || ''}\n          associateOrientedLinkIn={line.associateOrientedLinksIn}\n          associateOrientedLinkOut={line.associateOrientedLinksOut}\n          labelPositionX={line.positionParameter.labelAPositionX}\n          labelPositionY={line.positionParameter.labelAPositionY}\n          tooltipPosition={line.positionParameter.tooltipPositionA}\n          auxiliaryMetrics={line.metrics}\n          valuesAuxiliaryMetrics={valuesAuxiliaryMetrics}\n          linkUrl={line.linkURL}\n          buttonAddLinkIsActive={this.state.buttonAddLinkIsActive}\n          buttonAddIncurvedLinkIsActive={this.state.buttonAddIncurvedLinkIsActive}\n          widthInitialSpaceDefault={line.widthInitialSpaceDefault}\n          heightInitialSpaceDefault={line.heightInitialSpaceDefault}\n          positionXDefault={line.positionXDefault}\n          positionYDefault={line.positionYDefault}\n          metaData={line.meta}\n          colorMode={line.colorMode}\n          traceBack={line.traceBack}\n          traceBorder={line.traceBorder}\n        />\n      );\n      mapItems.push(item);\n    });\n    return <div>{mapItems}</div>;\n  }\n\n  private updatePositionOrientedLink = (point: PointClass) => {\n    const arrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    for (const orientedLink of arrayOrientedLink) {\n      for (const associateOrientedLinkIn of point.associateOrientedLinksIn) {\n        if (associateOrientedLinkIn.name === orientedLink.name) {\n          orientedLink.pointAPositionX = point.positionShapeX;\n          orientedLink.pointAPositionY = point.positionShapeY;\n        }\n      }\n      for (const associateOrientedLinkOut of point.associateOrientedLinksOut) {\n        if (associateOrientedLinkOut.name === orientedLink.name) {\n          orientedLink.pointBPositionX = point.positionShapeX;\n          orientedLink.pointBPositionY = point.positionShapeY;\n        }\n      }\n    }\n  };\n\n  /**\n   * to do\n   */\n  addAssociateOrientedLinkToPoint = (namePointIn: string, namePointOut: string, indexOrientedLinkAssociate: number) => {\n    let index = 0;\n    this.props.options.arrayPoints.forEach((point: PointClass) => {\n      const name: string = point.label || point.name;\n      if (namePointIn === name) {\n        this.props.options.arrayOrientedLinks.forEach((orientedLink: OrientedLinkClass) => {\n          if (orientedLink.id === indexOrientedLinkAssociate) {\n            this.props.options.arrayPoints[index].associateOrientedLinksIn.push({ label: orientedLink.label, name: orientedLink.name });\n          }\n        });\n      } else if (namePointOut === name) {\n        this.props.options.arrayOrientedLinks.forEach((orientedLink: OrientedLinkClass) => {\n          if (orientedLink.id === indexOrientedLinkAssociate) {\n            this.props.options.arrayPoints[index].associateOrientedLinksOut.push({ label: orientedLink.label, name: orientedLink.name });\n          }\n        });\n      }\n      index++;\n    });\n  };\n\n  /** update AssociateOrientedLinkIn of point for tooltip  */\n  private updateAssociateOrientedLinkInToPoint = () => {\n    let indexPoint = 0;\n    this.props.options.arrayPoints.forEach((point) => {\n      let newAssociateLinkIn: any[] = [];\n      const namePoint: string = point.label || point.name;\n      this.props.options.arrayOrientedLinks.forEach((link) => {\n        if (link.pointIn === namePoint) {\n          newAssociateLinkIn.push({ label: link.label, name: link.name });\n        }\n      });\n      this.props.options.arrayPoints[indexPoint].associateOrientedLinksIn = newAssociateLinkIn;\n      indexPoint++;\n    });\n  };\n\n  /** update AssociateOrientedLinkOut of point for tooltip  */\n  private updateAssociateOrientedLinkOutToPoint = () => {\n    let indexPoint = 0;\n    this.props.options.arrayPoints.forEach((point) => {\n      let newAssociateLinkIn: any[] = [];\n      const namePoint: string = point.label || point.name;\n      this.props.options.arrayOrientedLinks.forEach((link) => {\n        if (link.pointOut === namePoint) {\n          newAssociateLinkIn.push({ label: link.label, name: link.name });\n        }\n      });\n      this.props.options.arrayPoints[indexPoint].associateOrientedLinksOut = newAssociateLinkIn;\n      indexPoint++;\n    });\n  };\n\n  /**\n   * to do\n   */\n  resetCoordinatesToDrawLinkWithClick = () => {\n    this.props.options.coordinatesToDrawLinkWithClick[1].labelPoint = '';\n    this.props.options.coordinatesToDrawLinkWithClick[1].point = {};\n    this.props.options.coordinatesToDrawLinkWithClick[1].labelRegion = '';\n    this.props.options.coordinatesToDrawLinkWithClick[1].region = {};\n    this.props.options.coordinatesToDrawLinkWithClick[2].labelPoint = '';\n    this.props.options.coordinatesToDrawLinkWithClick[2].point = {};\n    this.props.options.coordinatesToDrawLinkWithClick[2].labelRegion = '';\n    this.props.options.coordinatesToDrawLinkWithClick[2].region = {};\n  };\n\n  /** get coordinate when use click in panel */\n  getCoordinatesToDrawOrientedLinkWithClick = (event: any) => {\n    const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n    const objectIn: any = coordinates[1];\n    const objectOut: any = coordinates[2];\n    const pointC: any = coordinates[3];\n    const heightBackground: number = parseInt(this.props.options.baseMap.height, 10);\n    const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n    const xMin: number = parseInt(initialSpace.xMin, 10);\n    const xMax: number = parseInt(initialSpace.xMax, 10);\n    const yMin: number = parseInt(initialSpace.yMin, 10);\n    const yMax: number = parseInt(initialSpace.yMax, 10);\n    const widthInitialSpace: number = xMax - xMin;\n    const heightInitialSpace: number = yMax - yMin;\n    const paddingMarginLeftSimplePanel = 24;\n    const clickX = event.nativeEvent.clientX - paddingMarginLeftSimplePanel;\n    let positionX = 0;\n    let positionY = 0;\n\n    positionX = Math.round(clickX);\n    positionY = Math.round(heightBackground - event.nativeEvent.layerY);\n\n    if (\n      event.nativeEvent.target.id === 'initialSpace' ||\n      event.nativeEvent.target.id === 'Intent' ||\n      event.nativeEvent.target.id === 'mainPanel' ||\n      event.nativeEvent.target.id === 'oct' + this.props.options.baseMap.idSVG ||\n      event.nativeEvent.target.id === this.props.options.baseMap.idSVG\n    ) {\n      if (coordinates[0].id === 0) {\n        objectIn.x = positionX;\n        objectIn.xDefault = positionX;\n        objectIn.y = positionY;\n        objectIn.yDefault = positionY;\n        coordinates[0].id++;\n      } else if (coordinates[0].id === 1) {\n        objectOut.x = positionX;\n        objectOut.xDefault = positionX;\n        objectOut.y = positionY;\n        objectOut.yDefault = positionY;\n        pointC.x = ((parseInt(objectIn.x, 10) + parseInt(objectOut.x, 10)) / 2).toString();\n        pointC.y = ((parseInt(objectIn.y, 10) + parseInt(objectOut.y, 10)) / 2).toString();\n        coordinates[0].id = 0;\n        this.createOrientedLinkToClick({ label: 'No', value: false }, widthInitialSpace.toString(), heightInitialSpace.toString());\n        this.resetCoordinatesToDrawLinkWithClick();\n      }\n    } else if (event.nativeEvent.target.id.startsWith('point')) {\n      const id: number = parseInt(event.nativeEvent.target.id.charAt(5) + event.nativeEvent.target.id.charAt(6), 10);\n      const arrayPoint: PointClass[] = this.props.options.arrayPoints;\n\n      arrayPoint.forEach((point: PointClass) => {\n        if (point.id === id) {\n          const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n          const name: string = point.label || point.name;\n\n          if (coordinates[0].id === 0) {\n            objectIn.x = point.positionShapeX;\n            objectIn.xDefault = point.positionXDefault;\n            objectIn.y = point.positionShapeY;\n            objectIn.yDefault = point.positionYDefault;\n            objectIn.labelPoint = name;\n            objectIn.point = point;\n            coordinates[0].id++;\n          } else if (coordinates[0].id === 1) {\n            objectOut.x = point.positionShapeX;\n            objectOut.xDefault = point.positionXDefault;\n            objectOut.y = point.positionShapeY;\n            objectOut.yDefault = point.positionYDefault;\n            objectOut.labelPoint = name;\n            objectOut.point = point;\n            pointC.x = ((parseInt(objectIn.x, 10) + parseInt(objectOut.x, 10)) / 2).toString();\n            pointC.y = ((parseInt(objectIn.y, 10) + parseInt(objectOut.y, 10)) / 2).toString();\n            coordinates[0].id = 0;\n            this.createOrientedLinkToClick({ label: 'No', value: false }, widthInitialSpace.toString(), heightInitialSpace.toString());\n            this.resetCoordinatesToDrawLinkWithClick();\n          }\n        }\n      });\n    } else {\n      const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n      arrayRegion.forEach((region: RegionClass) => {\n        const xMin: number = parseInt(region.coords.xMin, 10);\n        const xMax: number = parseInt(region.coords.xMax, 10);\n        const yMin: number = parseInt(region.coords.yMin, 10);\n        const yMax: number = parseInt(region.coords.yMax, 10);\n        const xMinDefault: number = parseInt(region.coordsDefault.xMin, 10);\n        const xMaxDefault: number = parseInt(region.coordsDefault.xMax, 10);\n        const yMinDefault: number = parseInt(region.coordsDefault.yMin, 10);\n        const yMaxDefault: number = parseInt(region.coordsDefault.yMax, 10);\n\n        if (event.nativeEvent.target.id.startsWith('region')) {\n          const id: number = parseInt(event.nativeEvent.target.id.charAt(6) + event.nativeEvent.target.id.charAt(7), 10);\n          if (id === region.id) {\n            const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n            positionX = (xMin + xMax) / 2;\n            positionY = (yMax + yMin) / 2;\n            const positionXdefault = (xMinDefault + xMaxDefault) / 2;\n            const positionYdefault = (yMaxDefault + yMinDefault) / 2;\n            if (coordinates[0].id === 0) {\n              objectIn.x = positionX;\n              objectIn.xDefault = positionXdefault;\n              objectIn.y = positionY;\n              objectIn.yDefault = positionYdefault;\n              objectIn.labelRegion = region.label;\n              objectIn.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 1) {\n              objectOut.x = positionX;\n              objectOut.xDefault = positionXdefault;\n              objectOut.y = positionY;\n              objectOut.yDefault = positionYdefault;\n              objectOut.labelRegion = region.label;\n              objectOut.region = region;\n              pointC.x = ((parseInt(objectIn.x, 10) + parseInt(objectOut.x, 10)) / 2).toString();\n              pointC.y = ((parseInt(objectIn.y, 10) + parseInt(objectOut.y, 10)) / 2).toString();\n              coordinates[0].id = 0;\n              this.createOrientedLinkToClick({ label: 'No', value: false }, widthInitialSpace.toString(), heightInitialSpace.toString());\n              this.resetCoordinatesToDrawLinkWithClick();\n            }\n          }\n        } else if (\n          (event.nativeEvent.target.id !== 'oct' + this.props.options.baseMap.idSVG && event.nativeEvent.target.id.startsWith('oct')) ||\n          (event.nativeEvent.target.id !== this.props.options.baseMap.idSVG &&\n            (event.nativeEvent.target.id.startsWith('path') ||\n              event.nativeEvent.target.id.startsWith('rect') ||\n              event.nativeEvent.target.id.startsWith('ellipse')))\n        ) {\n          let id = '';\n          if (this.props.options.baseMap.isUploaded) {\n            id = event.nativeEvent.target.id;\n          } else {\n            id = event.nativeEvent.target.id.substr(3);\n          }\n          if (id === region.idSVG) {\n            const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n            positionX = 0;\n            positionY = 0;\n            if (coordinates[0].id === 0) {\n              objectIn.x = positionX;\n              objectIn.xDefault = positionX;\n              objectIn.y = positionY;\n              objectIn.yDefault = positionY;\n              objectIn.labelRegion = region.label;\n              objectIn.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 1) {\n              objectOut.x = positionX;\n              objectOut.xDefault = positionX;\n              objectOut.y = positionY;\n              objectOut.yDefault = positionY;\n              objectOut.labelRegion = region.label;\n              objectOut.region = region;\n              pointC.x = ((parseInt(objectIn.x, 10) + parseInt(objectOut.x, 10)) / 2).toString();\n              pointC.y = ((parseInt(objectIn.y, 10) + parseInt(objectOut.y, 10)) / 2).toString();\n              coordinates[0].id = 0;\n              this.createOrientedLinkToClick({ label: 'No', value: false }, widthInitialSpace.toString(), heightInitialSpace.toString());\n              this.resetCoordinatesToDrawLinkWithClick();\n            }\n          }\n        } else {\n          const id: number = parseInt(event.nativeEvent.target.offsetParent.id.charAt(6) + event.nativeEvent.target.offsetParent.id.charAt(7), 10);\n\n          if (id === region.id) {\n            const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n\n            positionX = (xMin + xMax) / 2;\n            positionY = (yMax + yMin) / 2;\n            if (coordinates[0].id === 0) {\n              objectIn.x = positionX;\n              objectIn.y = positionY;\n              objectIn.labelRegion = region.label;\n              objectIn.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 1) {\n              objectOut.x = positionX;\n              objectOut.y = positionY;\n              objectOut.labelRegion = region.label;\n              objectOut.region = region;\n              pointC.x = ((parseInt(objectIn.x, 10) + parseInt(objectOut.x, 10)) / 2).toString();\n              pointC.y = ((parseInt(objectIn.y, 10) + parseInt(objectOut.y, 10)) / 2).toString();\n              coordinates[0].id = 0;\n              this.createOrientedLinkToClick({ label: 'No', value: false }, widthInitialSpace.toString(), heightInitialSpace.toString());\n              this.resetCoordinatesToDrawLinkWithClick();\n            }\n          }\n        }\n      });\n    }\n  };\n\n  getCoordinatesToDrawIncurvedOrientedLinkWithClick = (event: any) => {\n    const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n    const objectIn: any = coordinates[1];\n    const objectOut: any = coordinates[2];\n    const pointC: any = coordinates[3];\n    const heightBackground: number = parseInt(this.props.options.baseMap.height, 10);\n    const initialSpace: Coord4D = this.props.options.coordinateSpaceInitial.coordinate;\n    const xMin: number = parseInt(initialSpace.xMin, 10);\n    const xMax: number = parseInt(initialSpace.xMax, 10);\n    const yMin: number = parseInt(initialSpace.yMin, 10);\n    const yMax: number = parseInt(initialSpace.yMax, 10);\n    const widthInitialSpace: number = xMax - xMin;\n    const heightInitialSpace: number = yMax - yMin;\n\n    const paddingMarginLeftSimplePanel = 24;\n    const clickX = event.nativeEvent.clientX - paddingMarginLeftSimplePanel;\n    let positionX = 0;\n    let positionY = 0;\n\n    positionX = Math.round(clickX);\n    positionY = Math.round(heightBackground - event.nativeEvent.layerY);\n\n    if (\n      event.nativeEvent.target.id === 'mainPanel' ||\n      event.nativeEvent.target.id === 'initialSpace' ||\n      event.nativeEvent.target.id === 'Intent' ||\n      event.nativeEvent.target.id === 'oct' + this.props.options.baseMap.idSVG ||\n      event.nativeEvent.target.id === this.props.options.baseMap.idSVG\n    ) {\n      if (coordinates[0].id === 0) {\n        objectIn.x = positionX;\n        objectIn.y = positionY;\n        coordinates[0].id++;\n      } else if (coordinates[0].id === 1) {\n        objectOut.x = positionX;\n        objectOut.y = positionY;\n        coordinates[0].id++;\n      } else if (coordinates[0].id === 2) {\n        pointC.x = positionX;\n        pointC.y = positionY;\n        coordinates[0].id = 0;\n        this.createOrientedLinkToClick({ label: 'Yes', value: true }, widthInitialSpace.toString(), heightInitialSpace.toString());\n        this.resetCoordinatesToDrawLinkWithClick();\n      }\n    } else if (event.nativeEvent.target.id.startsWith('point')) {\n      const id: number = parseInt(event.nativeEvent.target.id.charAt(5) + event.nativeEvent.target.id.charAt(6), 10);\n      const arrayPoint: PointClass[] = this.props.options.arrayPoints;\n\n      arrayPoint.forEach((point: PointClass) => {\n        if (point.id === id) {\n          const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n          const name: string = point.label || point.name;\n\n          if (coordinates[0].id === 0) {\n            objectIn.x = point.positionShapeX;\n            objectIn.y = point.positionShapeY;\n            objectIn.labelPoint = name;\n            objectIn.point = point;\n            coordinates[0].id++;\n          } else if (coordinates[0].id === 1) {\n            objectOut.x = point.positionShapeX;\n            objectOut.y = point.positionShapeY;\n            objectOut.labelPoint = name;\n            objectOut.point = point;\n            coordinates[0].id++;\n          } else if (coordinates[0].id === 2) {\n            pointC.x = point.positionShapeX;\n            pointC.y = point.positionShapeY;\n            coordinates[0].id = 0;\n            this.createOrientedLinkToClick({ label: 'Yes', value: true }, widthInitialSpace.toString(), heightInitialSpace.toString());\n            this.resetCoordinatesToDrawLinkWithClick();\n          }\n        }\n      });\n    } else {\n      const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n\n      arrayRegion.forEach((region: RegionClass) => {\n        const xMin: number = parseInt(region.coords.xMin, 10);\n        const xMax: number = parseInt(region.coords.xMax, 10);\n        const yMin: number = parseInt(region.coords.yMin, 10);\n        const yMax: number = parseInt(region.coords.yMax, 10);\n\n        if (event.nativeEvent.target.id.startsWith('region')) {\n          const id: number = parseInt(event.nativeEvent.target.id.charAt(6) + event.nativeEvent.target.id.charAt(7), 10);\n          if (id === region.id) {\n            const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n            positionX = (xMin + xMax) / 2;\n            positionY = (yMax + yMin) / 2;\n            if (coordinates[0].id === 0) {\n              objectIn.x = positionX;\n              objectIn.y = positionY;\n              objectIn.labelRegion = region.label;\n              objectIn.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 1) {\n              objectOut.x = positionX;\n              objectOut.y = positionY;\n              objectOut.labelRegion = region.label;\n              objectOut.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 2) {\n              pointC.x = positionX;\n              pointC.y = positionY;\n              coordinates[0].id = 0;\n              this.createOrientedLinkToClick({ label: 'Yes', value: true }, widthInitialSpace.toString(), heightInitialSpace.toString());\n              this.resetCoordinatesToDrawLinkWithClick();\n            }\n          }\n        } else if (\n          (event.nativeEvent.target.id !== 'oct' + this.props.options.baseMap.idSVG && event.nativeEvent.target.id.startsWith('oct')) ||\n          (event.nativeEvent.target.id !== this.props.options.baseMap.idSVG &&\n            (event.nativeEvent.target.id.startsWith('path') ||\n              event.nativeEvent.target.id.startsWith('rect') ||\n              event.nativeEvent.target.id.startsWith('ellipse')))\n        ) {\n          let id = '';\n          if (this.props.options.baseMap.isUploaded) {\n            id = event.nativeEvent.target.id;\n          } else {\n            id = event.nativeEvent.target.id.substr(3);\n          }\n          if (id === region.idSVG) {\n            const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n            positionX = 0;\n            positionY = 0;\n            if (coordinates[0].id === 0) {\n              objectIn.x = positionX;\n              objectIn.y = positionY;\n              objectIn.labelRegion = region.label;\n              objectIn.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 1) {\n              objectOut.x = positionX;\n              objectOut.y = positionY;\n              objectOut.labelRegion = region.label;\n              objectOut.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 2) {\n              pointC.x = positionX;\n              pointC.y = positionY;\n              coordinates[0].id = 0;\n              this.createOrientedLinkToClick({ label: 'Yes', value: true }, widthInitialSpace.toString(), heightInitialSpace.toString());\n              this.resetCoordinatesToDrawLinkWithClick();\n            }\n          }\n        } else {\n          const id: number = parseInt(event.nativeEvent.target.offsetParent.id.charAt(6) + event.nativeEvent.target.offsetParent.id.charAt(7), 10);\n\n          if (id === region.id) {\n            const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n\n            positionX = (xMin + xMax) / 2;\n            positionY = (yMax + yMin) / 2;\n            if (coordinates[0].id === 0) {\n              objectIn.x = positionX;\n              objectIn.y = positionY;\n              objectIn.labelRegion = region.label;\n              objectIn.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 1) {\n              objectOut.x = positionX;\n              objectOut.y = positionY;\n              objectOut.labelRegion = region.label;\n              objectOut.region = region;\n              coordinates[0].id++;\n            } else if (coordinates[0].id === 2) {\n              pointC.x = positionX;\n              pointC.y = positionY;\n              coordinates[0].id = 0;\n              this.createOrientedLinkToClick({ label: 'Yes', value: true }, widthInitialSpace.toString(), heightInitialSpace.toString());\n              this.resetCoordinatesToDrawLinkWithClick();\n            }\n          }\n        }\n      });\n    }\n  };\n\n  /**\n   * to do\n   */\n  defineIdOrientedLink = (): number => {\n    let id = 1;\n    if (this.props.options.arrayOrientedLinks.length === 0) {\n      return id;\n    } else {\n      id = this.props.options.arrayOrientedLinks[this.props.options.arrayOrientedLinks.length - 1].id + 1;\n      return id;\n    }\n  };\n\n  /**\n   * to do\n   */\n  createOrientedLinkToClick = (isIncurved: SelectableValue<boolean>, widthInitialSpace: string, heightInitialSpace: string) => {\n    const coordinates = this.props.options.coordinatesToDrawLinkWithClick;\n    const id: number = this.defineIdOrientedLink();\n    const name: string = 'orientedLink' + id.toString();\n    const zIndex: number = this.props.options.zIndexOrientedLink + 1;\n    const pointA: any = coordinates[1];\n    const pointB: any = coordinates[2];\n    const pointC: any = coordinates[3];\n    const initTextObject: TextObject = new TextObject(\n      '',\n      false,\n      'white',\n      'black',\n      { bold: false, italic: false, underline: false },\n      true,\n      {\n        legendElement: '',\n        numericFormatElement: '5',\n        unit: '',\n        displayObjectInTooltip: false,\n        addColorTextElement: false,\n        colorTextElement: 'white',\n        addColorBackElement: false,\n        colorBackElement: 'black',\n      },\n      {\n        legendElement: '',\n        numericFormatElement: '5',\n        unit: '',\n        displayObjectInTooltip: true,\n        addColorTextElement: true,\n        colorTextElement: 'white',\n        addColorBackElement: true,\n        colorBackElement: 'black',\n      }\n    );\n    const linkUrl: LinkURLClass = new LinkURLClass('', '', '');\n    const positionParameter: PositionParameterClass = new PositionParameterClass(\n      '0',\n      '0',\n      '0',\n      '0',\n      {\n        label: 'Right',\n        value: 'Right',\n      },\n      {\n        label: 'Right',\n        value: 'Right',\n      }\n    );\n\n    const newOrientedLink: OrientedLinkClass = new OrientedLinkClass(\n      id,\n      linkUrl,\n      [],\n      [],\n      '',\n      initTextObject,\n      {\n        key: '',\n        unit: '',\n        format: '',\n        keyValue: '',\n        refId: '',\n        manageValue: 'avg',\n      },\n      [],\n      false,\n      false,\n      false,\n      positionParameter,\n      name,\n      { label: 'Monodirectional', value: 'AB' },\n      '9',\n      pointA.x.toString(),\n      pointA.y.toString(),\n      '#5794F2',\n      pointB.x.toString(),\n      pointB.y.toString(),\n      '#E54658',\n      '',\n      '',\n      pointA.labelPoint,\n      pointB.labelPoint,\n      pointA.labelRegion,\n      pointB.labelRegion,\n      zIndex,\n      pointC.x,\n      pointC.y,\n      isIncurved,\n      {\n        key: '',\n        unit: '',\n        format: '',\n        keyValue: '',\n        refId: '',\n        manageValue: 'avg',\n      },\n      [],\n      widthInitialSpace,\n      heightInitialSpace,\n      pointA.xDefault.toString(),\n      pointA.yDefault.toString(),\n      pointB.xDefault.toString(),\n      pointB.yDefault.toString(),\n      pointC.x,\n      pointC.y\n    );\n\n    const newArrayOrientedLink: OrientedLinkClass[] = this.props.options.arrayOrientedLinks;\n    newArrayOrientedLink.push(newOrientedLink);\n\n    this.props.onOptionsChange({\n      ...this.props.options,\n      arrayOrientedLinks: newArrayOrientedLink,\n      indexOrientedLink: id,\n      zIndexOrientedLink: zIndex,\n      newOrientedLink: true,\n    });\n\n    this.props.options.arrayOrientedLinks = newArrayOrientedLink;\n    this.props.options.indexOrientedLink = id;\n    this.props.options.zIndexOrientedLink = zIndex;\n    this.props.options.newOrientedLink = true;\n\n    this.addAssociateOrientedLinkToPoint(pointA.labelPoint || '', pointB.labelPoint || '', newOrientedLink.id);\n  };\n\n  private defineValueX = (orientedLink: OrientedLinkClass, defaultPosition: boolean, isIn: boolean): string => {\n    let result = '';\n    if (isIn) {\n      if (orientedLink.pointIn !== '') {\n        const arrayPoint: PointClass[] = this.props.options.arrayPoints;\n        arrayPoint.forEach((point) => {\n          if (point.name === orientedLink.pointIn || point.label === orientedLink.pointIn) {\n            if (defaultPosition) {\n              result = point.positionXDefault;\n            } else {\n              result = point.positionShapeX;\n            }\n          }\n        });\n      } else if (orientedLink.regionIn !== '') {\n        const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n        arrayRegion.forEach((region) => {\n          if (region.label === orientedLink.regionIn) {\n            if (defaultPosition) {\n              result = (parseInt(region.coords.xMax, 10) - parseInt(region.coords.xMin, 10)).toString();\n            } else {\n              result = (parseInt(region.coordsDefault.xMax, 10) - parseInt(region.coordsDefault.xMin, 10)).toString();\n            }\n          }\n        });\n      } else {\n        if (defaultPosition) {\n          result = orientedLink.pointAPositionXDefault;\n        } else {\n          result = orientedLink.pointAPositionX;\n        }\n      }\n    } else {\n      if (orientedLink.pointOut !== '') {\n        const arrayPoint: PointClass[] = this.props.options.arrayPoints;\n        arrayPoint.forEach((point) => {\n          if (point.name === orientedLink.pointOut || point.label === orientedLink.pointOut) {\n            if (defaultPosition) {\n              result = point.positionXDefault;\n            } else {\n              result = point.positionShapeX;\n            }\n          }\n        });\n      } else if (orientedLink.regionOut !== '') {\n        const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n        arrayRegion.forEach((region) => {\n          if (region.label === orientedLink.regionOut) {\n            if (defaultPosition) {\n              result = (parseInt(region.coords.xMax, 10) - parseInt(region.coords.xMin, 10)).toString();\n            } else {\n              result = (parseInt(region.coordsDefault.xMax, 10) - parseInt(region.coordsDefault.xMin, 10)).toString();\n            }\n          }\n        });\n      } else {\n        if (defaultPosition) {\n          result = orientedLink.pointBPositionXDefault;\n        } else {\n          result = orientedLink.pointBPositionX;\n        }\n      }\n    }\n    return result;\n  };\n\n  private defineValueY = (orientedLink: OrientedLinkClass, defaultPosition: boolean, isIn: boolean): string => {\n    let result = '';\n    if (isIn) {\n      if (orientedLink.pointIn !== '') {\n        const arrayPoint: PointClass[] = this.props.options.arrayPoints;\n        arrayPoint.forEach((point) => {\n          if (point.name === orientedLink.pointIn) {\n            if (defaultPosition) {\n              result = point.positionYDefault;\n            } else {\n              result = point.positionShapeY;\n            }\n          }\n        });\n      } else if (orientedLink.regionIn !== '') {\n        const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n        arrayRegion.forEach((region) => {\n          if (region.label === orientedLink.regionIn) {\n            if (defaultPosition) {\n              result = (parseInt(region.coords.yMax, 10) - parseInt(region.coords.yMin, 10)).toString();\n            } else {\n              result = (parseInt(region.coordsDefault.yMax, 10) - parseInt(region.coordsDefault.yMin, 10)).toString();\n            }\n          }\n        });\n      } else {\n        if (defaultPosition) {\n          result = orientedLink.pointAPositionYDefault;\n        } else {\n          result = orientedLink.pointAPositionY;\n        }\n      }\n    } else {\n      if (orientedLink.pointOut !== '') {\n        const arrayPoint: PointClass[] = this.props.options.arrayPoints;\n        arrayPoint.forEach((point) => {\n          if (point.name === orientedLink.pointIn) {\n            if (defaultPosition) {\n              result = point.positionYDefault;\n            } else {\n              result = point.positionShapeY;\n            }\n          }\n        });\n      } else if (orientedLink.regionOut !== '') {\n        const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n        arrayRegion.forEach((region) => {\n          if (region.label === orientedLink.regionIn) {\n            if (defaultPosition) {\n              result = (parseInt(region.coords.yMax, 10) - parseInt(region.coords.yMin, 10)).toString();\n            } else {\n              result = (parseInt(region.coordsDefault.yMax, 10) - parseInt(region.coordsDefault.yMin, 10)).toString();\n            }\n          }\n        });\n      } else {\n        if (defaultPosition) {\n          result = orientedLink.pointBPositionYDefault;\n        } else {\n          result = orientedLink.pointBPositionY;\n        }\n      }\n    }\n    return result;\n  };\n\n  /**\n   * to do\n   */\n  displayOrientedLink() {\n    const arrayOrientedLink = this.props.options.arrayOrientedLinks;\n    const mapItems: JSX.Element[] = [];\n    let item: JSX.Element = <div></div>;\n    arrayOrientedLink.forEach((orientedLink: OrientedLinkClass) => {\n      console.log(orientedLink);\n      const valueMainMetricA: string = this.getValuesMainMetricOrientedLink(orientedLink).toString();\n      const valueMainMetricB: string = this.getValuesMainMetricOrientedLinkB(orientedLink).toString();\n      this.getValuesMainMetricOrientedLinkB(orientedLink);\n      const valuesAuxiliaryMetrics: string[] = this.getValuesAuxiliaryMetricsOrientedLink(orientedLink);\n      const valuesAuxiliaryMetricsB: string[] = this.getValuesAuxiliaryMetricsOrientedLinkB(orientedLink);\n      const pointAX: string = this.defineValueX(orientedLink, false, true);\n      const pointDefaultAX: string = this.defineValueX(orientedLink, true, true);\n      const pointBX: string = this.defineValueX(orientedLink, false, false);\n      const pointDefaultBX: string = this.defineValueX(orientedLink, true, false);\n      const pointAY: string = this.defineValueY(orientedLink, false, true);\n      const pointDefaultAY: string = this.defineValueY(orientedLink, true, true);\n      const pointBY: string = this.defineValueY(orientedLink, false, false);\n      const pointDefaultBY: string = this.defineValueY(orientedLink, true, false);\n\n      item = (\n        <DrawOrientedLink\n          key={'orientedLink' + orientedLink.id.toString()}\n          id={orientedLink.id.toString()}\n          orientationLink={orientedLink.orientationLink.value || ''}\n          pointAPositionX={pointAX}\n          pointAPositionY={pointAY}\n          pointBPositionX={pointBX}\n          pointBPositionY={pointBY}\n          colorA={orientedLink.colorCoordinateA}\n          colorB={orientedLink.colorCoordinateB}\n          associatePointIn={orientedLink.pointIn}\n          associatePointOut={orientedLink.pointOut}\n          associateRegionIn={orientedLink.regionIn}\n          associateRegionOut={orientedLink.regionOut}\n          widthImage={parseInt(this.props.options.baseMap.width, 10)}\n          heightImage={parseInt(this.props.options.baseMap.height, 10)}\n          label={orientedLink.label}\n          name={orientedLink.name}\n          valueMainMetricA={valueMainMetricA}\n          valueMainMetricB={valueMainMetricB}\n          refMainMetricA={orientedLink.mainMetric.refId || ''}\n          refMainMetricB={orientedLink.mainMetricB.refId || ''}\n          options={this.props.options}\n          onOptionsChange={this.props.onOptionsChange}\n          data={this.props.data}\n          textObject={orientedLink.textObj}\n          seuil={orientedLink.lowerLimit}\n          traceBorder={orientedLink.traceBorder}\n          traceBack={orientedLink.traceBack}\n          labelAPositionX={orientedLink.positionParameter.labelAPositionX}\n          labelAPositionY={orientedLink.positionParameter.labelAPositionY}\n          labelBPositionX={orientedLink.positionParameter.labelBPositionX}\n          labelBPositionY={orientedLink.positionParameter.labelBPositionY}\n          tooltipPositionA={orientedLink.positionParameter.tooltipPositionA}\n          tooltipPositionB={orientedLink.positionParameter.tooltipPositionB}\n          zIndex={orientedLink.zIndex}\n          pointCPositionX={orientedLink.pointCPositionX}\n          pointCPositionY={orientedLink.pointCPositionY}\n          isIncurved={orientedLink.isIncurved}\n          auxiliaryMetrics={orientedLink.metrics}\n          auxiliaryMetricsB={orientedLink.metricsB}\n          valuesAuxiliaryMetrics={valuesAuxiliaryMetrics}\n          valuesAuxiliaryMetricsB={valuesAuxiliaryMetricsB}\n          police={this.props.options.display.police}\n          sizePolice={this.props.options.display.size}\n          linkUrl={orientedLink.linkURL}\n          size={orientedLink.size}\n          widthInitialSpaceDefault={orientedLink.widthInitialSpaceDefault}\n          heightInitialSpaceDefault={orientedLink.heightInitialSpaceDefault}\n          positionXADefault={pointDefaultAX}\n          positionYADefault={pointDefaultAY}\n          positionXBDefault={pointDefaultBX}\n          positionYBDefault={pointDefaultBY}\n          positionXCDefault={orientedLink.pointCPositionXDefault}\n          positionYCDefault={orientedLink.pointCPositionYDefault}\n          metaData={orientedLink.meta}\n          colorMode={orientedLink.colorMode}\n        />\n      );\n      mapItems.push(item);\n    });\n    this.updateAssociateOrientedLinkInToPoint();\n    this.updateAssociateOrientedLinkOutToPoint();\n    return <div>{mapItems}</div>;\n  }\n\n  /**\n   * to do\n   */\n  getValuesMainMetricPoint(point: PointClass) {\n    reqMetricPoint(point, this.props);\n    let result = 0;\n    result = getResultQuery(point.mainMetric) || NaN;\n    return result;\n  }\n\n  getValuesMainMetricOrientedLink(orientedLink: OrientedLinkClass): number {\n    reqMetricOrientedLink(orientedLink, this.props);\n    let result = 0;\n    result = getResultQuery(orientedLink.mainMetric) || NaN;\n    return result;\n  }\n\n  getValuesMainMetricOrientedLinkB(orientedLink: OrientedLinkClass) {\n    reqMetricOrientedLink(orientedLink, this.props);\n    let result = 0;\n    result = getResultQuery(orientedLink.mainMetricB) || NaN;\n    return result;\n  }\n\n  getValuesAuxiliaryMetricsPoint = (point: PointClass): string[] => {\n    reqMetricAuxPoint(point, this.props);\n    return this.getValuesAuxiliaryMetrics(point.metrics, point.mainMetric);\n  };\n\n  getValuesAuxiliaryMetricsOrientedLink = (orientedLink: OrientedLinkClass): string[] => {\n    reqMetricAuxOrientedLink(orientedLink, this.props);\n    return this.getValuesAuxiliaryMetrics(orientedLink.metrics, orientedLink.mainMetric);\n  };\n\n  getValuesAuxiliaryMetricsOrientedLinkB = (orientedLink: OrientedLinkClass): string[] => {\n    reqMetricAuxOrientedLink(orientedLink, this.props);\n    return this.getValuesAuxiliaryMetrics(orientedLink.metricsB, orientedLink.mainMetricB);\n  };\n\n  getValuesAuxiliaryMetrics = (auxiliaryMetrics: Metric[], mainMetric: Metric): string[] => {\n    let valueAuxiliaryMetric: string[] = [];\n    //const countMetrics: number = auxiliaryMetrics.length;\n    if (auxiliaryMetrics.length < 1) {\n      auxiliaryMetrics.forEach((metric: Metric) => {\n        let countTotalValues = 0;\n        let resultTotalValues = 0;\n        let result = '';\n        if (metric.returnQuery && metric.returnQuery.length > 0) {\n          let numberLoop: number = metric.returnQuery?.length || 0;\n          if (metric.key !== '' && metric.keyValue !== '') {\n            for (let i = 0; i < numberLoop; i++) {\n              let line = metric.returnQuery[i];\n              if (line.fields[0].labels) {\n                if (mainMetric.refId !== '') {\n                  if (line.fields[0].labels[mainMetric.key] === mainMetric.keyValue || (mainMetric.key === '' && mainMetric.keyValue === '')) {\n                    if (line.fields[0].labels[metric.key] === metric.keyValue) {\n                      const countValues: number = line.fields[0].values.length;\n                      for (let i = 0; i < countValues; i++) {\n                        if (line.fields[0].values.get(i)) {\n                          resultTotalValues += line.fields[0].values.get(i);\n                          countTotalValues++;\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          } else {\n            if (mainMetric.refId !== '') {\n              for (let i = 0; i < numberLoop; i++) {\n                let line = metric.returnQuery[i];\n                if (line.fields[0].labels) {\n                  if (line.fields[0].labels[mainMetric.key] === mainMetric.keyValue || (mainMetric.key === '' && mainMetric.keyValue === '')) {\n                    const countValues: number = line.fields[0].values.length;\n                    for (let i = 0; i < countValues; i++) {\n                      if (line.fields[0].values.get(i)) {\n                        resultTotalValues += line.fields[0].values.get(i);\n                        countTotalValues++;\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n          if (metric.manageValue === 'avg') {\n            result = (resultTotalValues / countTotalValues).toString();\n          } else if (metric.manageValue === 'sum') {\n            result = resultTotalValues.toString();\n          } else if (metric.manageValue === 'err') {\n            if (countTotalValues > 1) {\n              result = 'error';\n            } else {\n              result = resultTotalValues.toString();\n            }\n          }\n        }\n        if (result !== '') {\n          valueAuxiliaryMetric.push(result);\n        }\n      });\n    }\n    return valueAuxiliaryMetric;\n  };\n\n  changeValueButtonToLink = () => {\n    this.setState({\n      valueButton: 'link',\n    });\n  };\n\n  changeValueButtonToIncurvedLink = () => {\n    this.setState({\n      valueButton: 'incurvedLink',\n    });\n  };\n\n  changeValueButtonToPoint = () => {\n    this.setState({\n      valueButton: 'point',\n    });\n  };\n\n  getCoordinates = (event: any) => {\n    const valueButton = this.state.valueButton;\n\n    if (this.state.numberClickDiv === 0) {\n      return;\n    }\n    if (valueButton === 'link') {\n      this.getCoordinatesToDrawOrientedLinkWithClick(event);\n    } else if (valueButton === 'incurvedLink') {\n      this.getCoordinatesToDrawIncurvedOrientedLinkWithClick(event);\n    } else if (valueButton === 'point') {\n      this.getCoordinatesToDrawPointWithClick(event);\n    }\n  };\n\n  /**\n   * add button click to manage region, point, oriented link, position legend\n   */\n  updateButtonCss = () => {\n    const final: JSX.Element = (\n      <div\n        id=\"allButton\"\n        style={{\n          marginTop: '1%',\n          marginBottom: '50px',\n          // display: 'flex',\n          // justifyContent: 'space-around',\n          // position: 'absolute',\n          // zIndex: 18,\n        }}\n      >\n        <Button\n          style={{\n            marginLeft: '1%',\n            zIndex: 18,\n            position: 'absolute',\n          }}\n          variant={this.state.buttonManage[0] ? 'danger' : 'primary'}\n          className=\"button\"\n          onClick={this.addNode}\n        >\n          Add Region\n        </Button>\n        <Button\n          style={{\n            marginLeft: '15%',\n            zIndex: 18,\n            position: 'absolute',\n          }}\n          variant={this.state.buttonManage[3] ? 'danger' : 'primary'}\n          className=\"button\"\n          onClick={this.addPoint}\n        >\n          Add Point\n        </Button>\n\n        <Button\n          style={{\n            marginLeft: '27%',\n            zIndex: 18,\n            position: 'absolute',\n          }}\n          variant={this.state.buttonManage[1] ? 'danger' : 'primary'}\n          className=\"button\"\n          onClick={this.addLink}\n        >\n          Add Oriented Link\n        </Button>\n\n        <Button\n          style={{\n            marginLeft: '46%',\n            zIndex: 18,\n            position: 'absolute',\n          }}\n          variant={this.state.buttonManage[4] ? 'danger' : 'primary'}\n          className=\"button\"\n          onClick={this.addIncurvedLink}\n        >\n          Add Incurved Oriented Link\n        </Button>\n\n        <Button\n          id=\"legnd\"\n          style={{\n            marginLeft: '67%',\n            zIndex: 18,\n            position: 'absolute',\n          }}\n          variant={this.state.buttonManage[2] ? 'danger' : 'primary'}\n          className=\"button\"\n          onClick={this.closeLegend}\n        >\n          Position Legend\n        </Button>\n\n        <Button\n          id=\"zoomButton\"\n          style={{\n            marginLeft: '80%',\n            zIndex: 18,\n            position: 'absolute',\n          }}\n          variant={this.state.buttonManage[5] ? 'danger' : 'primary'}\n          onClick={this.ZoomSVG}\n        >\n          Zoom [P/M]\n        </Button>\n        {/* <Button id=\"zoomstop\" style={{ marginLeft: '89%', zIndex: 18, position: 'absolute' }} variant={'primary'} onClick={this.ZoomInactive}>\n          <i className=\"fa fa-stop\" aria-hidden=\"true\"></i>\n        </Button> */}\n      </div>\n    );\n    this.setState({\n      allActionButton: final,\n    });\n  };\n\n  callMethod = async () => {\n    if (this.state.numberClickDiv === 0) {\n      this.setState({ numberClickDiv: 1 });\n    } else {\n      await this.setAsyncButtonManage({\n        buttonManage: [false, false, false, false, false, false],\n      });\n      this.setState({\n        numberClickDiv: 0,\n      });\n      this.updateButtonCss();\n    }\n  };\n\n  setAsyncButtonManage = (state: { buttonManage: boolean[] }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n    });\n  };\n\n  resetButtonManage = async (index: number) => {\n    let tmp: boolean[] = this.state.buttonManage;\n    const oldValue: boolean = tmp[index];\n\n    tmp = [false, false, false, false, false, this.state.buttonManage[5]];\n\n    if (oldValue) {\n      tmp[index] = false;\n      this.setState({\n        numberClickDiv: 0,\n      });\n    } else {\n      if (index === 2) {\n        this.setState({\n          hiddenLegend: false,\n          valueButton: '',\n        });\n      }\n      tmp[index] = true;\n      this.setState({\n        numberClickDiv: 1,\n      });\n    }\n    await this.setAsyncButtonManage({\n      buttonManage: tmp,\n    });\n    this.updateButtonCss();\n  };\n\n  addNode = () => {\n    if (this.state.buttonAddIncurvedLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddIncurvedLinkIsActive: !prevState.buttonAddIncurvedLinkIsActive,\n      }));\n    }\n    if (this.state.buttonAddLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddLinkIsActive: !prevState.buttonAddLinkIsActive,\n      }));\n    }\n    this.setState((prevState: State) => ({\n      nbClickButton: prevState.buttonManage[0] ? false : true,\n    }));\n    this.resetButtonManage(0);\n    this.changeValueButtonToPoint();\n  };\n\n  addPoint = () => {\n    if (this.state.buttonAddIncurvedLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddIncurvedLinkIsActive: !prevState.buttonAddIncurvedLinkIsActive,\n      }));\n    }\n    if (this.state.buttonAddLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddLinkIsActive: !prevState.buttonAddLinkIsActive,\n      }));\n    }\n    this.setState((prevState: State) => ({\n      nbClickButton: prevState.buttonManage[3] ? false : true,\n      valueButton: 'point',\n    }));\n    this.resetButtonManage(3);\n    this.changeValueButtonToPoint();\n  };\n\n  addLink = () => {\n    if (this.state.buttonAddIncurvedLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddIncurvedLinkIsActive: !prevState.buttonAddIncurvedLinkIsActive,\n      }));\n    }\n    this.setState((prevState: State) => ({\n      nbClickButton: prevState.buttonManage[1] ? false : true,\n      buttonAddLinkIsActive: !prevState.buttonAddLinkIsActive,\n    }));\n    this.resetButtonManage(1);\n    this.changeValueButtonToLink();\n  };\n\n  addIncurvedLink = () => {\n    if (this.state.buttonAddLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddLinkIsActive: !prevState.buttonAddLinkIsActive,\n      }));\n    }\n    this.setState((prevState: State) => ({\n      nbClickButton: prevState.buttonManage[4] ? false : true,\n      buttonAddIncurvedLinkIsActive: !prevState.buttonAddIncurvedLinkIsActive,\n    }));\n    this.resetButtonManage(4);\n    this.changeValueButtonToIncurvedLink();\n  };\n\n  // Close Legend\n  closeLegend = () => {\n    if (this.state.buttonAddIncurvedLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddIncurvedLinkIsActive: !prevState.buttonAddIncurvedLinkIsActive,\n      }));\n    }\n    if (this.state.buttonAddLinkIsActive) {\n      this.setState((prevState: State) => ({\n        buttonAddLinkIsActive: !prevState.buttonAddLinkIsActive,\n      }));\n    }\n    this.resetButtonManage(2);\n  };\n\n  positionLegend = (e: any) => {\n    if (!this.state.buttonManage[2]) {\n      return;\n    }\n\n    const newLegend: Legend = this.state.legend;\n    const sizeTitlePanel = 28;\n\n    newLegend.x = e.nativeEvent.offsetX;\n    newLegend.y =\n      this.props.options.baseMap.height > e.nativeEvent.offsetY\n        ? parseInt(e.nativeEvent.offsetY, 10)\n        : parseInt(e.nativeEvent.offsetY, 10) - sizeTitlePanel;\n    newLegend.hiddenLegend = false;\n    this.setState({\n      legend: newLegend,\n    });\n    this.props.onOptionsChange({\n      ...this.props.options,\n      legend: newLegend,\n    });\n  };\n\n  ZoomSVG = () => {\n    let newButtonManage = this.state.buttonManage;\n    if (!newButtonManage[5]) {\n      newButtonManage[5] = true;\n      document.body.addEventListener('keyup', this.applyZoom);\n    } else if (newButtonManage[5]) {\n      newButtonManage[5] = false;\n      this.ZoomInactive();\n    }\n    this.setState({\n      buttonManage: newButtonManage,\n    });\n    this.updateButtonCss();\n  };\n\n  // Close legend click on close\n  handleClick = (event: any): void => {\n    const newLegend: Legend = this.state.legend;\n\n    newLegend.hiddenLegend = !this.state.legend.hiddenLegend;\n    this.setState((prevState: State) => ({\n      legend: newLegend,\n    }));\n  };\n\n  // SVG check url\n  tt = () => {\n    const test = document.getElementById('path836');\n    if (test) {\n      test.style.fill = 'red';\n    }\n  };\n\n  chargeRegion = () => {\n    // this.setState({\n    //   displayRegion: (\n    //     <DrawRectangle\n    //       key=\"limitCoor\"\n    //       color=\"orange\"\n    //       coordinateInitial={this.props.options.coordinateSpaceInitial}\n    //       id=\"initialSpace\"\n    //       onOptionsChange={this.props.onOptionsChange}\n    //       options={this.props.options}\n    //       data={this.props.data}\n    //       // isEnabled={!this.state.buttonManage[1]}\n    //       buttonAddLinkIsActive={this.state.buttonAddLinkIsActive}\n    //       buttonAddIncurvedLinkIsActive={this.state.buttonAddIncurvedLinkIsActive}\n    //     />\n    //   ),\n    // });\n  };\n\n  editIdString = (str: string): string => {\n    const cpyString: string = str.slice();\n    let strSplit: string[] = cpyString.split('id=\"');\n    let newStr = '';\n\n    for (let i = 0; strSplit.length > i; i++) {\n      if (strSplit[i]) {\n        if (i > 0) {\n          const tt: string = strSplit[i];\n          strSplit[i] = 'id=\"oct' + tt;\n        }\n        newStr = newStr + strSplit[i];\n      }\n    }\n    return newStr;\n  };\n\n  /**\n   * update button css when mount component\n   */\n  // not display Button of Panel if it is in the mode View\n  checkIfDisplayButton = () => {\n    const url: string = window.location.href;\n    const arrayUrl: string[] = url.split('&');\n    let canDisplayButton = false;\n    for (const element of arrayUrl) {\n      if (element === 'edit') {\n        canDisplayButton = true;\n      }\n    }\n    if (!canDisplayButton) {\n      this.props.onOptionsChange({\n        ...this.props.options,\n        displayButton: false,\n      });\n    }\n  };\n\n  /**\n   * update button css when mount component\n   */\n  componentDidMount = async () => {\n    // not display Button of Panel if it is in the mode View\n    this.checkIfDisplayButton();\n\n    // save background in state\n    // this.setState({\n    //   currentImage: this.props.options.baseMap.image,\n    // });\n    if (this.props.options.baseMap.image !== '') {\n      this.setState({\n        currentImage: this.props.options.baseMap.image,\n      });\n    }\n\n    // load backgroundSVG\n    if (this.props.options.baseMap.modeSVG && this.props.options.baseMap.image !== '') {\n      if (this.props.options.baseMap.isUploaded) {\n        let width = '';\n        let height = '';\n        const text = this.props.options.baseMap.image;\n        this.setState({ svg: text });\n        const result = /id=[\"']\\w*[\"']/i.exec(text);\n        const resultWidth = /width=[\"']\\w*[\"']/i.exec(text);\n        if (resultWidth && resultWidth.length > 0) {\n          width = resultWidth[0].split('\"')[1];\n        }\n        const resultHeight = /height=[\"']\\w*[\"']/i.exec(text);\n        if (resultHeight && resultHeight.length > 0) {\n          height = resultHeight[0].split('\"')[1];\n        }\n        if (result && result.length > 0) {\n          const id: string[] = result[0].split('\"');\n          if (id.length > 1) {\n            const newBaseMap: Background = this.props.options.baseMap;\n            newBaseMap.idSVG = id[1];\n            newBaseMap.layerImage = this.props.options.baseMap.image;\n            newBaseMap.width = parseInt(width || '0', 10).toString() || '';\n            newBaseMap.height = parseInt(height || '0', 10).toString() || '';\n            this.props.onOptionsChange({\n              ...this.props.options,\n              baseMap: newBaseMap,\n            });\n          }\n        }\n        this.chargeRegion();\n      } else {\n        fetch(this.props.options.baseMap.image)\n          .then((res) => res.text())\n          .then((text) => {\n            let data: any;\n            if (this.props.options.baseMap.image.split(',')[0] === 'base64') {\n              data = atob(this.props.options.baseMap.image.split(',')[1]);\n            } else {\n              data = text;\n            }\n            this.setState({ svg: data });\n            const result = /id=[\"']\\w*[\"']/i.exec(data);\n            if (result && result.length > 0) {\n              const id: string[] = result[0].split('\"');\n              if (id.length > 1) {\n                const documentId = document.getElementById(id[1]);\n                if (documentId) {\n                  const newBaseMap: Background = this.props.options.baseMap;\n                  newBaseMap.idSVG = id[1];\n                  // newBaseMap.width = documentId.getAttribute('width') || '';\n                  // newBaseMap.height = documentId.getAttribute('height') || '';\n                  newBaseMap.width = parseInt(documentId.getAttribute('width') || '0', 10).toString() || '';\n                  newBaseMap.height = parseInt(documentId.getAttribute('height') || '0', 10).toString() || '';\n                  this.props.onOptionsChange({\n                    ...this.props.options,\n                    baseMap: newBaseMap,\n                  });\n                }\n              }\n            }\n          })\n          .then(() => this.chargeRegion())\n          .then(() => {\n            const newStr: string = this.editIdString(this.state.svg);\n            const background: Background = this.props.options.baseMap;\n            background.layerImage = newStr;\n            this.props.onOptionsChange({ ...this.props.options, baseMap: background });\n          });\n      }\n    } else {\n      this.chargeRegion();\n    }\n\n    //Set value initialSpace with width and height of background\n    const coordinateSpace: CoordinateSpaceInitial = this.props.options.coordinateSpaceInitial;\n    coordinateSpace.coordinate.xMax = this.props.options.baseMap.width || '0';\n    coordinateSpace.coordinate.yMax = this.props.options.baseMap.height || '0';\n    // if (coordinateSpace.coordinate.xMax === '') {\n    //   coordinateSpace.coordinate.xMax = '0';\n    // }\n    // if (!coordinateSpace.coordinate.yMax) {\n    //   coordinateSpace.coordinate.yMax = '0';\n    // }\n    // this.props.onOptionsChange({\n    //   ...this.props.options,\n    //   coordinateSpaceInitial: coordinateSpace,\n    // });\n    this.updateButtonCss();\n  };\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.state.currentImage !== this.props.options.baseMap.image) {\n      this.componentDidMount();\n    }\n    //Set width initialSpace if new width in display\n    if (\n      this.props.options.baseMap.width !== this.props.options.coordinateSpaceInitial.coordinate.xMax &&\n      !this.props.options.updateOnlyInitialSpace\n    ) {\n      this.props.options.coordinateSpaceInitial.coordinate.xMax = this.props.options.baseMap.width || '0';\n    }\n    //Set height initialSpace if new height in display\n    if (\n      this.props.options.baseMap.height !== this.props.options.coordinateSpaceInitial.coordinate.yMax &&\n      !this.props.options.updateOnlyInitialSpace\n    ) {\n      this.props.options.coordinateSpaceInitial.coordinate.yMax = this.props.options.baseMap.height || '0';\n    }\n    // if (this.props.options.baseMap.image !== prevProps.options.baseMap.image) {\n    //   this.componentDidMount();\n    // }\n    if (this.props !== prevProps) {\n      this.chargeRegion();\n    }\n  }\n  // Zoom in Panel\n  /********************************  Zoom Panel*********************************** */\n  // Zoom Plus\n\n  ZoomInactive = () => {\n    document.body.removeEventListener('keyup', this.applyZoom);\n    const elmnt = document.getElementById('coordinateSpaces');\n    const button = document.getElementById('zoomButton');\n    if (elmnt && button && !this.state.buttonManage[5]) {\n      elmnt.style.cursor = 'default';\n    }\n    // if (elmnt) {\n    //   const stop = document.getElementById('zoomstop');\n    //   if (stop) {\n    //     // document.body.removeEventListener('keyup', this.ZoomSVG, true);\n    //   }\n    // }\n  };\n\n  applyZoom = (evt: any) => {\n    const elmnt = document.getElementById('coordinateSpaces');\n    const button = document.getElementById('zoomButton');\n\n    if (elmnt && evt.keyCode === 80) {\n      // m\n      if (button) {\n        // lol.style.background = 'linear-gradient(to bottom,#e02f44,#c4162a)';\n        elmnt.style.cursor = 'zoom-in';\n        elmnt.style.transform += 'scale(1.01,1.01)' + 'translate(0.5%)' + 'translateY(0.5%)';\n      }\n    } else if (elmnt && evt.keyCode === 77) {\n      // p\n      if (button) {\n        // lol.style.background = 'linear-gradient(to bottom,#e02f44,#c4162a);';\n        elmnt.style.cursor = 'zoom-out';\n        elmnt.style.transform += 'scale(0.98,0.98)' + 'translate(-1%)' + 'translateY(-1%)';\n      }\n    }\n  };\n\n  private displayAndGetPositionTooltipSVG = (event: any) => {\n    let idSVG = '';\n    if (this.props.options.baseMap.isUploaded) {\n      idSVG = event.target.id;\n    } else {\n      idSVG = event.target.id.substring(3);\n    }\n    const arrayRegions: RegionClass[] = this.props.options.regionCoordinateSpace;\n    let newDataSVG: DataTooltipRegionSVG = { idSVG: idSVG, x: '0', y: '0' };\n    for (const region of arrayRegions) {\n      if (region.idSVG === idSVG) {\n        let xSVG = 0;\n        let ySVG = 0;\n        let widthSVG = 0;\n        let heightSVG = 0;\n        let positionX = '0';\n        let positionY = '0';\n        let widthTooltip = 0;\n        let heightTooltip = 0;\n\n        const tooltip = document.getElementById('tooltipSVG');\n        if (tooltip) {\n          widthTooltip = parseInt(tooltip?.style.width, 10);\n          heightTooltip = parseInt(tooltip?.style.height, 10) ? parseInt(tooltip?.style.height, 10) : parseInt(tooltip?.style.minHeight, 10);\n        }\n\n        let positionParameter: any = '';\n        if (region.positionParameter.tooltipPositionA.value) {\n          positionParameter = region.positionParameter.tooltipPositionA.value.toLowerCase();\n        }\n\n        if (event.target.localName === 'rect') {\n          xSVG = parseInt(event.target.attributes['x'].nodeValue, 10);\n          ySVG = parseInt(event.target.attributes['y'].nodeValue, 10);\n          widthSVG = parseInt(event.target.attributes['width'].nodeValue, 10);\n          heightSVG = parseInt(event.target.attributes['height'].nodeValue, 10);\n          // positionX = (xSVG + widthSVG).toString();\n          // positionY = (ySVG - heightSVG / 2).toString();\n        } else if (event.target.localName === 'ellipse') {\n          xSVG = parseInt(event.target.attributes['cx'].nodeValue, 10);\n          ySVG = parseInt(event.target.attributes['cy'].nodeValue, 10);\n          widthSVG = parseInt(event.target.attributes['rx'].nodeValue, 10) * 2;\n          heightSVG = parseInt(event.target.attributes['ry'].nodeValue, 10) * 2;\n          // positionX = xSVG.toString();\n          // positionY = ySVG.toString();\n          if (positionParameter === 'top') {\n            positionX = (xSVG - widthTooltip / 2).toString();\n            positionY = (ySVG - heightTooltip - heightSVG / 2).toString();\n          } else if (positionParameter === 'bottom') {\n            positionX = (xSVG - widthTooltip / 2).toString();\n            positionY = (ySVG + heightSVG / 2).toString();\n          } else if (positionParameter === 'left') {\n            positionX = (xSVG - widthTooltip).toString();\n            positionY = ySVG.toString();\n          } else if (positionParameter === 'right') {\n            positionX = xSVG.toString();\n            positionY = ySVG.toString();\n          } else {\n            positionX = xSVG.toString();\n            positionY = ySVG.toString();\n          }\n        } else if (event.target.localName === 'path') {\n          const allValues: string = event.target.attributes['d'].nodeValue;\n          const arrayAllValues: string[] = allValues.split(' ');\n          let iX = -2;\n          let xMin = 1000000;\n          let xMax = 0;\n          let iY = -1;\n          let yMin = 1000000;\n          let yMax = 0;\n          for (let i = 0; i < arrayAllValues.length; i++) {\n            let valueToCheck = parseInt(arrayAllValues[i], 10);\n            if (i === iX + 3) {\n              if (valueToCheck < xMin) {\n                xMin = valueToCheck;\n              }\n              if (valueToCheck > xMax) {\n                xMax = valueToCheck;\n              }\n              iX = i;\n            }\n            if (i === iY + 3) {\n              if (valueToCheck < yMin) {\n                yMin = valueToCheck;\n              }\n              if (valueToCheck > yMax) {\n                yMax = valueToCheck;\n              }\n              iY = i;\n            }\n          }\n          xSVG = xMin;\n          ySVG = yMin;\n          widthSVG = xMax - xMin;\n          heightSVG = xMax - xMin;\n          // positionX = (xSVG + widthSVG).toString();\n          // positionY = ySVG.toString();\n        }\n\n        // define positionTooltip for path and rect\n        if (event.target.localName === 'path' || event.target.localName === 'rect') {\n          if (positionParameter === 'top') {\n            positionX = (xSVG + widthSVG / 4).toString();\n            positionY = (ySVG - heightSVG / 2).toString();\n          } else if (positionParameter === 'bottom') {\n            positionX = (xSVG + widthSVG / 4).toString();\n            positionY = (ySVG + heightSVG / 2).toString();\n          } else if (positionParameter === 'left') {\n            positionX = (xSVG - widthSVG).toString();\n            positionY = ySVG.toString();\n          } else if (positionParameter === 'right') {\n            positionX = (xSVG + widthSVG).toString();\n            positionY = ySVG.toString();\n          } else {\n            positionX = (xSVG + widthSVG).toString();\n            positionY = ySVG.toString();\n          }\n        }\n        newDataSVG.x = positionX;\n        newDataSVG.y = positionY;\n        this.setState({\n          dataTooltipSVG: newDataSVG,\n        });\n        const tooltipSVG: any = document.getElementById('tooltipSVG');\n        if (tooltipSVG) {\n          tooltipSVG.style.display = 'initial';\n        }\n      }\n    }\n  };\n\n  private hideTooltipSVG = (event: any) => {\n    let idSVG = '';\n    if (this.props.options.baseMap.isUploaded) {\n      idSVG = event.target.id;\n    } else {\n      idSVG = event.target.id.substring(3);\n    }\n    const arrayRegions: RegionClass[] = this.props.options.regionCoordinateSpace;\n    for (const region of arrayRegions) {\n      if (region.idSVG === idSVG) {\n        const tooltipSVG: any = document.getElementById('tooltipSVG');\n        tooltipSVG.style.display = 'none';\n      }\n    }\n  };\n\n  // Tooltip in Svg\n  //tooltip_SVG = () => {\n  //   const red = document.getElementById('part1');\n\n  //   red?.addEventListener('mouseenter', () => {\n  //     red.addEventListener('mouseover', () => {\n  //       const tooltip = document.createElement('span');\n  //       const texttest = document.createTextNode('rectanglered');\n  //       tooltip.appendChild(texttest);\n  //       red.appendChild(tooltip).style.position = 'absolute';\n  //       red.appendChild(tooltip).style.backgroundColor = '#000000';\n  //       red.appendChild(tooltip).style.padding = '8px';\n  //       red.appendChild(tooltip).style.float = 'top';\n  //       red.appendChild(tooltip).style.color = '#d8d9da';\n  //       red.appendChild(tooltip).style.boxShadow = '0 0 2px rgba(0, 0, 0, 0.5)';\n  //       red.appendChild(tooltip).style.borderRadius = '2px';\n  //       red.appendChild(tooltip).style.fontWeight = '500';\n  //       red.addEventListener('mouseout', () => {\n  //         red.appendChild(tooltip).style.visibility = 'hidden';\n  //       });\n  //     });\n  //     const yellow = document.getElementById('part2');\n  //     yellow?.addEventListener('mouseenter', () => {\n  //       yellow.addEventListener('mouseover', () => {\n  //         const tooltip = document.createElement('span');\n  //         const texttest = document.createTextNode('rectangleyellow');\n  //         tooltip.appendChild(texttest);\n  //         yellow.appendChild(tooltip).style.position = 'absolute';\n  //         yellow.appendChild(tooltip).style.backgroundColor = '#000000';\n  //         yellow.appendChild(tooltip).style.padding = '8px';\n  //         yellow.appendChild(tooltip).style.float = 'top';\n  //         yellow.appendChild(tooltip).style.color = '#d8d9da';\n  //         yellow.appendChild(tooltip).style.boxShadow = '0 0 2px rgba(0, 0, 0, 0.5)';\n  //         yellow.appendChild(tooltip).style.borderRadius = '2px';\n  //         yellow.appendChild(tooltip).style.fontWeight = '500';\n  //         yellow.addEventListener('mouseout', () => {\n  //           yellow.appendChild(tooltip).style.visibility = 'hidden';\n  //         });\n  //       });\n  //       const rect = document.getElementById('carre');\n  //       rect?.addEventListener('mouseenter', () => {\n  //         rect.addEventListener('mouseover', () => {\n  //           const tooltip = document.createElement('span');\n  //           const texttest = document.createTextNode('rectanglegreen');\n  //           tooltip.appendChild(texttest);\n  //           rect.appendChild(tooltip).style.position = 'absolute';\n  //           rect.appendChild(tooltip).style.backgroundColor = '#000000';\n  //           rect.appendChild(tooltip).style.padding = '8px';\n  //           rect.appendChild(tooltip).style.marginTop = '20%';\n  //           rect.appendChild(tooltip).style.color = '#d8d9da';\n  //           rect.appendChild(tooltip).style.boxShadow = '0 0 2px rgba(0, 0, 0, 0.5)';\n  //           rect.appendChild(tooltip).style.borderRadius = '2px';\n  //           rect.appendChild(tooltip).style.fontWeight = '500';\n  //           rect.addEventListener('mouseout', () => {\n  //             rect.appendChild(tooltip).style.visibility = 'hidden';\n  //           });\n  //         });\n  //       });\n  //     });\n  //   });\n  // };\n\n  /*************************************test create tooltip **********************************************************/\n\n  SVG_PathImage = (event: any) => {\n    this.displayAndGetPositionTooltipSVG(event);\n    const elementSVG: any = event.target;\n    const parentElementSVG: any = elementSVG.parentNode;\n    let idSVG = '';\n    if (this.props.options.baseMap.isUploaded) {\n      idSVG = event.target.id;\n    } else {\n      idSVG = event.target.id.substring(3);\n    }\n    const arrayRegion: RegionClass[] = this.props.options.regionCoordinateSpace;\n    for (const region of arrayRegion) {\n      if (region.idSVG === idSVG) {\n        const linkUrl: string = region.linkURL.followLink;\n        if (linkUrl && !document.getElementById('a' + idSVG) && !this.state.buttonAddIncurvedLinkIsActive && !this.state.buttonAddLinkIsActive) {\n          const aElement = document.createElementNS('http://www.w3.org/2000/svg', 'a');\n          aElement.setAttribute('id', 'a' + idSVG);\n          aElement.setAttribute('href', linkUrl);\n          aElement.appendChild(elementSVG);\n          parentElementSVG.appendChild(aElement);\n        }\n      }\n    }\n    // for (const line of this.props.options.regionCoordinateSpace) {\n    //   if (line.mode) {\n    //     const id: HTMLElement | null = document.getElementById('oct' + line.idSVG);\n    //     if (id) {\n    //       // const valueQuery = getResultQuery(line.mainMetric);\n    //       const test = document.getElementById('jeSuisLa' + line.id);\n    //       if (test) {\n    //         test.style.fill = 'red';\n    //       } else {\n    //         const textObj: TextObject = line.textObj;\n    //         if (\n    //           !textObj.isTextTooltip ||\n    //           (textObj.generateObjectText && textObj.valueGenerateObjectText && !textObj.valueGenerateObjectText.displayObjectInTooltip)\n    //         ) {\n    //           const title = document.createElementNS('http://www.w3.org/2000/svg', 'title');\n    //           title.setAttribute('fill', 'yellow');\n    //           title.setAttributeNS('http://www.w3.org/1999/xlink', 'fill', 'yellow');\n    //           title.setAttribute('fill', 'red');\n    //           title.setAttributeNS('title', 'fill', 'red');\n    //           const text = getInfoDisplayRegion(line, this.props);\n\n    //           title.innerHTML = text.tooltip.modeText || '';\n    //           // title.textContent = valueQuery ? valueQuery.toString() : '';\n    //           title.id = 'jeSuisLa' + line.id;\n    //           title.style.fill = 'red';\n    //           id.appendChild(title);\n    //         }\n    //       }\n    //     }\n    //   }\n    // }\n  };\n\n  fillCoordinate = (): JSX.Element => {\n    const { options } = this.props;\n    const styleRegion = {\n      position: 'absolute',\n      width: options.baseMap.width + 'px',\n      height: options.baseMap.height + 'px',\n      top: '15%',\n      left: 0,\n    } as React.CSSProperties;\n    // const xMinInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.xMin, 10);\n    // const xMaxInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.xMax, 10);\n    // const yMinInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.yMin, 10);\n    // const yMaxInitialSpace = parseInt(options.coordinateSpaceInitial.coordinate.yMax, 10);\n    let mapItems: JSX.Element[];\n    mapItems = options.regionCoordinateSpace.map((line: RegionClass, index: number) => (\n      <DrawRectangleExtend\n        key={'drawRectangleExtend' + index.toString()}\n        uneCoor={line}\n        useLimit={false}\n        limit={options.coordinateSpaceInitial.coordinate}\n        onOptionsChange={this.props.onOptionsChange}\n        options={this.props.options}\n        data={this.props.data}\n        id={'region' + line.id.toString()}\n        //isEnabled={true}\n        buttonAddLinkIsActive={this.state.buttonAddLinkIsActive}\n        buttonAddIncurvedLinkIsActive={this.state.buttonAddIncurvedLinkIsActive}\n        widthInitialSpaceDefault={line.widthInitialSpaceDefault}\n        heightInitialSpaceDefault={line.heightInitialSpaceDefault}\n      />\n    ));\n    return <ul style={styleRegion}>{mapItems}</ul>;\n  };\n\n  getValuesAuxiliaryMetricsRegionSVG = (region: RegionClass): string[] => {\n    reqMetricAuxRegion(region, this.props);\n    return this.getValuesAuxiliaryMetrics(region.metrics, region.mainMetric);\n  };\n\n  private getConvertValueAuxMetrics = (valueBrut: string, region: RegionClass): string => {\n    let result = '';\n    const decimal: string = region.textObj.generateAuxiliaryElement.numericFormatElement;\n    const roundValue: number = parseInt(decimal, 10) || 1;\n    const unit: string = region.textObj.generateAuxiliaryElement.unit;\n    if (decimal !== '') {\n      result = parseFloat(valueBrut).toPrecision(roundValue);\n    } else {\n      result = valueBrut;\n    }\n    return result + ' ' + unit;\n  };\n\n  private displayMetaDataRegionSVG = (region: RegionClass): JSX.Element => {\n    let resultHtml: JSX.Element[] = [];\n    const arrayMeta: Metadata[] = region.meta;\n    if (arrayMeta.length !== 0) {\n      resultHtml.push(\n        <p\n          key={'titleMetadataRegionSVG' + region.id + region.idSVG}\n          style={{\n            fontFamily: this.props.options.display.police,\n            fontSize: '10px',\n            marginTop: '5px',\n            marginBottom: '0px',\n            color: 'white',\n          }}\n        >\n          Metadata\n        </p>\n      );\n      let indexMeta = 0;\n      arrayMeta.forEach((meta) => {\n        const styleContentMetaData = {\n          color: meta.obj.colorText,\n          backgroundColor: meta.obj.colorBack,\n          fontWeight: meta.obj.style.bold ? 'bold' : 'normal',\n          fontStyle: meta.obj.style.italic ? 'italic' : 'normal',\n          textDecoration: meta.obj.style.underline ? 'underline' : 'none',\n          fontFamily: this.props.options.display.police,\n          fontSize: '9px',\n          marginLeft: '10px',\n          marginBottom: '0px',\n        } as CSSProperties;\n        resultHtml.push(\n          <p key={indexMeta + 'textMetadataRegionSVG' + region.id} style={styleContentMetaData}>\n            {meta.meta}\n          </p>\n        );\n        indexMeta++;\n      });\n    }\n    return (\n      <div key={'metadataTooltipRegionSVG' + region.id + region.idSVG} id=\"metadataTooltipSVG\">\n        {resultHtml}\n      </div>\n    );\n  };\n\n  private displayAuxiliaryMetricsRegionSVG = (region: RegionClass): JSX.Element => {\n    let html: JSX.Element[] = [];\n    const valuesAuxMetrics: string[] = this.getValuesAuxiliaryMetrics(region.metrics, region.mainMetric);\n    const auxMetrics: Metric[] = region.metrics;\n    const addColorText: boolean = region.textObj.generateAuxiliaryElement.addColorTextElement;\n    const addColorBack: boolean = region.textObj.generateAuxiliaryElement.addColorBackElement;\n    const legend: string = region.textObj.generateAuxiliaryElement.legendElement;\n    let colorText = '';\n    let colorBack = '';\n\n    if (addColorText) {\n      colorText = region.textObj.generateAuxiliaryElement.colorTextElement;\n    } else {\n      colorText = 'white';\n    }\n\n    if (addColorBack) {\n      colorBack = region.textObj.generateAuxiliaryElement.colorBackElement;\n    } else {\n      colorBack = 'black';\n    }\n\n    const styleTitle = {\n      fontFamily: this.props.options.display.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginBottom: '0px',\n      color: colorText,\n      //backgroundColor: colorBack,\n    } as React.CSSProperties;\n\n    const styleTitle2 = {\n      fontFamily: this.props.options.display.police,\n      fontSize: '10px',\n      marginTop: '5px',\n      marginLeft: '5px',\n      marginBottom: '0px',\n      color: colorText,\n      //backgroundColor: colorBack,\n    } as React.CSSProperties;\n\n    const styleContent = {\n      fontFamily: this.props.options.display.police,\n      fontSize: '9px',\n      marginLeft: '10px',\n      marginBottom: '0px',\n      color: colorText,\n      whiteSpace: 'nowrap',\n      //backgroundColor: colorBack,\n    } as React.CSSProperties;\n\n    if (auxMetrics.length > 0) {\n      html.push(\n        <p key={region.id + 'contentToolTip1'} style={styleTitle}>\n          Auxiliary Metric\n        </p>\n      );\n      html.push(\n        <p key={region.idSVG + 'contentToolTip2'} style={styleTitle}>\n          {legend}\n        </p>\n      );\n      let index = 1;\n      for (const metric of auxMetrics) {\n        const valueAuxMetric: string = this.getConvertValueAuxMetrics(valuesAuxMetrics[index - 1], region);\n        html.push(\n          <p key={index + 'region' + region.idSVG + 'contentToolTip3'} style={styleTitle2}>\n            + Metric {index}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.idSVG + 'contentToolTip4'} style={styleContent}>\n            - Value : {valueAuxMetric}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.idSVG + 'contentToolTip5'} style={styleContent}>\n            - Key : {metric.key}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.idSVG + 'contentToolTip6'} style={styleContent}>\n            - KeyValue : {metric.keyValue}\n          </p>\n        );\n        html.push(\n          <p key={index + 'region' + region.idSVG + 'contentToolTip7'} style={styleContent}>\n            - Type : {metric.manageValue}\n          </p>\n        );\n        index++;\n      }\n    }\n    return (\n      <div id=\"auxMetTooltipSVG\" style={{ backgroundColor: colorBack }}>\n        {html}\n      </div>\n    );\n  };\n\n  private defineMainMetric = (region: RegionClass): string => {\n    let result = '';\n    const legend: string = region.textObj.valueGenerateObjectText.legendElement;\n    const unit: string = region.textObj.valueGenerateObjectText.unit;\n    const decimal: string = region.textObj.valueGenerateObjectText.numericFormatElement;\n    //const roundMetrics: number = parseInt(decimal, 10) || 1;\n    const roundValue: number = parseInt(decimal, 10) || 1;\n    const mainMetric: number = getResultQuery(region.mainMetric) || 0;\n\n    if (decimal !== '') {\n      result = mainMetric.toPrecision(roundValue) + ' ' + unit;\n    } else {\n      result = mainMetric + ' ' + unit;\n    }\n    if (legend) {\n      result = legend + ': ' + result;\n    }\n    return result;\n  };\n\n  private defineTextDecoration = (region: RegionClass): string => {\n    const mainStyle: Style = region.textObj.style;\n    let result = '';\n    if (mainStyle.underline) {\n      result = 'underline';\n    } else {\n      if (this.props.options.display.style.underline) {\n        result = 'underline';\n      } else {\n        result = 'none';\n      }\n    }\n    return result;\n  };\n\n  private defineFontStyle = (region: RegionClass): string => {\n    const mainStyle: Style = region.textObj.style;\n    let result = '';\n    if (mainStyle.italic) {\n      result = 'italic';\n    } else {\n      if (this.props.options.display.style.italic) {\n        result = 'italic';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n\n  private defineFontWeight = (region: RegionClass): any => {\n    const mainStyle: Style = region.textObj.style;\n    let result = '';\n    if (mainStyle.bold) {\n      result = 'bold';\n    } else {\n      if (this.props.options.display.style.bold) {\n        result = 'bold';\n      } else {\n        result = 'normal';\n      }\n    }\n    return result;\n  };\n  // Close Legend\n\n  private stopDisplayLegend = () => {\n    this.closeLegend();\n    this.setState({\n      hiddenLegend: true,\n    });\n  };\n\n  private htmlTooltipRegionSVG = (): JSX.Element => {\n    let regionSVG: RegionClass = initRegionCoordinateSpace(1000);\n    for (const region of this.props.options.regionCoordinateSpace) {\n      if (region.idSVG === this.state.dataTooltipSVG.idSVG) {\n        regionSVG = region;\n      }\n    }\n\n    const styleMainTooltipSVG = {\n      display: 'none',\n      position: 'absolute',\n      top: parseInt(this.state.dataTooltipSVG.y, 10),\n      left: parseInt(this.state.dataTooltipSVG.x, 10),\n      width: '150px',\n      minHeight: '100px',\n      zIndex: 9999,\n      //width: 'auto',\n      border: '1px solid black',\n      borderRadius: '5px',\n      backgroundColor: 'black',\n      padding: 5,\n    } as React.CSSProperties;\n\n    const styleLabelTooltipSVG = {\n      textDecoration: this.defineTextDecoration(regionSVG),\n      fontStyle: this.defineFontStyle(regionSVG),\n      fontWeight: this.defineFontWeight(regionSVG),\n      fontSize: this.props.options.display.size,\n      fontFamily: this.props.options.display.police,\n      color: regionSVG.textObj.colorText,\n      backgroundColor: regionSVG.textObj.colorBack,\n    } as React.CSSProperties;\n\n    const styleMainMetricTooltipSVG = {\n      textDecoration: this.defineTextDecoration(regionSVG),\n      fontStyle: this.defineFontStyle(regionSVG),\n      fontWeight: this.defineFontWeight(regionSVG),\n      color: regionSVG.textObj.valueGenerateObjectText.addColorTextElement ? regionSVG.textObj.valueGenerateObjectText.colorTextElement : 'white',\n      backgroundColor: regionSVG.textObj.valueGenerateObjectText.addColorBackElement\n        ? regionSVG.textObj.valueGenerateObjectText.colorBackElement\n        : 'black',\n      fontSize: this.props.options.display.size,\n      fontFamily: this.props.options.display.police,\n      overflow: 'visible',\n    } as React.CSSProperties;\n\n    const styleElementTooltipSVG = {\n      color: 'white',\n      fontSize: this.props.options.display.size,\n      fontFamily: this.props.options.display.police,\n    } as React.CSSProperties;\n\n    let html: JSX.Element = <div></div>;\n    if (regionSVG.idSVG) {\n      html = (\n        <div\n          id=\"tooltipSVG\"\n          style={styleMainTooltipSVG}\n          onMouseOver={(event: any) => {\n            const tooltipSVG: any = document.getElementById('tooltipSVG');\n            if (\n              event.target.id === 'tooltipSVG' ||\n              event.target.parentElement.id === 'tooltipSVG' ||\n              event.target.id === 'auxMetTooltipSVG' ||\n              event.target.parentElement.id === 'auxMetTooltipSVG' ||\n              event.target.id === 'metadataTooltipSVG' ||\n              event.target.parentElement.id === 'metadataTooltipSVG'\n            ) {\n              tooltipSVG.style.display = 'initial';\n            }\n          }}\n          onMouseOut={(event: any) => {\n            const tooltipSVG: any = document.getElementById('tooltipSVG');\n            if (\n              event.target.id !== 'tooltipSVG' ||\n              event.target.parentElement.id !== 'tooltipSVG' ||\n              event.target.id !== 'auxMetTooltipSVG' ||\n              event.target.parentElement.id !== 'metadataTooltipSVG' ||\n              event.target.id !== 'metadataTooltipSVG' ||\n              event.target.parentElement.id !== 'auxMetTooltipSVG'\n            ) {\n              tooltipSVG.style.display = 'none';\n            }\n          }}\n        >\n          {regionSVG.textObj.isTextTooltip && <p style={styleLabelTooltipSVG}>{regionSVG.label}</p>}\n          {regionSVG.textObj.generateObjectText && regionSVG.textObj.valueGenerateObjectText.displayObjectInTooltip && (\n            <p style={styleMainMetricTooltipSVG}>{this.defineMainMetric(regionSVG)}</p>\n          )}\n          {regionSVG.textObj.generateAuxiliaryElement.displayObjectInTooltip && this.displayAuxiliaryMetricsRegionSVG(regionSVG)}\n          {this.displayMetaDataRegionSVG(regionSVG)}\n          <a style={styleElementTooltipSVG} href={regionSVG.linkURL.hoveringTooltipLink}>\n            {regionSVG.linkURL.hoveringTooltipText}\n          </a>\n        </div>\n      );\n    }\n\n    // if no data in tooltipRegionSVG => not display\n    if (\n      !regionSVG.textObj.isTextTooltip &&\n      (!regionSVG.textObj.valueGenerateObjectText.displayObjectInTooltip ||\n        (regionSVG.textObj.valueGenerateObjectText.displayObjectInTooltip &&\n          regionSVG.mainMetric.returnQuery &&\n          regionSVG.mainMetric.returnQuery.length === 0)) &&\n      regionSVG.metrics.length === 0 &&\n      regionSVG.meta.length === 0 &&\n      regionSVG.linkURL.hoveringTooltipText === ''\n    ) {\n      const tooltipSVG: any = document.getElementById('tooltipSVG');\n      if (tooltipSVG) {\n        tooltipSVG.style.display = 'none';\n      }\n    }\n    return html;\n  };\n\n  /*************************************** create link regionbyid**************************************** */\n\n  /*************************************test create tooltip **********************************************************/\n  //https://raw.githubusercontent.com/atosorigin/grafana-weathermap-panel/master/docs/resource/demo01-background.svg\n  /** render */\n  render() {\n    let styleBackground;\n    if (this.props.options.baseMap.modeSVG) {\n      styleBackground = {\n        height: this.props.options.baseMap.height + 'px',\n        width: this.props.options.baseMap.width + 'px',\n      } as React.CSSProperties;\n    } else {\n      if (this.props.options.baseMap.image.split(',')[0] === 'base64') {\n        styleBackground = {\n          position: 'absolute',\n          textAlign: 'center',\n          backgroundRepeat: 'no-repeat',\n          backgroundImage: 'url(data:image/jpeg;' + this.props.options.baseMap.image + ')',\n          backgroundSize: this.props.options.baseMap.width + 'px' + ' ' + this.props.options.baseMap.height + 'px',\n          height: this.props.options.baseMap.height + 'px',\n          width: this.props.options.baseMap.width + 'px',\n          opacity: 0.8,\n          zIndex: 4,\n        } as React.CSSProperties;\n      } else {\n        styleBackground = {\n          position: 'absolute',\n          textAlign: 'center',\n          backgroundRepeat: 'no-repeat',\n          backgroundImage: 'url(' + this.props.options.baseMap.image + ')',\n          backgroundSize: this.props.options.baseMap.width + 'px' + ' ' + this.props.options.baseMap.height + 'px',\n          height: this.props.options.baseMap.height + 'px',\n          width: this.props.options.baseMap.width + 'px',\n          opacity: 0.8,\n          zIndex: 4,\n        } as React.CSSProperties;\n      }\n    }\n\n    const styleSVG = {\n      position: 'absolute',\n      zIndex: 2,\n    } as React.CSSProperties;\n\n    const styleSVG_2 = {\n      position: 'absolute',\n      textAlign: 'center',\n      backgroundRepeat: 'no-repeat',\n      height: this.props.options.baseMap.height + 'px',\n      width: this.props.options.baseMap.width + 'px',\n      opacity: 0,\n      zIndex: 2,\n    } as React.CSSProperties;\n\n    const defaultStyle = {\n      height: '100vh',\n      width: '100vw',\n      fontFamily: this.props.options.display.police,\n      fontSize: this.props.options.display.size,\n      fontStyle: this.props.options.display.style.italic ? 'italic' : 'normal',\n      fontWeight: this.props.options.display.style.bold ? 'bold' : 'normal',\n      textDecoration: this.props.options.display.style.underline ? 'underline' : 'none',\n    } as React.CSSProperties;\n\n    return (\n      <CustomScrollbar autoHide={false} hideHorizontalTrack={false} autoHeightMax=\"100%\">\n        <div\n          id=\"zoom\"\n          style={{\n            display: 'inline-flex',\n            marginTop: '-7px',\n            marginLeft: '86%',\n          }}\n        ></div>\n        <div style={{ textAlign: 'left', position: 'relative', display: 'inline-grid' }}>\n          {this.props.options.displayButton && this.state.allActionButton}\n        </div>\n        <section style={defaultStyle} onClick={this.positionLegend}>\n          <div>\n            {this.state.buttonManage[0] && (\n              <div\n                style={{\n                  width: '200px',\n                  position: 'absolute',\n                  overflowY: 'scroll',\n                  marginLeft: '20%',\n                  marginRight: '20%',\n                  marginTop: '20%',\n                  marginBottom: '20%',\n                  border: '5px solid aliceblue',\n                  height: '40%',\n                }}\n              >\n                <p>hello</p>\n                <Modal title=\"Add Region\" onDismiss={this.addNode} onClickBackdrop={this.addNode} isOpen={this.state.nbClickButton}>\n                  <AddCoordinate\n                    options={this.props.options}\n                    onOptionsChange={this.props.onOptionsChange}\n                    data={this.props.data}\n                    isRegion={true}\n                    isPoint={false}\n                    isLink={false}\n                  />\n                </Modal>\n              </div>\n            )}\n            {!this.state.hiddenLegend && (\n              <LegendComponant\n                options={this.props.options}\n                onOptionsChange={this.props.onOptionsChange}\n                data={this.props.data}\n                // legend={this.props.options.legend}\n                {...this.props.options.legend}\n                callBack={this.handleClick}\n                callBackClose={this.stopDisplayLegend}\n              />\n            )}\n            <div onClick={this.callMethod}></div>\n            <div onClick={this.getCoordinates} id=\"coordinateSpaces\" style={styleBackground}>\n              {this.defineLimit()}\n              <div>\n                <div className=\"tooltip\" />\n                {/* {this.fillCoordinate()} */}\n                <div id=\"mainPanel\" style={{ position: 'absolute', zIndex: 1 }}>\n                  <div\n                    style={styleSVG}\n                    // onMouseOver={this.SVG_PathImage}\n                    dangerouslySetInnerHTML={{ __html: this.state.svg }}\n                  />\n                  <div\n                    id=\"Intent\"\n                    style={styleSVG_2}\n                    onMouseOver={this.SVG_PathImage}\n                    // && this.CreateLinkArea\n                    // && this.displayTooltipSVG\n                    // onMouseOver={event => {\n                    //   this.displayTooltipSVG(event);\n                    // }}\n                    onMouseOut={(event) => {\n                      this.hideTooltipSVG(event);\n                    }}\n                    dangerouslySetInnerHTML={{ __html: this.props.options.baseMap.layerImage }}\n                  />\n                  {/* <div onClick={this.CreateLinkArea}></div> */}\n                  {this.htmlTooltipRegionSVG()}\n\n                  {/* Ordre d'affichage du plus éloigné au plus proche : background - liens - régions - points*/}\n                  {this.displayOrientedLink()}\n                  {this.fillCoordinate()}\n                  {this.displayPoint()}\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </CustomScrollbar>\n    );\n  }\n}\n","import React from 'react';\nimport { SimpleOptions, CoordinateSpaceInitial } from 'types';\n\nimport { FormField, Switch, FormLabel } from '@grafana/ui';\nimport { PanelEditorProps } from '@grafana/data';\n\nimport { editGoodParameter } from 'Functions/EditParameter/editGoodParameter';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  /** value to initial coordinate space */\n  arrayCoor: CoordinateSpaceInitial;\n}\n\n/**\n * initialize space for space coordinate\n */\nclass CoordinateSpaceInitialClass extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      arrayCoor: this.props.options.coordinateSpaceInitial,\n    };\n  }\n\n  /**\n   * Call parent to send arrayCoor data\n   */\n  callBack = () => {\n    this.props.onOptionsChange({\n      ...this.props.options,\n      coordinateSpaceInitial: this.state.arrayCoor,\n    });\n  };\n\n  /**\n   * Use function if value input change\n   * @param {string} currentTarget new value of input\n   * @param {string} name name of input\n   */\n  _handleChange(currentTarget: string, name: string) {\n    this.props.options.updateOnlyInitialSpace = true;\n    this.setState((prevState) => ({\n      arrayCoor: editGoodParameter(\n        name,\n        prevState.arrayCoor,\n        currentTarget,\n        parseInt(this.props.options.baseMap.width, 10),\n        parseInt(this.props.options.baseMap.height, 10)\n      ),\n    }));\n    this.callBack();\n  }\n\n  /**\n   * Get value of input with state.arrayCoor\n   * @param {number} id id of element\n   * @param {string} param name of input\n   * @returns {string} value of the array element\n   */\n  getGoodValue(id: number, param: string): string {\n    let value: string;\n\n    value = '';\n    if (param.startsWith('positionXMin')) {\n      value = this.state.arrayCoor.coordinate.xMin;\n    } else if (param.startsWith('positionXMax')) {\n      value = this.state.arrayCoor.coordinate.xMax;\n    } else if (param.startsWith('positionYMin')) {\n      value = this.state.arrayCoor.coordinate.yMin;\n    } else if (param.startsWith('positionYMax')) {\n      value = this.state.arrayCoor.coordinate.yMax;\n    }\n    return value;\n  }\n\n  /** change value for switch */\n  onChangeSwitchDisplayInitialSpace = () => {\n    const newInitialSpace: CoordinateSpaceInitial = this.state.arrayCoor;\n    newInitialSpace.displayArea = !newInitialSpace.displayArea;\n    this.setState({\n      arrayCoor: newInitialSpace,\n    });\n    this.callBack();\n  };\n\n  // onChangeSwitchDefaultInitialSpace = () => {\n  //   const newInitialSpace: CoordinateSpaceInitial = this.state.arrayCoor;\n  //   newInitialSpace.defaultReferentiel = !newInitialSpace.defaultReferentiel;\n  //   this.setState({\n  //     arrayCoor: newInitialSpace,\n  //   });\n  //   if (newInitialSpace.defaultReferentiel) {\n  //     this.props.options.coordinateSpaceInitial.coordinate = {\n  //       xMin: '0',\n  //       xMax: '100',\n  //       yMin: '0',\n  //       yMax: '100',\n  //     };\n  //   } else {\n  //     this.props.options.coordinateSpaceInitial.coordinate = {\n  //       xMin: '-100',\n  //       xMax: '100',\n  //       yMin: '-100',\n  //       yMax: '100',\n  //     };\n  //   }\n  //   this.callBack();\n  // };\n\n  // displayValueReferentiel = (): string => {\n  //   let result = '';\n  //   if (this.props.options.coordinateSpaceInitial.defaultReferentiel) {\n  //     result = '(0 : 100)';\n  //   } else {\n  //     result = '(-100 : 100)';\n  //   }\n  //   return result;\n  // };\n\n  /**\n   * HTML render\n   */\n  render() {\n    return (\n      <div className=\"coordinateSpaceInitial\">\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Display space initial</FormLabel>\n          <Switch label=\"\" checked={this.state.arrayCoor.displayArea} onChange={this.onChangeSwitchDisplayInitialSpace} />\n        </div>\n        {/* <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Default referentiel {this.displayValueReferentiel()}</FormLabel>\n          <Switch label=\"\" checked={this.state.arrayCoor.defaultReferentiel} onChange={this.onChangeSwitchDefaultInitialSpace} />\n        </div> */}\n        <FormField\n          label=\"X min\"\n          labelWidth={15}\n          inputWidth={20}\n          type=\"text\"\n          required={true}\n          name=\"xMin\"\n          value={this.state.arrayCoor.coordinate.xMin}\n          onChange={(event: {\n            /**\n             * get currentTarget in event element\n             */\n            currentTarget: HTMLInputElement;\n          }) => this._handleChange(event.currentTarget.value, 'positionXMin')}\n          placeholder={'X minimum'}\n        />\n\n        <FormField\n          label=\"X max\"\n          labelWidth={15}\n          inputWidth={20}\n          type=\"text\"\n          required={true}\n          name=\"xMax\"\n          value={this.state.arrayCoor.coordinate.xMax}\n          onChange={(event: {\n            /**\n             * get currentTarget in event element\n             */\n            currentTarget: HTMLInputElement;\n          }) => this._handleChange(event.currentTarget.value, 'positionXMax')}\n          placeholder={'X max'}\n        />\n\n        <FormField\n          label=\"Y min\"\n          labelWidth={15}\n          inputWidth={20}\n          type=\"text\"\n          required={true}\n          name=\"yMin\"\n          value={this.state.arrayCoor.coordinate.yMin}\n          onChange={(event: {\n            /**\n             * get currentTarget in event element\n             */\n            currentTarget: HTMLInputElement;\n          }) => this._handleChange(event.currentTarget.value, 'positionYMin')}\n          placeholder={'Y minimum'}\n        />\n\n        <FormField\n          label=\"Y max\"\n          labelWidth={15}\n          inputWidth={20}\n          type=\"text\"\n          required={true}\n          name=\"yMax\"\n          value={this.state.arrayCoor.coordinate.yMax}\n          onChange={(event: {\n            /**\n             * get currentTarget in event element\n             */\n            currentTarget: HTMLInputElement;\n          }) => this._handleChange(event.currentTarget.value, 'positionYMax')}\n          placeholder={'Y max'}\n        />\n      </div>\n    );\n  }\n}\n\nexport default CoordinateSpaceInitialClass;\n","import React from 'react';\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions, ImportFile, Background } from '../types';\nimport { Button, FormField } from '@grafana/ui';\nimport ImportInput from 'components/importInput';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  selectedFile: any;\n  readerFile: FileReader;\n}\n\nclass DropZone extends React.Component<Props, State> {\n  fileReader: any = null;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      selectedFile: null,\n      readerFile: new FileReader(),\n    };\n  }\n\n  onChangeHandler = (event: any) => {\n    this.setState({\n      selectedFile: event.target.files[0],\n      readerFile: new FileReader(),\n    });\n  };\n\n  upload = () => {\n    this.state.selectedFile.onload = function (event: any) {\n      if (event.target?.result != null) {\n        this.props.options.saveImportFile.push(this.state.readerFile.result as string);\n        this.props.onOptionsChange({ ...this.props.options, saveImportFile: this.props.options.saveImportFile });\n      }\n    };\n    const extensionFile = this.state.selectedFile.name.split('.')[1];\n    if (extensionFile === 'jpg' || extensionFile === 'png' || extensionFile === 'gif') {\n      this.state.readerFile.readAsDataURL(this.state.selectedFile);\n    } else {\n      this.state.readerFile.readAsText(this.state.selectedFile);\n    }\n  };\n\n  save = () => {\n    if (this.state.readerFile.result != null) {\n      this.props.options.saveImportFile.push({ name: this.state.selectedFile.name, content: this.state.readerFile.result as string });\n      let loader: ImportInput = new ImportInput(this.props);\n      this.props.options.saveImportFile.forEach((file) => {\n        if (file.name) {\n          const arrayFileName = file.name.split('.');\n          let newBaseMap: Background = this.props.options.baseMap;\n          if (arrayFileName[1] === 'svg') {\n            newBaseMap.image = file.content;\n            newBaseMap.modeSVG = true;\n            newBaseMap.isUploaded = true;\n          } else if (arrayFileName[1] === 'jpg' || arrayFileName[1] === 'png' || arrayFileName[1] === 'gif') {\n            newBaseMap.image = file.content;\n            newBaseMap.modeSVG = false;\n            newBaseMap.isUploaded = true;\n          }\n          this.props.onOptionsChange({\n            ...this.props.options,\n            baseMap: newBaseMap,\n          });\n        }\n\n        if (JSON.parse(file.content).hasOwnProperty('regions')) {\n          loader.loadMultiRegions(JSON.parse(file.content));\n          console.log('Load Region');\n        }\n        if (JSON.parse(file.content).hasOwnProperty('points')) {\n          loader.loadMultiPoints(JSON.parse(file.content));\n          console.log('Load Point');\n        }\n        if (JSON.parse(file.content).hasOwnProperty('links')) {\n          loader.loadMultiLinks(JSON.parse(file.content));\n          console.log('Load Links');\n        }\n      });\n    }\n    console.log(this.props.options.saveImportFile);\n  };\n\n  // load = () => {\n  //   let loader : ImportInput = new ImportInput(this.props);\n  // \tthis.props.options.saveImportFile.forEach(file => {\n  // \t\tif (JSON.parse(file.content).hasOwnProperty(\"regions\")){\n  //       loader.loadMultiRegions(JSON.parse(file.content));\n  //       console.log(\"Load Region\");\n  //     }\n  //     if (JSON.parse(file.content).hasOwnProperty(\"points\")){\n  //       loader.loadMultiPoints(JSON.parse(file.content));\n  //       console.log(\"Load Point\");\n  //     }\n  //     if (JSON.parse(file.content).hasOwnProperty(\"links\")){\n  //       loader.loadMultiLinks(JSON.parse(file.content));\n  //       console.log(\"Load Links\");\n  // \t\t}\n  // \t});\n  //   this.props.options.saveImportFile.forEach(element => {\n  //     console.log(JSON.parse(element.content));\n  //   });\n  // }\n\n  test = () => {\n    console.log(JSON.stringify(this.props));\n  };\n\n  onMultiListFileChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData: ImportFile[] = this.props.options.saveImportFile.slice();\n    newData[parseInt(event.currentTarget.id, 10)].name = event.currentTarget.value;\n    this.props.options.saveImportFile = newData;\n    this.props.onOptionsChange({ ...this.props.options, saveImportFile: this.props.options.saveImportFile });\n  };\n\n  multiDeletFile = (onClick: { currentTarget: HTMLButtonElement }) => {\n    const isUrl = (url: ImportFile) => url === this.props.options.saveImportFile[parseInt(onClick.currentTarget.id, 10)];\n    this.props.options.saveImportFile.splice(this.props.options.saveImportFile.findIndex(isUrl), 1);\n    this.props.onOptionsChange({ ...this.props.options, saveImportFile: this.props.options.saveImportFile });\n  };\n\n  multiUploadDisplay = (props: any): JSX.Element => {\n    if (props.file.lenght !== 0) {\n      const list = props.file.map((file: ImportFile, index: number) => (\n        <div\n          key={'MultiFileDiv' + index.toString()}\n          style={{\n            display: 'flex',\n          }}\n        >\n          <FormField\n            id={index.toString()}\n            key={'MultiFile' + index.toString()}\n            label={'File'}\n            labelWidth={5}\n            inputWidth={20}\n            onChange={this.onMultiListFileChanged.bind(this)}\n            type=\"string\"\n            value={file.name || ''}\n          />\n          <Button variant=\"danger\" id={index.toString()} key={'ButtunDel' + index.toString()} onClick={this.multiDeletFile.bind(this)}>\n            Del\n          </Button>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    return <div>No targets avalaible</div>;\n  };\n\n  render() {\n    return (\n      <div>\n        <div>\n          <input type=\"file\" name=\"file\" onChange={this.onChangeHandler} />\n          <Button onClick={this.upload}>Add</Button>\n          <Button onClick={this.save}>Finish</Button>\n        </div>\n        <div>\n          <this.multiUploadDisplay file={this.props.options.saveImportFile} />\n        </div>\n      </div>\n    );\n  }\n}\nexport default DropZone;\n","import React from 'react';\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions } from '../types';\nimport { FormField, Button, Collapse } from '@grafana/ui';\n//import /*pointClassImport, regionClassImport, multiPointClassImport, multiRegionClassImport */ '../../config/testVariable';\n\nimport { PointClass } from '../Models/PointClass';\nimport { RegionClass } from 'Models/RegionClass';\nimport { OrientedLinkClass } from '../Models/OrientedLinkClass';\n//import { fetchConfFile } from '../Functions/importConfig';\nimport DropZone from '../Models/dropZone';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  collapseTotalUrl: boolean;\n  collapseMultiUrl: boolean;\n  // collapseMonoUrl: boolean;\n  collapseMultiUpload: boolean;\n}\n\n/*\n * TODO\n */\nclass ImportInput extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      collapseTotalUrl: false,\n      collapseMultiUrl: false,\n      // collapseMonoUrl: false,\n      collapseMultiUpload: false,\n    };\n  }\n  result: any[] = [];\n  totalResult: any[] = [];\n  /**************************************FETCH******************************************/\n\n  // fetchMono = () => {\n  //     console.log(this.props.options.saveImportUrl.mono)\n  //     this.result = fetchConfFile(this.props.options.saveImportUrl.mono);\n  // }\n\n  /**************************************CATCH******************************************/\n  PointValidator = (newSpace: PointClass) => {\n    let resultId = 0;\n    this.props.options.arrayPoints.forEach((point) => {\n      if (newSpace.id === point.id) {\n        if (newSpace.name === point.name) {\n          resultId = 2;\n        } else {\n          // console.error('Id of point named \"' + newSpace.name + '\" already given fail to load!');\n          resultId = 1;\n        }\n      }\n    });\n    return resultId;\n  };\n\n  RegionValidator = (newSpace: RegionClass) => {\n    let resultId = 0;\n    this.props.options.regionCoordinateSpace.forEach((region) => {\n      //Id\n      if (newSpace.id === region.id) {\n        if (newSpace.label === region.label) {\n          resultId = 2;\n        } else {\n          // console.error('Id of region labeled \"' + newSpace.label + '\" already given, fail to load!');\n          resultId = 1;\n        }\n      }\n    });\n    return resultId;\n  };\n\n  LinkValidator = (newSpace: OrientedLinkClass) => {\n    let resultId = 0;\n    this.props.options.arrayOrientedLinks.forEach((lien) => {\n      if (newSpace.id === lien.id) {\n        if (newSpace.name === lien.name) {\n          resultId = 2;\n        } else {\n          // console.error('Id of link named \"' + newSpace.name + '\" already given, fail to load!');\n          resultId = 1;\n        }\n      }\n    });\n    return resultId;\n  };\n\n  UrlValidator = (url: string) => {\n    let result = true;\n    for (let index in this.props.options.saveImportUrl.multi) {\n      if (this.props.options.saveImportUrl.multi[index] === url) {\n        result = false;\n        break;\n      }\n    }\n    return result;\n  };\n\n  /**************************************LOADER******************************************/\n  // Mono\n  pointUpdate = (updatedPoint: PointClass) => {\n    this.props.options.arrayPoints.forEach((point, index) => {\n      //Id\n      if (updatedPoint.id === point.id) {\n        if (updatedPoint.name === point.name) {\n          this.props.options.arrayPoints[index] = updatedPoint;\n          this.props.onOptionsChange({ ...this.props.options, arrayPoints: this.props.options.arrayPoints });\n        }\n      }\n    });\n  };\n  //Looking for a update after Point rework\n  loadMonoPoint = (point: any) => {\n    const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    const widthInitialSpaceDefault = (xMaxInitialSpace - xMinInitialSpace).toString();\n    const heightInitialSpaceDefault = (yMaxInitialSpace - yMinInitialSpace).toString();\n    const toLoad = new PointClass(\n      point.id,\n      point.linkURL,\n      point.meta,\n      point.lowerLimit,\n      point.label,\n      point.textObj,\n      point.mainMetric,\n      point.metrics,\n      point.colorMode,\n      point.traceBack,\n      point.traceBorder,\n      point.positionParameter,\n      point.name,\n      point.valueMetric,\n      point.drawGraphicMarker,\n      point.shape,\n      point.sizeWidth,\n      point.sizeHeight,\n      point.rotateArrow,\n      point.positionShapeX,\n      point.positionShapeY,\n      point.color,\n      point.associateOrientedLinksIn,\n      point.associateOrientedLinksOut,\n      widthInitialSpaceDefault,\n      heightInitialSpaceDefault,\n      point.positionXDefault,\n      point.positionYDefault\n    );\n    // console.log(toLoad);\n    let selector: number = this.PointValidator(toLoad);\n    // Do some test here to see if your already load a coordinatespace with this id\n    if (selector === 0) {\n      this.props.options.arrayPoints.push(toLoad);\n    }\n    if (selector === 2) {\n      this.pointUpdate(toLoad);\n    }\n  };\n\n  regionUpdate = (updatedRegion: RegionClass) => {\n    this.props.options.regionCoordinateSpace.forEach((region, index) => {\n      //Id\n      if (updatedRegion.id === region.id) {\n        if (updatedRegion.label === region.label) {\n          this.props.options.regionCoordinateSpace[index] = updatedRegion;\n          this.props.onOptionsChange({ ...this.props.options, regionCoordinateSpace: this.props.options.regionCoordinateSpace });\n        }\n      }\n    });\n  };\n  //Looking for a update after Region rework\n  loadMonoRegion = (region: any) => {\n    const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    const widthInitialSpaceDefault = (xMaxInitialSpace - xMinInitialSpace).toString();\n    const heightInitialSpaceDefault = (yMaxInitialSpace - yMinInitialSpace).toString();\n    const toLoad = new RegionClass(\n      region.id,\n      region.linkURL,\n      region.meta,\n      region.lowerLimit,\n      region.label,\n      region.textObj,\n      region.mainMetric,\n      region.metrics,\n      region.colorMode,\n      region.traceBack,\n      region.traceBorder,\n      region.positionParameter,\n      region.idSVG,\n      region.orientedLink,\n      region.coords,\n      region.coordsDefault,\n      region.mode,\n      region.img,\n      widthInitialSpaceDefault,\n      heightInitialSpaceDefault\n    );\n    // console.log(toLoad);\n    // Do some test here to see if your already load a coordinatespace with this id\n    let selector: number = this.RegionValidator(toLoad);\n    if (selector === 0) {\n      this.props.options.regionCoordinateSpace.push(toLoad);\n    }\n    if (selector === 2) {\n      this.regionUpdate(toLoad);\n    }\n  };\n\n  linkUpdate = (updatedLink: OrientedLinkClass) => {\n    this.props.options.arrayOrientedLinks.forEach((link, index) => {\n      //Id\n      if (updatedLink.id === link.id) {\n        if (updatedLink.name === link.name) {\n          this.props.options.arrayOrientedLinks[index] = updatedLink;\n          this.props.onOptionsChange({ ...this.props.options, arrayOrientedLinks: this.props.options.arrayOrientedLinks });\n        }\n      }\n    });\n  };\n  loadMonoLink = (link: any) => {\n    const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    const widthInitialSpaceDefault = (xMaxInitialSpace - xMinInitialSpace).toString();\n    const heightInitialSpaceDefault = (yMaxInitialSpace - yMinInitialSpace).toString();\n    const toLoad = new OrientedLinkClass(\n      link.id,\n      link.linkURL,\n      link.meta,\n      link.lowerLimit,\n      link.label,\n      link.textObj,\n      link.mainMetric,\n      link.metrics,\n      link.colorMode,\n      link.traceBack,\n      link.traceBorder,\n      link.positionParameter,\n      link.name,\n      link.orientationLink,\n      link.size,\n      link.pointAPositionX,\n      link.pointAPositionY,\n      link.colorCoordinateA,\n      link.pointBPositionX,\n      link.pointBPositionY,\n      link.colorCoordinateB,\n      link.valueMainMetricA,\n      link.valueMainMetricB,\n      link.pointIn,\n      link.pointOut,\n      link.regionIn,\n      link.regionOut,\n      link.zIndex,\n      link.pointCPositionX,\n      link.pointCPositionY,\n      link.isIncurved,\n      link.mainMetricB,\n      link.metricsB,\n      widthInitialSpaceDefault,\n      heightInitialSpaceDefault,\n      link.pointAPositionXDefault,\n      link.pointAPositionYDefault,\n      link.pointBPositionXDefault,\n      link.pointBPositionYDefault,\n      link.pointCPositionXDefault,\n      link.pointCPositionYDefault\n    );\n    // Do some test here to see if your already load a coordinatespace with this id\n    let selector: number = this.LinkValidator(toLoad);\n    if (selector === 0) {\n      this.props.options.arrayOrientedLinks.push(toLoad);\n    }\n    if (selector === 2) {\n      this.linkUpdate(toLoad);\n    }\n  };\n\n  //Multi\n  loadMultiPoints = (points: any) => {\n    points.points.forEach((point: any) => {\n      this.loadMonoPoint(point);\n    });\n  };\n\n  loadMultiRegions = (regions: any) => {\n    regions.regions.forEach((region: any) => {\n      this.loadMonoRegion(region);\n    });\n  };\n\n  loadMultiLinks = (links: any) => {\n    links.links.forEach((link: any) => {\n      this.loadMonoLink(link);\n    });\n  };\n\n  //Total\n  loadTotal = (panel: any) => {\n    //console.log(panel.imageUrl);\n    this.props.options.baseMap = panel.baseMap;\n    this.props.options.display.police = panel.texteSettings.police;\n    this.props.options.display.size = panel.texteSettings.size;\n    this.props.options.display.style = panel.texteSettings.style;\n    this.props.options.coordinateSpaceInitial = panel.coordinateSpaceInitial;\n    panel.regions.forEach((url: string) => {\n      if (this.UrlValidator(url) === true) {\n        this.props.options.saveImportUrl.multi.push(url);\n      }\n    });\n    panel.points.forEach((url: string) => {\n      if (this.UrlValidator(url) === true) {\n        this.props.options.saveImportUrl.multi.push(url);\n      }\n    });\n    panel.links.forEach((url: string) => {\n      if (this.UrlValidator(url) === true) {\n        this.props.options.saveImportUrl.multi.push(url);\n      }\n    });\n    this.fetchMulti();\n    // console.log('load total');\n  };\n\n  loaderTotal = async () => {\n    try {\n      let response = await fetch(this.props.options.totalUrlInput);\n      let file = await response.json();\n      this.loadTotal(file);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  // fetchTotal = () => {\n  //   this.totalResult = fetchConfFile(this.props.options.saveImportUrl.total);\n  //   console.log('downloadTotal');\n  // };\n\n  // loaderSelector = () => {\n  //     // this.loadMultiRegions(multiRegionClassImport);\n  // \t// console.table(this.props.options.arrayCoordinateSpace);\n  // \tthis.result.forEach(file => {\n  // \t\tif (file.hasOwnProperty('regions')){\n  //             this.loadMultiRegions(file);\n  //             console.log('Load Region');\n  //         }\n  //         if (file.hasOwnProperty('points')){\n  //             this.loadMultiPoints(file);\n  //             console.log('Load Point');\n  //         }\n  //         if (file.hasOwnProperty('links')){\n  //             this.loadMultiLinks(file);\n  //             console.log('Load Links');\n  // \t\t}\n  // \t});\n  // }\n\n  fetchMulti = () => {\n    //this.result = fetchConfFile(this.props.options.saveImportUrl.multi);\n    this.props.options.saveImportUrl.multi.forEach(async (url) => {\n      try {\n        // console.log(url);\n        let file = {};\n        // console.log(file);\n        let response = await fetch(url);\n        file = await response.json();\n        if (file.hasOwnProperty('regions')) {\n          this.loadMultiRegions(file);\n          // console.log('Load Region');\n        }\n        if (file.hasOwnProperty('points')) {\n          this.loadMultiPoints(file);\n          // console.log('Load Point');\n        }\n        if (file.hasOwnProperty('links')) {\n          //console.log(file);\n          this.loadMultiLinks(file);\n          // console.log('Load Links');\n        }\n      } catch (error) {\n        // console.error(error);\n      }\n    });\n  };\n\n  /**************************************INPUT******************************************/\n\n  onToggleTotalUrl = (isOpen: boolean): void => {\n    this.setState({\n      collapseTotalUrl: isOpen,\n    });\n  };\n\n  onToggleMultiUrl = (isOpen: boolean): void => {\n    this.setState({\n      collapseMultiUrl: isOpen,\n    });\n  };\n\n  onToggleMultiUpload = (isOpen: boolean): void => {\n    this.setState({\n      collapseMultiUpload: isOpen,\n    });\n  };\n\n  // public onToggleMonoUrl = (isOpen: boolean): void => {\n  // \tthis.setState({\n  // \t\tcollapseMonoUrl: isOpen,\n  // \t});\n  // }\n\n  // saveUrl = (url: string, mode: number) => {\n  //   // if (mode === 0){\n  //   //     this.props.options.saveImportUrl.mono.push(url);\n  //   // }\n  //   if (mode === 1) {\n  //     this.props.options.saveImportUrl.multi.push(url);\n  //   }\n  //   if (mode === 2) {\n  //     this.props.options.saveImportUrl.total.push(url);\n  //   }\n  // };\n\n  onTotalUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData = '';\n    newData = event.currentTarget.value;\n    this.props.onOptionsChange({ ...this.props.options, totalUrlInput: newData });\n  };\n\n  onTotalListUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData: string[] = this.props.options.saveImportUrl.total.slice();\n    newData[parseInt(event.currentTarget.id, 10)] = event.currentTarget.value;\n    this.props.options.saveImportUrl.total = newData;\n    this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl });\n  };\n\n  onMultiUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData = '';\n    newData = event.currentTarget.value;\n    this.props.onOptionsChange({ ...this.props.options, multiUrlInput: newData });\n  };\n\n  onMultiListUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData: string[] = this.props.options.saveImportUrl.multi.slice();\n    newData[parseInt(event.currentTarget.id, 10)] = event.currentTarget.value;\n    this.props.options.saveImportUrl.multi = newData;\n    this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl });\n  };\n\n  // onMonoUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n  // \tlet newData: string = '';\n  // \tnewData = event.currentTarget.value;\n  // \tthis.props.onOptionsChange({ ...this.props.options, monoUrlInput: newData });\n  // }\n\n  // onMonoListUrlChanged = (event: {currentTarget: HTMLInputElement}) => {\n  //     let newData: string[] = this.props.options.saveImportUrl.mono.slice();\n  //     newData[parseInt(event.currentTarget.id, 10)] = event.currentTarget.value;\n  //     this.props.options.saveImportUrl.mono = newData;\n  //     this.props.onOptionsChange({...this.props.options, saveImportUrl: this.props.options.saveImportUrl})\n  // }\n\n  addTotalUrlInput = (onClick: { currentTarget: HTMLButtonElement }) => {\n    this.props.options.saveImportUrl.total.push(this.props.options.totalUrlInput);\n    this.props.options.totalUrlInput = '';\n    this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl });\n  };\n\n  addMultiUrlInput = (onClick: { currentTarget: HTMLButtonElement }) => {\n    this.props.options.saveImportUrl.multi.push(this.props.options.multiUrlInput);\n    this.props.options.multiUrlInput = '';\n    this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl });\n  };\n\n  // addMonoUrlInput = (onClick: { currentTarget: HTMLButtonElement }) => {\n  //     this.props.options.saveImportUrl.mono.push(this.props.options.monoUrlInput);\n  //     this.props.options.monoUrlInput = '';\n  //     this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl})\n  // }\n\n  totalDeletUrl = (onClick: { currentTarget: HTMLButtonElement }) => {\n    const isUrl = (url: string) => url === this.props.options.saveImportUrl.total[parseInt(onClick.currentTarget.id, 10)];\n    this.props.options.saveImportUrl.total.splice(this.props.options.saveImportUrl.total.findIndex(isUrl), 1);\n    this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl });\n  };\n\n  multiDeletUrl = (onClick: { currentTarget: HTMLButtonElement }) => {\n    const isUrl = (url: string) => url === this.props.options.saveImportUrl.multi[parseInt(onClick.currentTarget.id, 10)];\n    this.props.options.saveImportUrl.multi.splice(this.props.options.saveImportUrl.multi.findIndex(isUrl), 1);\n    this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl });\n  };\n\n  // monoDeletUrl = (onClick: { currentTarget: HTMLButtonElement}) => {\n  //     const isUrl = (url: string) => url === this.props.options.saveImportUrl.mono[parseInt(onClick.currentTarget.id, 10)];\n  //     this.props.options.saveImportUrl.mono.splice(this.props.options.saveImportUrl.mono.findIndex(isUrl), 1);\n  //     this.props.onOptionsChange({...this.props.options, saveImportUrl: this.props.options.saveImportUrl});\n  // }\n\n  tempo = () => {\n    // console.log(this.props.options.saveImportUrl);\n  };\n\n  totalUrlDisplay = (props: any): JSX.Element => {\n    if (props.list.total.lenght !== 0) {\n      const list = props.list.total.map((url: string, index: number) => (\n        <div\n          key={'TotalUrlDiv' + index.toString()}\n          style={{\n            display: 'flex',\n          }}\n        >\n          <FormField\n            id={index.toString()}\n            key={'TotalUrl' + index.toString()}\n            label={'Url'}\n            labelWidth={5}\n            inputWidth={20}\n            onChange={this.onTotalListUrlChanged.bind(this)}\n            type=\"string\"\n            value={url || ''}\n          />\n          <Button variant=\"danger\" id={index.toString()} key={'ButtunDel' + index.toString()} onClick={this.totalDeletUrl.bind(this)}>\n            Del\n          </Button>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    return <div>No targets avalaible</div>;\n  };\n\n  multiUrlDisplay = (props: any): JSX.Element => {\n    if (props.list.multi.lenght !== 0) {\n      const list = props.list.multi.map((url: string, index: number) => (\n        <div\n          key={'MultiUrlDiv' + index.toString()}\n          style={{\n            display: 'flex',\n            marginTop: '5px',\n          }}\n        >\n          <FormField\n            id={index.toString()}\n            key={'MultiUrl' + index.toString()}\n            label={'Url'}\n            labelWidth={10}\n            inputWidth={20}\n            onChange={this.onMultiListUrlChanged.bind(this)}\n            type=\"string\"\n            value={url || ''}\n          />\n          <Button variant=\"danger\" id={index.toString()} key={'ButtunDel' + index.toString()} onClick={this.multiDeletUrl.bind(this)}>\n            Delete\n          </Button>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    return <div>No targets avalaible</div>;\n  };\n\n  // monoUrlDisplay = (props: any): JSX.Element => {\n  // \tif (props.list.multi.lenght !== 0) {\n  // \t\tconst list = props.list.mono.map((url: string, index: number) =>\n  // \t\t\t<div key={'MonoUrlDiv' + index.toString()}>\n  //                 <FormField id={index.toString()} key={'MonoUrl' + index.toString()}\n  // \t\t\t\t\tlabel={'Url'} labelWidth={5}\n  // \t\t\t\t\tinputWidth={20} onChange={this.onMonoListUrlChanged.bind(this)} type='string' value={url || ''} />\n  // \t\t\t\t<Button variant='danger' id={index.toString()} key={'ButtunDel' + index.toString()}\n  // \t\t\t\t\tonClick={this.monoDeletUrl.bind(this)}>Del</Button>\n  // \t\t\t</div>\n  // \t\t);\n  // \t\treturn (\n  // \t\t\t<div>{list}</div>\n  // \t\t);\n  // \t}\n  // \treturn (<div>No targets avalaible</div>);\n  // }\n\n  delAll = () => {\n    // this.props.options.arrayCoordinateSpace = [];\n    // this.props.options.arrayOrientedLinks = [];\n    // this.props.options.arrayPoints = [];\n    this.props.options.saveImportUrl.total = [];\n    this.props.options.saveImportUrl.multi = [];\n    // this.props.options.saveImportUrl.mono = [];\n    this.props.onOptionsChange({ ...this.props.options, saveImportUrl: this.props.options.saveImportUrl });\n  };\n\n  toDel = () => {\n    // console.log(this.props.options.saveImportUrl.multi);\n    // console.log(this.props.options.arrayPoints);\n  };\n\n  render() {\n    const { options } = this.props;\n    return (\n      <div>\n        <Collapse isOpen={this.state.collapseTotalUrl} label=\"Global Url Import\" onToggle={this.onToggleTotalUrl}>\n          <div style={{ display: 'flex' }}>\n            <FormField\n              label=\"Total Url\"\n              labelWidth={10}\n              key={'TotalUrl'}\n              inputWidth={20}\n              onChange={this.onTotalUrlChanged.bind(this)}\n              type=\"string\"\n              value={options.totalUrlInput || ''}\n            />\n            <Button onClick={this.loaderTotal}>Finish</Button>\n          </div>\n          {/* <Button key={'AddTotalUrl'} onClick={this.addTotalUrlInput}>Add</Button> */}\n          <div className=\"section gf-form-group\">\n            <this.totalUrlDisplay list={options.saveImportUrl} />\n          </div>\n        </Collapse>\n        <Collapse isOpen={this.state.collapseMultiUrl} label=\"Multi Url Import\" onToggle={this.onToggleMultiUrl}>\n          <div style={{ display: 'flex' }}>\n            <FormField\n              label=\"Multi Url\"\n              labelWidth={10}\n              key={'MultiUrl'}\n              inputWidth={20}\n              onChange={this.onMultiUrlChanged.bind(this)}\n              type=\"string\"\n              value={options.multiUrlInput || ''}\n            />\n            <Button key={'AddMultiUrl'} onClick={this.addMultiUrlInput}>\n              Add\n            </Button>\n            <Button onClick={this.fetchMulti}>Finish</Button>\n          </div>\n          <div className=\"section gf-form-group\">\n            <this.multiUrlDisplay list={options.saveImportUrl} />\n          </div>\n        </Collapse>\n        <Collapse isOpen={this.state.collapseMultiUpload} label=\"Multi Local Import\" onToggle={this.onToggleMultiUpload}>\n          <div>\n            <DropZone options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n          </div>\n        </Collapse>\n        {/* <div className='section gf-form-group'>\n                    <Collapse isOpen={this.state.collapseMonoUrl}\n\t\t\t\t\t\tlabel='Mono Url' onToggle={this.onToggleMonoUrl}>\n                        <FormField label='Mono Url' labelWidth={8} key={'MonoUrl'}\n                            inputWidth={20} onChange={this.onMonoUrlChanged.bind(this)}\n                            type='string' value={options.monoUrlInput || ''} />\n                        <Button key={'AddMonoUrl'} onClick={this.addMonoUrlInput}>Add</Button>\n                        <div className='section gf-form-group'>\n                            <Button onClick={this.fetchMono}>Load</Button>\n\t\t\t\t\t        <this.monoUrlDisplay list={options.saveImportUrl} />\n\t\t\t\t        </div>\n\t\t\t\t\t</Collapse>\n                </div> */}\n        {/* <div className=\"section gf-form-group\">\n          <Button key={'delAll'} onClick={this.delAll}>\n            Del all urls\n          </Button>\n        </div>\n        <Button onClick={this.toDel}>toDel</Button> */}\n      </div>\n    );\n  }\n}\nexport default ImportInput;\n","import React from 'react';\n\nimport { SimpleOptions } from 'types';\n\nimport { PanelEditorProps, SelectableValue } from '@grafana/data';\nimport { Select, FormLabel } from '@grafana/ui';\n\nimport { RegionClass } from 'Models/RegionClass';\n\nimport CoordinateSpace from './coordinateSpace';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  /** array for select value with the coordianates space */\n  selectCoordinateSpace: Array<SelectableValue<RegionClass>>;\n  /** default select value */\n  selectCoordinateSpaceDefault: SelectableValue<RegionClass>;\n}\n\ninterface SelectRegion {\n  value: RegionClass;\n  /** label select */\n  label: string;\n}\n\n/**\n * manage coordinate space for simpleEditor\n */\nclass EditCoordinateSpace extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      selectCoordinateSpace: [],\n      selectCoordinateSpaceDefault: [],\n    };\n  }\n\n  /**\n   * save data in parent\n   */\n  callBack = (id: number, newCoordinate?: RegionClass): void => {\n    if (newCoordinate) {\n      // update region\n      const oldData: RegionClass[] = this.props.options.regionCoordinateSpace.slice();\n      let i = 0;\n      for (const line of oldData) {\n        if (line.id === id) {\n          oldData[i] = newCoordinate;\n          break;\n        }\n        ++i;\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        regionCoordinateSpace: oldData,\n      });\n    } else {\n      // delete region\n      let find = false;\n      const oldData: RegionClass[] = this.props.options.regionCoordinateSpace.slice();\n      let i = 0;\n      for (const line of oldData) {\n        if (line.id === id) {\n          find = true;\n          break;\n        }\n        ++i;\n      }\n      if (find) {\n        oldData.splice(i, 1);\n        this.props.onOptionsChange({\n          ...this.props.options,\n          regionCoordinateSpace: oldData,\n        });\n        this.fillSelectRegionSpace();\n      }\n    }\n  };\n\n  /** change select value to edit */\n  onChangeSelectCoordinate = (value: SelectableValue<RegionClass>) => {\n    this.setState({\n      selectCoordinateSpaceDefault: value,\n    });\n  };\n\n  /** fill select with array region object */\n  fillSelectRegionSpace = () => {\n    let valueExist = false;\n    const valueSelect: SelectRegion[] = [];\n    const stockTmpCoordinatesSpace: RegionClass[] = this.props.options.regionCoordinateSpace.slice();\n\n    for (const line of stockTmpCoordinatesSpace) {\n      valueSelect.push({ value: line, label: line.label });\n    }\n    if (this.state.selectCoordinateSpaceDefault) {\n      for (const line of stockTmpCoordinatesSpace) {\n        if (line.id === this.state.selectCoordinateSpaceDefault.value?.id) {\n          valueExist = true;\n          break;\n        }\n      }\n    }\n    // dev\n    // this.setState(prevState => ({\n    //   selectCoordinateSpace: valueSelect,\n    //   selectCoordinateSpaceDefault: valueExist\n    //     ? prevState.selectCoordinateSpaceDefault\n    //     : valueSelect.length > 0\n    //     ? valueSelect[0]\n    //     : prevState.selectCoordinateSpaceDefault,\n    // }));\n    this.setState((prevState) => ({\n      selectCoordinateSpace: valueSelect,\n      selectCoordinateSpaceDefault: valueExist ? prevState.selectCoordinateSpaceDefault : valueSelect.length > 0 ? valueSelect[0] : [],\n    }));\n  };\n\n  /** fill data for select */\n  componentDidMount = () => {\n    this.fillSelectRegionSpace();\n  };\n\n  /** update state if value props change */\n  componentDidUpdate = (prevProps: Props) => {\n    if (prevProps.options.regionCoordinateSpace !== this.props.options.regionCoordinateSpace) {\n      this.fillSelectRegionSpace();\n    }\n  };\n\n  /** return html */\n  render() {\n    return (\n      <div>\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Select Region</FormLabel>\n          <Select\n            onChange={(value) => this.onChangeSelectCoordinate(value)}\n            allowCustomValue={false}\n            options={this.state.selectCoordinateSpace}\n            width={10}\n            value={this.state.selectCoordinateSpaceDefault}\n          />\n        </div>\n        <br />\n        <div>\n          {this.state.selectCoordinateSpaceDefault.value ? (\n            <CoordinateSpace\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              coordinate={this.state.selectCoordinateSpaceDefault.value} // selectCoordinateSpaceDefault.value}\n              callBackToParent={this.callBack}\n              isAddCoordinate={false}\n            />\n          ) : (\n            <p\n              style={{\n                textAlign: 'center',\n                fontSize: '20px',\n                marginTop: '50px',\n              }}\n            >\n              Data not set\n            </p>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\nexport default EditCoordinateSpace;\n","import React from 'react';\n\nimport { SimpleOptions } from '../../../types';\n\nimport { PanelEditorProps, SelectableValue } from '@grafana/data';\nimport { Select, FormLabel } from '@grafana/ui';\n\nimport { PointClass } from '../../../Models/PointClass';\n\n// import { initRegionCoordinateSpace } from 'Functions/initRegionCoordinateSpace';\n\nimport Point from './point';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  /** array for select value with the coordianates space */\n  selectCoordinateSpace: Array<SelectableValue<PointClass>>;\n  /** default select value */\n  selectCoordinateSpaceDefault: SelectableValue<PointClass>;\n}\n\ninterface SelectPoint {\n  value: PointClass;\n  /** label select */\n  label: string;\n}\n\n/**\n * manage coordinate space for simpleEditor\n */\nclass EditPoint extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      selectCoordinateSpace: [],\n      selectCoordinateSpaceDefault: [],\n    };\n  }\n\n  /**\n   * save data in parent\n   */\n  callBack = (id: number, newCoordinate?: PointClass): void => {\n    if (newCoordinate) {\n      const oldData: PointClass[] = this.props.options.arrayPoints.slice();\n      let i = 0;\n      for (const line of oldData) {\n        if (line.id === id) {\n          oldData[i] = newCoordinate;\n          break;\n        }\n        ++i;\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayPoints: oldData,\n      });\n      //this.fillSelectPoint();\n    } else {\n      let find = false;\n      const oldData: PointClass[] = this.props.options.arrayPoints.slice();\n      let i = 0;\n      for (const line of oldData) {\n        if (line.id === id) {\n          find = true;\n          break;\n        }\n        ++i;\n      }\n      if (find) {\n        oldData.splice(i, 1);\n        this.props.onOptionsChange({\n          ...this.props.options,\n          arrayPoints: oldData,\n        });\n        this.fillSelectPoint();\n      }\n    }\n  };\n\n  /** change select value to edit */\n  onChangeSelectCoordinate = (value: SelectableValue<PointClass>) => {\n    this.setState({\n      selectCoordinateSpaceDefault: value,\n    });\n  };\n\n  /** fill select with array region object */\n  fillSelectPoint = () => {\n    let valueExist = false;\n    const valueSelect: SelectPoint[] = [];\n    const stockTmpCoordinatesSpace: PointClass[] = this.props.options.arrayPoints.slice();\n\n    //valueSelect.push({ value: {}, label: 'No Data' });\n\n    for (const line of stockTmpCoordinatesSpace) {\n      let label = line.label || line.name;\n      valueSelect.push({ value: line, label: label });\n    }\n    if (this.state.selectCoordinateSpaceDefault) {\n      for (const line of stockTmpCoordinatesSpace) {\n        if (line.id === this.state.selectCoordinateSpaceDefault.value?.id) {\n          valueExist = true;\n          break;\n        }\n      }\n    }\n    // dev\n    // this.setState(prevState => ({\n    //   selectCoordinateSpace: valueSelect,\n    //   selectCoordinateSpaceDefault: valueExist\n    //     ? prevState.selectCoordinateSpaceDefault\n    //     : valueSelect.length > 0\n    //     ? valueSelect[0]\n    //     : prevState.selectCoordinateSpaceDefault,\n    // }));\n    this.setState((prevState) => ({\n      selectCoordinateSpace: valueSelect,\n      selectCoordinateSpaceDefault: valueExist ? prevState.selectCoordinateSpaceDefault : valueSelect.length > 0 ? valueSelect[0] : [],\n    }));\n    // final\n    // this.setState({\n    // \tselectCoordinateSpace: valueSelect,\n    // \tselectCoordinateSpaceDefault: (valueSelect.length > 0) ?\n    // \t\tvalueSelect[0] : this.state.selectCoordinateSpaceDefault,\n    // });\n  };\n\n  /** fill data for select */\n  componentDidMount = () => {\n    this.fillSelectPoint();\n  };\n\n  /** update state if value props change */\n  componentDidUpdate = (prevProps: Props) => {\n    if (prevProps.options.arrayPoints !== this.props.options.arrayPoints) {\n      this.fillSelectPoint();\n    }\n    if (prevProps.options.newPoint) {\n      this.fillSelectPoint();\n      this.props.options.newPoint = false;\n    }\n  };\n\n  /** return html */\n  render() {\n    return (\n      <div>\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Select Point</FormLabel>\n          <Select\n            onChange={(value) => this.onChangeSelectCoordinate(value)}\n            allowCustomValue={false}\n            options={this.state.selectCoordinateSpace}\n            width={10}\n            value={this.state.selectCoordinateSpaceDefault}\n          />\n        </div>\n        <br />\n        <div>\n          {this.state.selectCoordinateSpaceDefault.value ? (\n            <Point\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              point={this.state.selectCoordinateSpaceDefault.value}\n              callBackToParent={this.callBack}\n              isAddPoint={false}\n            />\n          ) : (\n            <p\n              style={{\n                textAlign: 'center',\n                fontSize: '20px',\n                marginTop: '50px',\n              }}\n            >\n              Data not set\n            </p>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\nexport default EditPoint;\n","import React from 'react';\n\nimport { SimpleOptions } from '../../../types';\n\nimport { PanelEditorProps, SelectableValue } from '@grafana/data';\nimport { Select, FormLabel } from '@grafana/ui';\n\nimport { OrientedLinkClass } from '../../../Models/OrientedLinkClass';\nimport OrientedLink from './orientedLink';\n\n// import { initRegionCoordinateSpace } from 'Functions/initRegionCoordinateSpace';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  /** array for select value with the coordianates space */\n  selectCoordinateSpace: Array<SelectableValue<OrientedLinkClass>>;\n  /** default select value */\n  selectCoordinateSpaceDefault: SelectableValue<OrientedLinkClass>;\n}\n\ninterface SelectOrientedLink {\n  value: OrientedLinkClass;\n  /** label select */\n  label: string;\n}\n\n/**\n * manage coordinate space for simpleEditor\n */\nclass EditOrientedLink extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      selectCoordinateSpace: [],\n      selectCoordinateSpaceDefault: [],\n    };\n  }\n\n  /**\n   * save data in parent\n   */\n  callBack = (id: number, newCoordinate?: OrientedLinkClass): void => {\n    if (newCoordinate) {\n      const oldData: OrientedLinkClass[] = this.props.options.arrayOrientedLinks.slice();\n      let i = 0;\n      for (const line of oldData) {\n        if (line.id === id) {\n          oldData[i] = newCoordinate;\n          break;\n        }\n        ++i;\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        arrayOrientedLinks: oldData,\n      });\n      //this.fillSelectOrientedLink();\n    } else {\n      let find = false;\n      const oldData: OrientedLinkClass[] = this.props.options.arrayOrientedLinks.slice();\n      let i = 0;\n      for (const line of oldData) {\n        if (line.id === id) {\n          find = true;\n          break;\n        }\n        ++i;\n      }\n      if (find) {\n        oldData.splice(i, 1);\n        this.props.onOptionsChange({\n          ...this.props.options,\n          arrayOrientedLinks: oldData,\n        });\n        this.fillSelectOrientedLink();\n      }\n    }\n  };\n\n  /** change select value to edit */\n  onChangeSelectCoordinate = (value: SelectableValue<OrientedLinkClass>) => {\n    this.setState({\n      selectCoordinateSpaceDefault: value,\n    });\n  };\n\n  /** fill select with array region object */\n  fillSelectOrientedLink = () => {\n    let valueExist = false;\n    const valueSelect: SelectOrientedLink[] = [];\n    const stockTmpCoordinatesSpace: OrientedLinkClass[] = this.props.options.arrayOrientedLinks.slice();\n\n    for (const line of stockTmpCoordinatesSpace) {\n      let label = line.label || line.name;\n      valueSelect.push({ value: line, label: label });\n    }\n    if (this.state.selectCoordinateSpaceDefault) {\n      for (const line of stockTmpCoordinatesSpace) {\n        if (line.id === this.state.selectCoordinateSpaceDefault.value?.id) {\n          valueExist = true;\n          break;\n        }\n      }\n    }\n    // dev\n    // this.setState(prevState => ({\n    //   selectCoordinateSpace: valueSelect,\n    //   selectCoordinateSpaceDefault: valueExist\n    //     ? prevState.selectCoordinateSpaceDefault\n    //     : valueSelect.length > 0\n    //     ? valueSelect[0]\n    //     : prevState.selectCoordinateSpaceDefault,\n    // }));\n    this.setState((prevState) => ({\n      selectCoordinateSpace: valueSelect,\n      selectCoordinateSpaceDefault: valueExist ? prevState.selectCoordinateSpaceDefault : valueSelect.length > 0 ? valueSelect[0] : [],\n    }));\n    // final\n    // this.setState({\n    // \tselectCoordinateSpace: valueSelect,\n    // \tselectCoordinateSpaceDefault: (valueSelect.length > 0) ?\n    // \t\tvalueSelect[0] : this.state.selectCoordinateSpaceDefault,\n    // });\n  };\n\n  /** fill data for select */\n  componentDidMount = () => {\n    this.fillSelectOrientedLink();\n  };\n\n  /** update state if value props change */\n  componentDidUpdate = (prevProps: Props) => {\n    if (prevProps.options.arrayOrientedLinks !== this.props.options.arrayOrientedLinks) {\n      this.fillSelectOrientedLink();\n    }\n    if (prevProps.options.newOrientedLink) {\n      this.fillSelectOrientedLink();\n      this.props.options.newOrientedLink = false;\n    }\n  };\n\n  /** return html */\n  render() {\n    return (\n      <div>\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Select Oriented Link</FormLabel>\n          <Select\n            onChange={(value) => this.onChangeSelectCoordinate(value)}\n            allowCustomValue={false}\n            options={this.state.selectCoordinateSpace}\n            width={10}\n            value={this.state.selectCoordinateSpaceDefault}\n          />\n        </div>\n        <br />\n        <div>\n          {this.state.selectCoordinateSpaceDefault.value ? (\n            <OrientedLink\n              options={this.props.options}\n              onOptionsChange={this.props.onOptionsChange}\n              data={this.props.data}\n              orientedLink={this.state.selectCoordinateSpaceDefault.value}\n              callBackToParent={this.callBack}\n              isAddLink={false}\n            />\n          ) : (\n            <p\n              style={{\n                textAlign: 'center',\n                fontSize: '20px',\n                marginTop: '50px',\n              }}\n            >\n              Data not set\n            </p>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\nexport default EditOrientedLink;\n","import React from 'react';\nimport { Tab, TabsBar, TabContent } from '@grafana/ui';\nimport { PanelEditorProps } from '@grafana/data';\nimport { SimpleOptions } from 'types';\nimport EditCoordinateSpace from './editCoordinateSpace';\nimport EditPoint from './point/editPoint';\nimport EditOrientedLink from './orientedLink/editOrientedLink';\nimport AddCoordinate from './addCoordinate';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {\n  isRegion: boolean;\n  isPoint: boolean;\n  isLink: boolean;\n}\n\ninterface State {\n  /** manage tabs focus */\n  tabsVariable: boolean[];\n}\n\n/**\n * def class\n */\nclass ManageCoordinateSpace extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      tabsVariable: [false, true],\n    };\n  }\n\n  /** after save pass to edit mode */\n  returnEditMode = () => {\n    this.setState({\n      tabsVariable: [false, true],\n    });\n  };\n\n  /**\n   * switch tab\n   * @param {number} id id to to new tab\n   */\n  goToTab = (id: number): void => {\n    const oldValue: boolean[] = this.state.tabsVariable.slice();\n    const size: number = oldValue.length;\n    for (let i = 0; i < size; i++) {\n      oldValue[i] = i === id ? true : false;\n    }\n    this.setState({\n      tabsVariable: oldValue,\n    });\n  };\n\n  private contentTabEdit = (): JSX.Element => {\n    let result: JSX.Element = <div></div>;\n    if (this.props.isRegion) {\n      result = (\n        <div>\n          <EditCoordinateSpace onOptionsChange={this.props.onOptionsChange} options={this.props.options} data={this.props.data} />\n        </div>\n      );\n    } else if (this.props.isPoint) {\n      result = (\n        <div>\n          <EditPoint onOptionsChange={this.props.onOptionsChange} options={this.props.options} data={this.props.data} />\n        </div>\n      );\n    } else if (this.props.isLink) {\n      result = (\n        <div>\n          <EditOrientedLink onOptionsChange={this.props.onOptionsChange} options={this.props.options} data={this.props.data} />\n        </div>\n      );\n    }\n    return result;\n  };\n\n  /** result */\n  render() {\n    if (!this.props.isLink) {\n      return (\n        <div>\n          <TabsBar className=\"page-header tabs\" hideBorder={false}>\n            <Tab\n              key=\"tabDisplayCoordinateSpaceAdd\"\n              label=\"Add coordinate space\"\n              active={this.state.tabsVariable[0]}\n              onChangeTab={() => this.goToTab(0)}\n            />\n            <Tab\n              key=\"tabDisplayCoordinateSpaceEdit\"\n              label=\"Edit coordinate space\"\n              active={this.state.tabsVariable[1]}\n              onChangeTab={() => this.goToTab(1)}\n            />\n          </TabsBar>\n          <TabContent>\n            {this.state.tabsVariable[0] && (\n              <AddCoordinate\n                onOptionsChange={this.props.onOptionsChange}\n                options={this.props.options}\n                data={this.props.data}\n                returnEditMode={this.returnEditMode}\n                isRegion={this.props.isRegion}\n                isPoint={this.props.isPoint}\n                isLink={this.props.isLink}\n              />\n            )}\n            {this.state.tabsVariable[1] && this.contentTabEdit()}\n          </TabContent>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <TabsBar className=\"page-header tabs\" hideBorder={false}>\n            <Tab\n              key=\"tabDisplayCoordinateSpaceEdit\"\n              label=\"Edit coordinate space\"\n              active={this.state.tabsVariable[1]}\n              onChangeTab={() => this.goToTab(1)}\n            />\n          </TabsBar>\n          <TabContent>{this.state.tabsVariable[1] && this.contentTabEdit()}</TabContent>\n        </div>\n      );\n    }\n  }\n}\nexport default ManageCoordinateSpace;\n","import React, { FunctionComponent } from 'react';\nimport { Select } from '@grafana/ui';\nimport { SelectableValue } from '@grafana/data';\n\ntype InputSelectProps = {\n  _onChange: Function;\n  data: Array<SelectableValue<string>>;\n  defaultValue: SelectableValue<string>;\n};\n\nconst InputSelect: FunctionComponent<InputSelectProps> = ({ _onChange, data, defaultValue }) => (\n  <div>\n    <Select onChange={(value) => _onChange(value)} allowCustomValue={false} options={data} width={30} value={defaultValue} />\n  </div>\n);\n\nexport default InputSelect;\n","import React from 'react';\nimport { SimpleOptions, Background } from 'types';\n\nimport { SelectableValue, PanelEditorProps } from '@grafana/data';\nimport { FormField, Switch, FormLabel } from '@grafana/ui';\n\nimport InputSelect from 'Functions/Input/inputSelect';\nimport StyleComponent, { Style } from './Parametrage/styleComponent';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  /** police choice in select */\n  newPolice: SelectableValue<string>;\n  /** size variable for input */\n  size: string;\n  /** style variable for input */\n  style: Style;\n}\n\n/**\n * class to manage police, size and style\n */\nclass Display extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      newPolice: {\n        value: this.props.options.display.police,\n        label: this.props.options.display.police,\n      },\n      size: this.props.options.display.size,\n      style: this.props.options.display.style,\n    };\n  }\n\n  /**\n   * call parent with new data\n   */\n  callParent = () => {\n    const { newPolice, size, style } = this.state;\n    const pPolice: string = newPolice.value || '';\n    const pSize = size;\n    const pStyle = style;\n\n    this.props.onOptionsChange({\n      ...this.props.options,\n      display: {\n        police: pPolice,\n        size: pSize,\n        style: pStyle,\n      },\n    });\n  };\n\n  /**\n   * set police state async\n   */\n  setStateAsyncPolice = (state: {\n    /** new police value */\n    newPolice: SelectableValue<string>;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n      this.callParent();\n    });\n  };\n\n  /**\n   * set size state async\n   */\n  setStateAsyncsize = (state: {\n    /** new size value */\n    size: string;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n      this.callParent();\n    });\n  };\n\n  /**\n   * set style state async\n   */\n  setStateAsyncStyle = (state: {\n    /** new style value */\n    style: Style;\n  }) => {\n    return new Promise((resolve) => {\n      this.setState(state, resolve);\n      this.callParent();\n    });\n  };\n\n  /**\n   * edit size\n   */\n  handleChangesize = async (event: {\n    /** target to input element */\n    target: HTMLInputElement;\n  }) => {\n    await this.setStateAsyncsize({\n      size: event.target.value,\n    });\n    this.callParent();\n  };\n\n  // /**\n  //  * edit style\n  //  */\n  // handleChangeStyle = async (event: {\n  //   /** target to input element */\n  //   target: HTMLInputElement;\n  // }) => {\n  //   await this.setStateAsyncStyle({\n  //     style: event.target.value,\n  //   });\n  //   this.callParent();\n  // };\n\n  /**\n   * edit police\n   */\n  onChangePolice = async (value: SelectableValue<string>) => {\n    await this.setStateAsyncPolice({\n      newPolice: value,\n    });\n    this.callParent();\n  };\n\n  /**\n   * Change background picture\n   */\n  onImageChanged = (e: {\n    /**\n     * Get target element\n     */\n    target: HTMLInputElement;\n  }) => {\n    const newBaseMap: Background = this.props.options.baseMap;\n    const image = e.target.value;\n    //const arrayImage = image.split('.');\n    newBaseMap.image = image;\n    // if (image.split(',')[0] === 'base64') {\n    //   // on ne fait rien car la base 64 peut être un jpeg ou un svg\n    //   // l'utilisateur doit bien le spécifier avant sur le switch Use SVG\n    // } else if (image.split('.')[arrayImage.length - 1] === 'svg') {\n    //   // si la valeur renseignée est une url et que l'extension du fichier est svg\n    //   // on passe automatiquement le swith Use SVG à true\n    //   newBaseMap.modeSVG = true;\n    // } else {\n    //   // si la valeur renseignée est une url et que l'extension du fichier n'est pas un svg\n    //   // on passe automatiquement le swith Use SVG à false\n    //   newBaseMap.modeSVG = false;\n    // }\n    this.props.onOptionsChange({\n      ...this.props.options,\n      baseMap: newBaseMap,\n    });\n    // this.props.onOptionsChange({ ...this.props.options, imageUrl: event.target.value });\n  };\n\n  /** edit modeSVG */\n  onChangeSwitchModeSVG = () => {\n    const { options, onOptionsChange } = this.props;\n    const oldValue: Background = options.baseMap;\n\n    oldValue.modeSVG = !oldValue.modeSVG;\n    onOptionsChange({ ...options, baseMap: oldValue });\n  };\n\n  /** edit modeSVG */\n  onChangeHeightBaseMap = (e: {\n    /** new value for height */\n    target: HTMLInputElement;\n  }) => {\n    this.props.options.updateOnlyInitialSpace = false;\n    const { options, onOptionsChange } = this.props;\n    const oldValue: Background = options.baseMap;\n\n    oldValue.height = e.target.value;\n    onOptionsChange({ ...options, baseMap: oldValue });\n  };\n\n  /** edit modeSVG */\n  onChangeWidthBaseMap = (e: {\n    /** new value for width */\n    target: HTMLInputElement;\n  }) => {\n    this.props.options.updateOnlyInitialSpace = false;\n    const { options, onOptionsChange } = this.props;\n    const oldValue: Background = options.baseMap;\n\n    oldValue.width = e.target.value;\n    onOptionsChange({ ...options, baseMap: oldValue });\n  };\n\n  saveStyleData = (style: Style): void => {\n    this.setStateAsyncStyle({ style: style });\n  };\n\n  uploadImage = (event: any) => {\n    const readerFile: FileReader = new FileReader();\n    const selectedFile: any = event.target.files[0];\n    const extensionFile = selectedFile.name.split('.')[1];\n    let file: any;\n    if (extensionFile === 'jpg' || extensionFile === 'png' || extensionFile === 'gif') {\n      readerFile.readAsDataURL(selectedFile);\n    } else {\n      readerFile.readAsText(selectedFile);\n    }\n    readerFile.onload = function () {\n      file = readerFile.result;\n    };\n\n    setTimeout(() => {\n      let newBaseMap: Background = this.props.options.baseMap;\n      if (extensionFile === 'svg') {\n        newBaseMap.image = file;\n        newBaseMap.modeSVG = true;\n        newBaseMap.isUploaded = true;\n        newBaseMap.nameUploadedImage = selectedFile.name;\n      } else if (extensionFile === 'jpg' || extensionFile === 'png' || extensionFile === 'gif') {\n        newBaseMap.image = file;\n        newBaseMap.modeSVG = false;\n        newBaseMap.isUploaded = true;\n        newBaseMap.nameUploadedImage = selectedFile.name;\n      }\n      this.props.onOptionsChange({\n        ...this.props.options,\n        baseMap: newBaseMap,\n      });\n    }, 1000);\n  };\n\n  defineValueImage = (): string => {\n    let result = '';\n    if (!this.props.options.baseMap.isUploaded) {\n      result = this.props.options.baseMap.image || '';\n    }\n    return result;\n  };\n\n  /**\n   * html\n   */\n  render() {\n    const { options } = this.props;\n\n    const police: Array<SelectableValue<string>> = [\n      { value: 'Helvetica', label: 'Helvetica' },\n      { value: 'Arial', label: 'Arial' },\n      { value: 'sans-serif', label: 'sans-serif' },\n      { value: 'mono', label: 'mono' },\n    ];\n\n    const l10n = require('Localization/en.json');\n\n    return (\n      <div>\n        <div style={{ display: 'flex', marginBottom: 1 }}>\n          <div style={{ marginBottom: '1px' }}>\n            <FormLabel width={15}>Police</FormLabel>\n          </div>\n          <InputSelect _onChange={this.onChangePolice} data={police} defaultValue={this.state.newPolice} />\n        </div>\n\n        <FormField\n          label={l10n.textDefault.size}\n          labelWidth={15}\n          inputWidth={30}\n          required={true}\n          value={this.state.size}\n          onChange={this.handleChangesize}\n        />\n\n        <StyleComponent oldStyle={this.state.style} saveParent={this.saveStyleData} />\n        {/* \n        <FormField\n          label={l10n.textDefault.style}\n          labelWidth={10}\n          inputWidth={15}\n          required={true}\n          value={this.state.style}\n          onChange={this.handleChangeStyle}\n        /> */}\n\n        <div style={{ display: 'flex' }}>\n          <FormLabel width={15}>Use SVG</FormLabel>\n          <Switch labelClass=\"\" label=\"\" checked={options.baseMap.modeSVG} onChange={this.onChangeSwitchModeSVG} />\n        </div>\n        {/* {options.baseMap.modeSVG ? (\n          <FormField\n            label={l10n.simpleEditor.pictureLink}\n            labelWidth={10}\n            inputWidth={30}\n            type=\"text\"\n            onChange={this.onImageChanged}\n            value={options.baseMap.image || ''}\n          />\n        ) : ( */}\n        <div>\n          <FormField\n            label={'Image'}\n            labelWidth={15}\n            inputWidth={30}\n            placeholder={'URL'}\n            type=\"text\"\n            onChange={this.onImageChanged}\n            value={this.defineValueImage()}\n          />\n          <div style={{ display: 'flex', margin: '2px 0' }}>\n            <FormLabel width={15}>Upload Image</FormLabel>\n            <input\n              style={{ border: '1px solid #262628', borderRadius: '0 3px 3px 0', width: '416px' }}\n              type=\"file\"\n              name=\"file\"\n              onChange={this.uploadImage}\n            />\n            <p style={{ margin: '10px 0 0 10px', fontSize: '10px' }}>{this.props.options.baseMap.nameUploadedImage || ''}</p>\n          </div>\n          <FormField\n            label=\"Width\"\n            labelWidth={15}\n            inputWidth={30}\n            type=\"text\"\n            onChange={this.onChangeWidthBaseMap}\n            value={options.baseMap.width || '0'}\n          />\n          <FormField\n            label=\"Height\"\n            labelWidth={15}\n            inputWidth={30}\n            type=\"text\"\n            onChange={this.onChangeHeightBaseMap}\n            value={options.baseMap.height || '0'}\n          />\n        </div>\n        {/* )} */}\n      </div>\n    );\n  }\n}\n\nexport default Display;\n","//import { SimpleOptions, GlobalGabarit, GabaritFile, TemplateGabaritLink, TemplateGabaritPoint, TemplateGabaritRegion } from '../types';\n//import { Button } from '@grafana/ui';\n\nimport { Coord4D } from 'Models/RegionClass';\n\n// import { PointClass } from '../Models/PointClass';\n// import { RegionClass, Coord4D } from '../Models/RegionClass';\n// import { OrientedLinkClass } from '../Models/OrientedLinkClass';\n\nexport interface LabelCoord2D {\n  x: string;\n  y: string;\n}\n\nexport const coordParse = (coord: string) => {\n  let tmp: string[] = coord.split('#');\n  let result: LabelCoord2D = { x: '', y: '' };\n  result.x = tmp[0].split('|')[1];\n  result.y = tmp[1].split('|')[1];\n  return result;\n};\n\n// Coord Region\nexport const coordParseRegion = (coord: string) => {\n  let tt: string[] = coord.split('#');\n  let result: Coord4D = { xMin: '', xMax: '', yMin: '', yMax: '' };\n  result.xMin = tt[0].split('|')[1];\n  result.xMax = tt[1].split('|')[1];\n  result.yMin = tt[2].split('|')[1];\n  result.yMax = tt[3].split('|')[1];\n  return result;\n};\n\nexport interface Filtred {\n  label: string;\n  value: string;\n}\n\n// FilterParse Region\n\nexport const filterParseRegion = (filter: string) => {\n  let tt: string[] = filter.split('#');\n  let result: Filtred[] = [];\n  tt.forEach((element) => {\n    let split: string[] = element.split('|');\n    result.push({ label: split[0], value: split[1] });\n  });\n  return result;\n};\n\nexport const filterParse = (filter: string) => {\n  if (filter.length > 0) {\n    let tmp: string[] = filter.split('#');\n    let result: Filtred[] = [];\n    tmp.forEach((element) => {\n      let split: string[] = element.split('|');\n      result.push({ label: split[0], value: split[1] });\n    });\n    return result;\n  }\n  return [];\n};\n","import React from 'react';\nimport { PanelEditorProps, SelectableValue } from '@grafana/data';\n// add Metadata\nimport { SimpleOptions, GabaritFile, Metric, Metadata, MetaFile } from '../types';\nimport { FormField, Button, Collapse, FormLabel, Select } from '@grafana/ui';\n//import /*pointClassImport, regionClassImport, gabaritPointClassImport, gabaritRegionClassImport */ '../../config/testVariable';\nimport { coordParse, LabelCoord2D, Filtred, filterParse, coordParseRegion, filterParseRegion } from '../Functions/loaderGabarit';\n//import { LinkURLClass } from 'Models/LinkURLClass';\n//import { PositionParameterClass } from 'Models/PositionParameterClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { PositionParameterClass } from 'Models/PositionParameterClass';\nimport { LinkURLClass } from 'Models/LinkURLClass';\n//import { LowerLimitClass } from 'Models/LowerLimitClass';\n//import { TextObject } from 'Models/TextObjectClass';\n\nimport { reqMetricPoint, reqMetricOrientedLink } from '../Functions/fetchMetrics';\n\nimport { PointClass } from 'Models/PointClass';\nimport { TextObject, GenerateTextObject } from 'Models/TextObjectClass';\nimport { Style } from 'components/Parametrage/styleComponent';\nimport { RegionClass, Coord4D } from 'Models/RegionClass';\nimport { searchNameIsFilter } from 'Functions/getResultQuery';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\n// import { initRegionCoordinateSpace } from 'Functions/initRegionCoordinateSpace';\n// import { LowerLimitClass } from 'Models/LowerLimitClass';\n// import { initPoint } from 'Functions/initPoint';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\n/*\n * TODO\n */\n\ninterface State {\n  selectQuerryID: Array<SelectableValue<string>>;\n  collapseSelectURL: boolean;\n  collapseGabarit: boolean;\n  collapseGabaritDefault: boolean;\n}\n\n// interface SelectQueryID {\n//   value: string;\n//   label: string;\n// }\n\nclass Gabarit extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      selectQuerryID: [\n        { label: 'A', value: 'A' },\n        { label: 'B', value: 'B' },\n        { label: 'C', value: 'C' },\n        { label: 'D', value: 'D' },\n        { label: 'E', value: 'E' },\n        { label: 'F', value: 'F' },\n        { label: 'G', value: 'G' },\n        { label: 'H', value: 'H' },\n        { label: 'I', value: 'I' },\n        { label: 'J', value: 'J' },\n        { label: 'K', value: 'K' },\n        { label: 'L', value: 'L' },\n        { label: 'M', value: 'M' },\n        { label: 'N', value: 'N' },\n        { label: 'O', value: 'O' },\n        { label: 'P', value: 'P' },\n        { label: 'Q', value: 'Q' },\n        { label: 'R', value: 'R' },\n        { label: 'S', value: 'S' },\n        { label: 'T', value: 'T' },\n        { label: 'U', value: 'U' },\n        { label: 'V', value: 'V' },\n        { label: 'W', value: 'W' },\n        { label: 'X', value: 'X' },\n        { label: 'Y', value: 'Y' },\n        { label: 'Z', value: 'Z' },\n      ],\n      collapseSelectURL: false,\n      collapseGabarit: false,\n      collapseGabaritDefault: true,\n    };\n  }\n  result: any[] = [];\n\n  /**************************************CATCH******************************************/\n\n  onChangeSelectQuerryID = (value: SelectableValue<string>, index: number) => {\n    let newGabaritFile: GabaritFile[] = this.props.options.saveGabaritFile;\n    newGabaritFile[index].queryID = value.value!;\n    this.props.onOptionsChange({\n      ...this.props.options,\n      saveGabaritFile: newGabaritFile,\n    });\n  };\n\n  onToggleSelectUrl = (isOpen: boolean): void => {\n    this.setState({\n      collapseSelectURL: isOpen,\n    });\n  };\n\n  UrlValidator = (url: string) => {\n    let result = true;\n    for (let index in this.props.options.saveGabaritURL) {\n      if (this.props.options.saveGabaritURL[index] === url) {\n        result = false;\n        break;\n      }\n    }\n    return result;\n  };\n\n  GabaritValidator = (name: string) => {\n    let result = true;\n    this.props.options.saveGabaritFile.forEach((element) => {\n      if (element.fileName === name) {\n        console.log('LoadGabaritFileReject');\n        result = false;\n      }\n    });\n    return result;\n  };\n\n  /**************************************LOADER******************************************/\n\n  // quantile|0.5#slice|inner_eval\n  loadGabarit = (file: any, url: string) => {\n    let name = url.split('/');\n    if (this.GabaritValidator(name[name.length - 1])) {\n      let newGabarit: GabaritFile = {\n        queryID: 'null',\n        fileName: name[name.length - 1],\n        loaded: false,\n        globalGabarit: file.global,\n        templateGabaritPoint: [],\n        templateGabaritRegion: [],\n        templateGabaritLink: [],\n        templateGabaritPointDefault: [],\n        templateGabaritRegionDefault: [],\n        templateGabaritLinkDefault: [],\n      };\n      file.templates.forEach((gab: any) => {\n        if (gab.type === 'point') {\n          newGabarit.templateGabaritPoint.push(gab);\n        }\n        if (gab.type === 'region') {\n          newGabarit.templateGabaritRegion.push(gab);\n        }\n        if (gab.type === 'link') {\n          newGabarit.templateGabaritLink.push(gab);\n        }\n      });\n      file.default.templates.forEach((gab: any) => {\n        if (gab.type === 'point') {\n          newGabarit.templateGabaritPointDefault.push(gab);\n        }\n        if (gab.type === 'region') {\n          newGabarit.templateGabaritRegionDefault.push(gab);\n        }\n        if (gab.type === 'link') {\n          newGabarit.templateGabaritLinkDefault.push(gab);\n        }\n      });\n      this.props.options.saveGabaritFile.push(newGabarit);\n    }\n  };\n\n  fetchUrl = async (url: string) => {\n    try {\n      let file = {};\n      let response = await fetch(url);\n\n      file = await response.json();\n      return file;\n    } catch (error) {\n      console.error(error);\n    }\n    return null;\n  };\n\n  loadDefaultGabarit = async (file: any, url: string) => {\n    let name = url.split('/');\n    let newGabarit: GabaritFile = {\n      queryID: 'null',\n      fileName: name[name.length - 1],\n      loaded: false,\n      globalGabarit: file.global,\n      templateGabaritPoint: [],\n      templateGabaritRegion: [],\n      templateGabaritLink: [],\n      templateGabaritPointDefault: [],\n      templateGabaritRegionDefault: [],\n      templateGabaritLinkDefault: [],\n    };\n    file.default.templates.forEach((gab: any) => {\n      if (gab.type === 'point') {\n        newGabarit.templateGabaritPointDefault.push(gab);\n      }\n      if (gab.type === 'region') {\n        newGabarit.templateGabaritRegionDefault.push(gab);\n      }\n      if (gab.type === 'link') {\n        newGabarit.templateGabaritLinkDefault.push(gab);\n      }\n    });\n    this.props.options.gabaritDefault = newGabarit;\n  };\n\n  fetchGabarit = () => {\n    //this.result = fetchConfFile(this.props.options.saveGabaritURL);\n    this.props.options.saveGabaritURL.forEach(async (url) => {\n      try {\n        let file = {};\n        let response = await fetch(url);\n        file = await response.json();\n        this.loadGabarit(file, url);\n        this.setState({\n          collapseGabarit: true,\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    });\n  };\n\n  /**************************************CHECK TOLOAD/ADD FILTER******************************************/\n\n  addFilterDynamic = (metric: Metric, label: LabelCoord2D, value: LabelCoord2D) => {\n    let result: Metric = {\n      key: metric.key,\n      unit: metric.unit,\n      format: metric.format,\n      keyValue: metric.keyValue,\n      filter: JSON.parse(JSON.stringify(metric.filter)),\n      refId: metric.refId,\n      expr: metric.expr,\n      returnQuery: metric.returnQuery,\n      manageValue: metric.manageValue,\n    };\n    if (label.x !== value.x) {\n      result.filter!.push({ label: label.x, value: value.x });\n    }\n    if (label.y !== value.y) {\n      result.filter!.push({ label: label.y, value: value.y });\n    }\n    return result;\n  };\n\n  checkCoordinateFilterPoint = (point: PointClass, props: any) => {\n    reqMetricPoint(point, props);\n    let valid = false;\n    point.mainMetric.returnQuery?.forEach((dataFrame) => {\n      const result = searchNameIsFilter(dataFrame, point.mainMetric);\n      if (result) {\n        this.props.options.arrayPoints.push(point);\n        valid = true;\n        return true;\n      } else {\n        return false;\n      }\n    });\n    return valid;\n  };\n\n  checkCoordinateFilterLink = (link: OrientedLinkClass, props: any) => {\n    reqMetricOrientedLink(link, props);\n    link.mainMetric.returnQuery?.forEach((dataFrame) => {\n      const result = searchNameIsFilter(dataFrame, link.mainMetric);\n      if (result) {\n        this.props.options.arrayOrientedLinks.push(link);\n        return true;\n      } else {\n        console.log('Filter not found -> no load');\n        return false;\n      }\n    });\n    return false;\n  };\n\n  /**************************************INPUT******************************************/\n\n  onToggleGabaritUrl = (isOpen: boolean): void => {\n    this.setState({\n      collapseSelectURL: isOpen,\n    });\n  };\n\n  onToggleGabaritDefault = (isOpen: boolean): void => {\n    this.setState({\n      collapseGabaritDefault: isOpen,\n    });\n  };\n\n  onToggleGabarit = (isOpen: boolean): void => {\n    this.setState({\n      collapseGabarit: isOpen,\n    });\n  };\n\n  onGabaritUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData = '';\n    newData = event.currentTarget.value;\n    this.props.onOptionsChange({ ...this.props.options, gabaritUrlInput: newData });\n  };\n\n  /*\n   * add url for default gabarit\n   */\n  onGabaritDefaultUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData = '';\n\n    newData = event.currentTarget.value;\n    this.props.onOptionsChange({ ...this.props.options, saveGabaritDefaultUrl: newData });\n  };\n\n  onGabaritListUrlChanged = (event: { currentTarget: HTMLInputElement }) => {\n    let newData: string[] = this.props.options.saveGabaritURL.slice();\n    newData[parseInt(event.currentTarget.id, 10)] = event.currentTarget.value;\n    this.props.options.saveGabaritURL = newData;\n    this.props.onOptionsChange({ ...this.props.options, saveGabaritURL: this.props.options.saveGabaritURL });\n  };\n\n  addGabaritUrlInput = (onClick: { currentTarget: HTMLButtonElement }) => {\n    let valid = true;\n    this.props.options.saveGabaritURL.forEach((element) => {\n      if (this.props.options.gabaritUrlInput === element) {\n        valid = false;\n      }\n    });\n    if (valid === true) {\n      this.props.options.saveGabaritURL.push(this.props.options.gabaritUrlInput);\n      this.props.options.gabaritUrlInput = '';\n      this.props.onOptionsChange({ ...this.props.options, saveGabaritURL: this.props.options.saveGabaritURL });\n    }\n  };\n\n  addGabaritDefaultUrlInput = async (onClick: { currentTarget: HTMLButtonElement }) => {\n    try {\n      const url = this.props.options.saveGabaritDefaultUrl;\n      let file = {};\n      let response = await fetch(this.props.options.saveGabaritDefaultUrl);\n\n      // update fileName to display in input 'GabaritDefault' of collapse 'Default Gabarit URL'\n      const newFileName = url.split('/')[url.split('/').length - 1];\n      let newGabaritDefault: GabaritFile = this.props.options.gabaritDefault;\n      newGabaritDefault.fileName = newFileName;\n      this.props.onOptionsChange({ ...this.props.options, gabaritDefault: newGabaritDefault });\n\n      file = await response.json();\n      this.loadDefaultGabarit(file, url);\n      this.setState({\n        collapseSelectURL: true,\n      });\n    } catch (error) {\n      console.log('Default gabarit error:');\n      console.error(error);\n    }\n  };\n\n  gabaritDeletUrl = (onClick: { currentTarget: HTMLButtonElement }) => {\n    const isUrl = (url: string) => url === this.props.options.saveGabaritURL[parseInt(onClick.currentTarget.id, 10)];\n    this.props.options.saveGabaritURL.splice(this.props.options.saveGabaritURL.findIndex(isUrl), 1);\n    this.props.onOptionsChange({ ...this.props.options, saveGabaritURL: this.props.options.saveGabaritURL });\n  };\n\n  gabaritDeletFile = (onClick: { currentTarget: HTMLButtonElement }) => {\n    const isGabarit = (gabarit: GabaritFile) => gabarit === this.props.options.saveGabaritFile[parseInt(onClick.currentTarget.id, 10)];\n    this.props.options.saveGabaritFile.splice(this.props.options.saveGabaritFile.findIndex(isGabarit), 1);\n    this.props.onOptionsChange({ ...this.props.options, saveGabaritFile: this.props.options.saveGabaritFile });\n  };\n\n  gabaritDeletFileDefault = (onClick: { currentTarget: HTMLButtonElement }) => {\n    this.props.options.gabaritDefault = {\n      queryID: 'A',\n      fileName: '',\n      loaded: false,\n      globalGabarit: {\n        lowerLimit: [\n          {\n            id: 0,\n            lowerLimitMin: '',\n            lowerLimitMax: '',\n            backColor: 'blue',\n            borderColor: 'red',\n            sizeBorder: '1',\n          },\n        ],\n        textObject: {\n          value: 'default',\n          isTextTooltip: 'false',\n          colorBack: 'blue',\n          colorText: 'black',\n          style: {\n            bold: 'false',\n            italic: 'false',\n            underline: 'false',\n          },\n          generateObjectText: 'false',\n          valueGenerateObjectText: {\n            legendElement: 'default',\n            numericFormatElement: 'default',\n            unit: 'default',\n            displayObjectInTooltip: 'false',\n            addColorTextElement: 'false',\n            colorTextElement: 'black',\n            addColorBackElement: 'false',\n            colorBackElement: 'white',\n          },\n          generateAuxiliaryElement: {\n            legendElement: 'default',\n            numericFormatElement: 'default',\n            unit: 'default',\n            displayObjectInTooltip: 'false',\n            addColorTextElement: 'false',\n            colorTextElement: 'black',\n            addColorBackElement: 'false',\n            colorBackElement: 'white',\n          },\n        },\n        defaultColor: 'black',\n        colorMode: 'true',\n        traceBack: 'true',\n        traceBorder: 'true',\n      },\n      templateGabaritPoint: [],\n      templateGabaritRegion: [],\n      templateGabaritLink: [],\n      templateGabaritPointDefault: [],\n      templateGabaritRegionDefault: [],\n      templateGabaritLinkDefault: [],\n    };\n    this.props.onOptionsChange({\n      ...this.props.options,\n      gabaritDefault: this.props.options.gabaritDefault,\n      saveGabaritDefaultUrl: '',\n    });\n  };\n\n  /**************************************LOADER******************************************/\n\n  checkLoaderGabarit = (onClick: { currentTarget: HTMLButtonElement }) => {\n    if (!this.props.options.saveGabaritFile[parseInt(onClick.currentTarget.id, 10)].loaded) {\n      this.loaderGabarit(this.props.options.saveGabaritFile[parseInt(onClick.currentTarget.id, 10)], parseInt(onClick.currentTarget.id, 10));\n      this.props.options.saveGabaritFile[parseInt(onClick.currentTarget.id, 10)].loaded = true;\n    } else {\n      console.log('loadGabaritReject');\n    }\n  };\n\n  metaConstructor = (metas: MetaFile[]) => {\n    let result: Metadata[] = [];\n    metas.forEach((meta, index) => {\n      let textObject = new TextObject(\n        '',\n        false,\n        meta.obj.colorBack,\n        meta.obj.colorText,\n        {\n          bold: this.transformStringToBoolean(meta.obj.style.bold),\n          italic: this.transformStringToBoolean(meta.obj.style.italic),\n          underline: this.transformStringToBoolean(meta.obj.style.underline),\n        },\n        false,\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: '',\n          addColorBackElement: false,\n          colorBackElement: '',\n        },\n        {\n          legendElement: '',\n          numericFormatElement: '',\n          unit: '',\n          displayObjectInTooltip: false,\n          addColorTextElement: false,\n          colorTextElement: meta.obj.colorText,\n          addColorBackElement: false,\n          colorBackElement: '',\n        }\n      );\n      result.push({ meta: meta.meta, obj: textObject });\n    });\n    return result;\n  };\n\n  transformStringToBoolean = (text: string): boolean => {\n    return text === 'true' ? true : false;\n  };\n\n  transformWithUpperCase = (oldSelectableValue: SelectableValue<boolean>): SelectableValue<boolean> => {\n    let newSelectableValue: SelectableValue<boolean>;\n    let newLabel = '';\n    (oldSelectableValue.label || '').split('').forEach((letter, index) => {\n      if (index === 0) {\n        newLabel += letter.toUpperCase();\n      } else {\n        newLabel += letter;\n      }\n    });\n    newSelectableValue = { label: newLabel, value: oldSelectableValue.value };\n    return newSelectableValue;\n  };\n\n  loaderGabarit = (gab: GabaritFile, idx: number | null) => {\n    let tmpLabelAPosition: LabelCoord2D;\n    let tmpLabelBPosition: LabelCoord2D;\n    let tmpToolTipA: SelectableValue<string>;\n    let tmpToolTipB: SelectableValue<string>;\n    /* Point */\n    //template\n    let filterPoint: Filtred[][] = [];\n    let posPoint: LabelCoord2D[] = [];\n    let namePoint: string[] = [];\n    // add metadata\n    let metaPoint: Metadata[][] = [];\n    let labelPoint: string[] = [];\n    let positionParameterPoint: PositionParameterClass[] = [];\n    let mainMetricPoint: Metric[] = [];\n    let metricPoint: Metric[][] = [];\n    let linkURLPoint: LinkURLClass[] = [];\n    let valueMetricPoint: string[] = [];\n    let drawGraphicMarkerPoint: Array<SelectableValue<string>> = [];\n    let shapePoint: Array<SelectableValue<string>> = [];\n    //let sizeWidthPoint: Array<SelectableValue<string>> = [];\n    let sizeWidthPoint: string[] = [];\n    let sizeHeightPoint: Array<SelectableValue<string>> = [];\n    let colorPoint: string[] = [];\n    let associateOrientedLinksInPoint: OrientedLinkClass[][] = [];\n    let associateOrientedLinksOutPoint: OrientedLinkClass[][] = [];\n    //global\n    let lowerLimit: LowerLimitClass[];\n    let colorMode: boolean;\n    let traceBack: boolean;\n    let traceBorder: boolean;\n    let textObj: TextObject;\n    let value: string;\n    let isTextTooltip: boolean;\n    let colorBack: string;\n    let colorText: string;\n    let style: Style;\n    let generateObjectText: boolean;\n    let generateValue: GenerateTextObject;\n    let generateAux: GenerateTextObject;\n\n    const widthBackground = parseInt(this.props.options.baseMap.width, 10);\n    const xMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin, 10);\n    const xMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax, 10);\n    const widthInitialSpace = xMaxInitialSpace - xMinInitialSpace;\n\n    const heightBackground = parseInt(this.props.options.baseMap.height, 10);\n    const yMinInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin, 10);\n    const yMaxInitialSpace = parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax, 10);\n    const heightInitialSpace = yMaxInitialSpace - yMinInitialSpace;\n\n    /* Region */\n    //Template\n\n    const gabaritFileTmp: GabaritFile = gab;\n\n    // GLOBAL\n\n    //colorMode = Boolean(gabaritFileTmp.globalGabarit.colorMode);\n    if (!gabaritFileTmp.globalGabarit.colorMode) {\n      //default\n      colorMode = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.colorMode);\n    } else {\n      //normal\n      colorMode = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.colorMode);\n    }\n\n    //traceBack = Boolean(gabaritFileTmp.globalGabarit.traceBack);\n    if (!gabaritFileTmp.globalGabarit.traceBack) {\n      //default\n      traceBack = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.traceBack);\n    } else {\n      //normal\n      traceBack = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.traceBack);\n    }\n\n    //traceBorder = Boolean(gabaritFileTmp.globalGabarit.traceBorder);\n    if (!gabaritFileTmp.globalGabarit.traceBorder) {\n      //default\n      traceBorder = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.traceBorder);\n    } else {\n      //normal\n      traceBorder = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.traceBorder);\n    }\n\n    ////// Text Object\n    value = gabaritFileTmp.globalGabarit.textObject.value;\n    if (!value) {\n      value = this.props.options.gabaritDefault.globalGabarit.textObject.value;\n    }\n\n    if (!gabaritFileTmp.globalGabarit.textObject.isTextTooltip) {\n      //default\n      isTextTooltip = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.textObject.isTextTooltip);\n    } else {\n      //normal\n      isTextTooltip = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.textObject.isTextTooltip);\n    }\n\n    colorBack = gabaritFileTmp.globalGabarit.textObject.colorBack;\n    if (!colorBack) {\n      colorBack = this.props.options.gabaritDefault.globalGabarit.textObject.colorBack;\n    }\n\n    colorText = gabaritFileTmp.globalGabarit.textObject.colorText;\n    if (!colorBack) {\n      colorText = this.props.options.gabaritDefault.globalGabarit.textObject.colorText;\n    }\n\n    if (!gabaritFileTmp.globalGabarit.textObject.generateObjectText) {\n      //default\n      generateObjectText = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.textObject.generateObjectText);\n    } else {\n      //normal\n      generateObjectText = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.textObject.generateObjectText);\n    }\n\n    // generateValue = {\n    //   legendElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.legendElement,\n    //   numericFormatElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.numericFormatElement,\n    //   unit: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.unit,\n    //   displayObjectInTooltip: Boolean(gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.displayObjectInTooltip),\n    //   addColorTextElement: Boolean(gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.addColorTextElement),\n    //   colorTextElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.colorTextElement,\n    //   addColorBackElement: Boolean(gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.addColorBackElement),\n    //   colorBackElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.colorBackElement,\n    // };\n\n    // if (!generateValue.unit) {\n    //   generateValue = {\n    //     legendElement: this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.legendElement,\n    //     numericFormatElement: this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.numericFormatElement,\n    //     unit: this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.unit,\n    //     displayObjectInTooltip: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.displayObjectInTooltip),\n    //     addColorTextElement: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.addColorTextElement),\n    //     colorTextElement: this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.colorTextElement,\n    //     addColorBackElement: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.addColorBackElement),\n    //     colorBackElement: this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.colorBackElement,\n    //   };\n    // }\n\n    generateValue = {\n      legendElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.legendElement,\n      numericFormatElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.numericFormatElement,\n      unit: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.unit,\n      displayObjectInTooltip: false,\n      addColorTextElement: false,\n      colorTextElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.colorTextElement,\n      addColorBackElement: false,\n      colorBackElement: gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.colorBackElement,\n    };\n\n    if (!gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.addColorTextElement) {\n      generateValue.addColorTextElement = this.transformStringToBoolean(\n        this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.addColorTextElement\n      );\n    } else {\n      generateValue.addColorTextElement = this.transformStringToBoolean(\n        gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.addColorTextElement\n      );\n    }\n    if (!generateValue.colorTextElement) {\n      generateValue.colorTextElement = this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.colorTextElement;\n    }\n    if (!gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.addColorBackElement) {\n      generateValue.addColorBackElement = this.transformStringToBoolean(\n        this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.addColorBackElement\n      );\n    } else {\n      generateValue.addColorBackElement = this.transformStringToBoolean(\n        gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.addColorBackElement\n      );\n    }\n    if (!generateValue.colorBackElement) {\n      generateValue.colorBackElement = this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.colorBackElement;\n    }\n    if (!gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.displayObjectInTooltip) {\n      generateValue.displayObjectInTooltip = this.transformStringToBoolean(\n        this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.displayObjectInTooltip\n      );\n    } else {\n      generateValue.displayObjectInTooltip = this.transformStringToBoolean(\n        gabaritFileTmp.globalGabarit.textObject.valueGenerateObjectText.displayObjectInTooltip\n      );\n    }\n    if (!generateValue.legendElement) {\n      generateValue.legendElement = this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.legendElement;\n    }\n    if (!generateValue.numericFormatElement) {\n      generateValue.numericFormatElement = this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.numericFormatElement;\n    }\n    if (!generateValue.unit) {\n      generateValue.unit = this.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.unit;\n    }\n\n    // generateAux = {\n    //   legendElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.legendElement,\n    //   numericFormatElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.numericFormatElement,\n    //   unit: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.unit,\n    //   displayObjectInTooltip: Boolean(gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.displayObjectInTooltip),\n    //   addColorTextElement: Boolean(gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.addColorTextElement),\n    //   colorTextElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.colorTextElement,\n    //   addColorBackElement: Boolean(gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.addColorBackElement),\n    //   colorBackElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.colorBackElement,\n    // };\n\n    // if (!generateAux.unit) {\n    //   generateAux = {\n    //     legendElement: this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.legendElement,\n    //     numericFormatElement: this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.numericFormatElement,\n    //     unit: this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.unit,\n    //     displayObjectInTooltip: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.displayObjectInTooltip),\n    //     addColorTextElement: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.addColorTextElement),\n    //     colorTextElement: this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.colorTextElement,\n    //     addColorBackElement: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.addColorBackElement),\n    //     colorBackElement: this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.colorBackElement,\n    //   };\n    // }\n\n    generateAux = {\n      legendElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.legendElement,\n      numericFormatElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.numericFormatElement,\n      unit: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.unit,\n      displayObjectInTooltip: false,\n      addColorTextElement: false,\n      colorTextElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.colorTextElement,\n      addColorBackElement: false,\n      colorBackElement: gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.colorBackElement,\n    };\n\n    if (!gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.addColorBackElement) {\n      generateAux.addColorBackElement = this.transformStringToBoolean(\n        this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.addColorBackElement\n      );\n    } else {\n      generateAux.addColorBackElement = this.transformStringToBoolean(\n        gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.addColorBackElement\n      );\n    }\n    if (!generateAux.colorBackElement) {\n      generateAux.colorBackElement = this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.colorBackElement;\n    }\n    if (!gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.addColorTextElement) {\n      generateAux.addColorTextElement = this.transformStringToBoolean(\n        this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.addColorTextElement\n      );\n    } else {\n      generateAux.addColorTextElement = this.transformStringToBoolean(\n        gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.addColorTextElement\n      );\n    }\n    if (!generateAux.colorTextElement) {\n      generateAux.colorTextElement = this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.colorTextElement;\n    }\n    if (!gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.displayObjectInTooltip) {\n      generateAux.displayObjectInTooltip = this.transformStringToBoolean(\n        this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.displayObjectInTooltip\n      );\n    } else {\n      generateAux.displayObjectInTooltip = this.transformStringToBoolean(\n        gabaritFileTmp.globalGabarit.textObject.generateAuxiliaryElement.displayObjectInTooltip\n      );\n    }\n    if (!generateAux.legendElement) {\n      generateAux.legendElement = this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.legendElement;\n    }\n    if (!generateAux.numericFormatElement) {\n      generateAux.numericFormatElement = this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.numericFormatElement;\n    }\n    if (!generateAux.unit) {\n      generateAux.unit = this.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.unit;\n    }\n\n    // style = {\n    //   bold: Boolean(gabaritFileTmp.globalGabarit.textObject.style.bold),\n    //   italic: Boolean(gabaritFileTmp.globalGabarit.textObject.style.italic),\n    //   underline: Boolean(gabaritFileTmp.globalGabarit.textObject),\n    // };\n\n    // if (!style.bold) {\n    //   style = {\n    //     bold: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.style.bold),\n    //     italic: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.style.italic),\n    //     underline: Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.style.underline),\n    //   };\n    // }\n\n    style = { bold: false, italic: false, underline: false };\n\n    if (!gabaritFileTmp.globalGabarit.textObject.style.bold) {\n      //default\n      style.bold = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.textObject.style.bold);\n    } else {\n      //normal\n      style.bold = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.textObject.style.bold);\n    }\n\n    if (!gabaritFileTmp.globalGabarit.textObject.style.italic) {\n      //default\n      style.italic = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.textObject.style.italic);\n    } else {\n      //normal\n      style.italic = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.textObject.style.italic);\n    }\n\n    if (!gabaritFileTmp.globalGabarit.textObject.style.underline) {\n      //default\n      style.underline = this.transformStringToBoolean(this.props.options.gabaritDefault.globalGabarit.textObject.style.underline);\n    } else {\n      //normal\n      style.underline = this.transformStringToBoolean(gabaritFileTmp.globalGabarit.textObject.style.underline);\n    }\n\n    // textObj = new TextObject(\n    //   gabaritFileTmp.globalGabarit.textObject.value,\n    //   Boolean(gabaritFileTmp.globalGabarit.textObject.isTextTooltip),\n    //   gabaritFileTmp.globalGabarit.textObject.colorBack,\n    //   gabaritFileTmp.globalGabarit.textObject.colorText,\n    //   style,\n    //   Boolean(gabaritFileTmp.globalGabarit.textObject.generateObjectText),\n    //   generateValue,\n    //   generateAux\n    // );\n\n    textObj = new TextObject(value, isTextTooltip, colorBack, colorText, style, generateObjectText, generateValue, generateAux);\n\n    // if (!textObj.value) {\n    //   textObj = new TextObject(\n    //     this.props.options.gabaritDefault.globalGabarit.textObject.value,\n    //     Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.isTextTooltip),\n    //     this.props.options.gabaritDefault.globalGabarit.textObject.colorBack,\n    //     this.props.options.gabaritDefault.globalGabarit.textObject.colorText,\n    //     style,\n    //     Boolean(this.props.options.gabaritDefault.globalGabarit.textObject.generateObjectText),\n    //     generateValue,\n    //     generateAux\n    //   );\n    // }\n\n    /// Lower Limit\n    lowerLimit = gabaritFileTmp.globalGabarit.lowerLimit;\n    if (lowerLimit.length === 0) {\n      lowerLimit = this.props.options.gabaritDefault.globalGabarit.lowerLimit;\n    }\n\n    gabaritFileTmp.templateGabaritPoint.forEach((point, index) => {\n      if (point.labelfix === 'false') {\n        posPoint.push(coordParse(point.xylabel));\n        if (!posPoint[index].y || !posPoint[index].x) {\n          posPoint[index] = coordParse(gabaritFileTmp.templateGabaritPointDefault[0].xylabel);\n        }\n        if (!posPoint[index].y || !posPoint[index].x) {\n          posPoint[index] = coordParse(this.props.options.gabaritDefault.templateGabaritPointDefault[0].xylabel);\n        }\n      } else {\n        posPoint.push(coordParse(point.xylabelfix));\n        if (!posPoint[index].y || !posPoint[index].x) {\n          posPoint[index] = coordParse(gabaritFileTmp.templateGabaritPointDefault[0].xylabelfix);\n        }\n        if (!posPoint[index].y || !posPoint[index].x) {\n          posPoint[index] = coordParse(this.props.options.gabaritDefault.templateGabaritPointDefault[0].xylabelfix);\n        }\n      }\n      filterPoint.push(filterParse(point.filtered));\n      if (!filterPoint[index][0]) {\n        filterPoint[index] = filterParse(gabaritFileTmp.templateGabaritPointDefault[0].filtered);\n      }\n      if (!filterPoint[index][0]) {\n        filterPoint[index] = filterParse(this.props.options.gabaritDefault.templateGabaritPointDefault[0].filtered);\n      }\n      namePoint.push(point.name);\n      if (!namePoint[index]) {\n        namePoint[index] = gabaritFileTmp.templateGabaritPointDefault[0].name;\n      }\n      if (!namePoint[index]) {\n        namePoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].name;\n      }\n\n      metaPoint.push(this.metaConstructor(point.meta));\n      point.meta.forEach((oneMeta, indexMeta) => {\n        // BOLD\n        if (!oneMeta.obj.style.bold) {\n          metaPoint[index][indexMeta].obj.style.bold = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritPointDefault[0].meta[indexMeta].obj.style.bold\n          );\n        }\n        if (!oneMeta.obj.style.bold && !gabaritFileTmp.templateGabaritPointDefault[0].meta[indexMeta].obj.style.bold) {\n          metaPoint[index][indexMeta].obj.style.bold = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritPointDefault[0].meta[indexMeta].obj.style.bold\n          );\n        }\n        // ITALIC\n        if (!oneMeta.obj.style.italic) {\n          metaPoint[index][indexMeta].obj.style.italic = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritPointDefault[0].meta[indexMeta].obj.style.italic\n          );\n        }\n        if (!oneMeta.obj.style.italic && !gabaritFileTmp.templateGabaritPointDefault[0].meta[indexMeta].obj.style.italic) {\n          metaPoint[index][indexMeta].obj.style.italic = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritPointDefault[0].meta[indexMeta].obj.style.italic\n          );\n        }\n        // UNDERLINE\n        if (!oneMeta.obj.style.underline) {\n          metaPoint[index][indexMeta].obj.style.underline = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritPointDefault[0].meta[indexMeta].obj.style.underline\n          );\n        }\n        if (!oneMeta.obj.style.underline && !gabaritFileTmp.templateGabaritPointDefault[0].meta[indexMeta].obj.style.underline) {\n          metaPoint[index][indexMeta].obj.style.underline = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritPointDefault[0].meta[indexMeta].obj.style.underline\n          );\n        }\n      });\n      // if (!metaPoint[index]) {\n      //   metaPoint[index] = this.metaConstructor(gabaritFileTmp.templateGabaritPointDefault[0].meta);\n      // }\n\n      // if (!metaPoint[index]) {\n      //   metaPoint[index] = this.metaConstructor(this.props.options.gabaritDefault.templateGabaritPointDefault[0].meta);\n      // }\n      labelPoint.push(point.label); // c'est le label du point qui est afficher pour la selection\n      if (!labelPoint[index]) {\n        labelPoint[index] = gabaritFileTmp.templateGabaritPointDefault[0].label;\n      }\n      if (!labelPoint[index]) {\n        labelPoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].label;\n      }\n      mainMetricPoint.push({\n        key: point.mainMetric.key,\n        unit: point.mainMetric.unit,\n        format: point.mainMetric.format,\n        keyValue: '',\n        filter: filterPoint[index],\n        refId: gabaritFileTmp.queryID,\n        expr: '',\n        returnQuery: [],\n        manageValue: point.mainMetric.manageValue,\n      });\n      if (!mainMetricPoint[index].unit) {\n        mainMetricPoint[index] = {\n          key: gabaritFileTmp.templateGabaritPointDefault[0].mainMetric.key,\n          unit: gabaritFileTmp.templateGabaritPointDefault[0].mainMetric.unit,\n          format: gabaritFileTmp.templateGabaritPointDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterPoint[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: gabaritFileTmp.templateGabaritPointDefault[0].mainMetric.manageValue,\n        };\n      }\n      if (!mainMetricPoint[index].unit) {\n        mainMetricPoint[index] = {\n          key: this.props.options.gabaritDefault.templateGabaritPointDefault[0].mainMetric.key,\n          unit: this.props.options.gabaritDefault.templateGabaritPointDefault[0].mainMetric.unit,\n          format: this.props.options.gabaritDefault.templateGabaritPointDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterPoint[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: this.props.options.gabaritDefault.templateGabaritPointDefault[0].mainMetric.manageValue,\n        };\n      }\n      point.metrics.forEach((element) => {\n        metricPoint[index].push({\n          key: element.key,\n          unit: element.unit,\n          format: element.format,\n          keyValue: '',\n          filter: filterPoint[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: element.manageValue,\n        });\n      });\n      valueMetricPoint.push(point.valueMetric);\n      drawGraphicMarkerPoint.push({\n        label: point.drawGraphicMarker.label,\n        value: point.drawGraphicMarker.value,\n      });\n      //if (!drawGraphicMarkerPoint[index].label || !drawGraphicMarkerPoint[index].label) {\n      if (!drawGraphicMarkerPoint[index].label) {\n        drawGraphicMarkerPoint[index] = {\n          label: gabaritFileTmp.templateGabaritPointDefault[0].drawGraphicMarker.label,\n          value: gabaritFileTmp.templateGabaritPointDefault[0].drawGraphicMarker.value,\n        };\n      }\n      //if (!drawGraphicMarkerPoint[index].label || !drawGraphicMarkerPoint[index].label) {\n      if (!drawGraphicMarkerPoint[index].label) {\n        drawGraphicMarkerPoint[index] = {\n          label: this.props.options.gabaritDefault.templateGabaritPointDefault[0].drawGraphicMarker.label,\n          value: this.props.options.gabaritDefault.templateGabaritPointDefault[0].drawGraphicMarker.value,\n        };\n      }\n      shapePoint.push(point.shape);\n      if (!shapePoint[index]) {\n        shapePoint[index] = gabaritFileTmp.templateGabaritPointDefault[0].shape;\n      }\n      if (!shapePoint[index]) {\n        shapePoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].shape;\n      }\n      sizeWidthPoint.push(point.sizeWidth);\n      if (!sizeWidthPoint[index]) {\n        sizeWidthPoint[index] = gabaritFileTmp.templateGabaritPointDefault[0].sizeWidth;\n      }\n      if (!sizeWidthPoint[index]) {\n        sizeWidthPoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].sizeWidth;\n      }\n      sizeHeightPoint.push(point.sizeHeight);\n      if (!sizeHeightPoint[index]) {\n        sizeHeightPoint[index] = gabaritFileTmp.templateGabaritPointDefault[0].sizeHeight;\n      }\n      if (!sizeHeightPoint[index]) {\n        sizeHeightPoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].sizeHeight;\n      }\n      if (point.color.length !== 0) {\n        colorPoint.push(point.color);\n      } else {\n        colorPoint.push(gabaritFileTmp.globalGabarit.defaultColor);\n      }\n      if (!colorPoint[index]) {\n        colorPoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].color;\n      }\n      associateOrientedLinksInPoint.push(point.associateOrientedLinksIn);\n      if (!associateOrientedLinksInPoint[index]) {\n        associateOrientedLinksInPoint[index] = gabaritFileTmp.templateGabaritPointDefault[0].associateOrientedLinksIn;\n      }\n      if (!associateOrientedLinksInPoint[index]) {\n        associateOrientedLinksInPoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].associateOrientedLinksIn;\n      }\n      associateOrientedLinksOutPoint.push(point.associateOrientedLinksOut);\n      if (!associateOrientedLinksOutPoint[index]) {\n        associateOrientedLinksOutPoint[index] = gabaritFileTmp.templateGabaritPointDefault[0].associateOrientedLinksOut;\n      }\n      if (!associateOrientedLinksOutPoint[index]) {\n        associateOrientedLinksOutPoint[index] = this.props.options.gabaritDefault.templateGabaritPointDefault[0].associateOrientedLinksOut;\n      }\n      tmpToolTipA = { label: point.positionParameter.tooltipA.label, value: point.positionParameter.tooltipA.value };\n      if (!tmpToolTipA.label || !tmpToolTipA.value) {\n        tmpToolTipA = {\n          label: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.tooltipA.label,\n          value: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.tooltipA.value,\n        };\n      }\n      if (!tmpToolTipA.label || !tmpToolTipA.value) {\n        tmpToolTipA = {\n          label: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.tooltipA.label,\n          value: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.tooltipA.value,\n        };\n      }\n      tmpToolTipB = { label: point.positionParameter.tooltipB.label, value: point.positionParameter.tooltipB.value };\n      if (!tmpToolTipB.label || !tmpToolTipB.value) {\n        tmpToolTipB = {\n          label: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.tooltipB.label,\n          value: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.tooltipB.value,\n        };\n      }\n      if (!tmpToolTipB.label || !tmpToolTipB.value) {\n        tmpToolTipB = {\n          label: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.tooltipB.label,\n          value: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.tooltipB.value,\n        };\n      }\n      tmpLabelAPosition = coordParse(point.positionParameter.xylabelA);\n      if (!tmpLabelAPosition.x || !tmpLabelAPosition.y) {\n        tmpLabelAPosition = {\n          x: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.xylabelA,\n          y: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.xylabelA,\n        };\n      }\n      if (!tmpLabelAPosition.x || !tmpLabelAPosition.y) {\n        tmpLabelAPosition = {\n          x: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.xylabelA,\n          y: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.xylabelA,\n        };\n      }\n      tmpLabelBPosition = coordParse(point.positionParameter.xylabelB);\n      if (!tmpLabelBPosition.x || !tmpLabelBPosition.y) {\n        tmpLabelBPosition = {\n          x: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.xylabelB,\n          y: gabaritFileTmp.templateGabaritPointDefault[0].positionParameter.xylabelB,\n        };\n      }\n      if (!tmpLabelBPosition.x || !tmpLabelBPosition.y) {\n        tmpLabelBPosition = {\n          x: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.xylabelB,\n          y: this.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.xylabelB,\n        };\n      }\n      positionParameterPoint.push(\n        new PositionParameterClass(tmpLabelAPosition.x, tmpLabelAPosition.y, tmpLabelBPosition.x, tmpLabelBPosition.y, tmpToolTipA, tmpToolTipB)\n      );\n      linkURLPoint.push(new LinkURLClass(point.linkURL.followLink, point.linkURL.hoveringTooltipLink, point.linkURL.hoveringTooltipText));\n      if (!linkURLPoint[index].followLink) {\n        linkURLPoint[index] = new LinkURLClass(\n          gabaritFileTmp.templateGabaritPointDefault[0].linkURL.followLink,\n          gabaritFileTmp.templateGabaritPointDefault[0].linkURL.hoveringTooltipLink,\n          gabaritFileTmp.templateGabaritPointDefault[0].linkURL.hoveringTooltipText\n        );\n      }\n      if (!linkURLPoint[index].followLink) {\n        linkURLPoint[index] = new LinkURLClass(\n          this.props.options.gabaritDefault.templateGabaritPointDefault[0].linkURL.followLink,\n          this.props.options.gabaritDefault.templateGabaritPointDefault[0].linkURL.hoveringTooltipLink,\n          this.props.options.gabaritDefault.templateGabaritPointDefault[0].linkURL.hoveringTooltipText\n        );\n      }\n    });\n\n    let newID = 0;\n    this.props.options.arrayPoints.forEach((element) => {\n      newID++;\n    });\n\n    let labelCoordX: string[] = [];\n    let labelCoordY: string[] = [];\n    let labelCoord: LabelCoord2D[][] = [];\n\n    posPoint.forEach((pos, index) => {\n      if (gabaritFileTmp.templateGabaritPoint[index].labelfix === 'false') {\n        this.props.data.series.forEach((element) => {\n          let remove = element.name?.split('{');\n          if (element.refId === mainMetricPoint[index]!.refId) {\n            const nameQuery: string[] =\n              remove![1].split(',').map((value) => {\n                return value.replace(/[\\\"{}]/gm, '');\n              }) || [];\n            let valid = false;\n            let res = 0;\n            const filters: Filtred[] = mainMetricPoint[index].filter!;\n            for (const aQuery of nameQuery) {\n              const keyValue: string[] = aQuery.split('=');\n              for (const filter of filters) {\n                if (keyValue.length === 2) {\n                  if (keyValue[0] === filter.label && keyValue[1] === filter.value) {\n                    res++;\n                  }\n                }\n              }\n            }\n            if (res === filters.length) {\n              valid = true;\n            }\n            if (valid) {\n              for (const oneQuery of nameQuery) {\n                if (nameQuery && nameQuery.length > 0) {\n                  const keyValue: string[] = oneQuery.split('=');\n                  if (keyValue[0] === pos.x) {\n                    labelCoordX.push(keyValue[1]);\n                  }\n                  if (keyValue[0] === pos.y) {\n                    labelCoordY.push(keyValue[1]);\n                  }\n                }\n              }\n            }\n          }\n        });\n        if (labelCoordX.length > labelCoordY.length) {\n          labelCoordX.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        } else {\n          labelCoordY.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        }\n      }\n      if (labelCoordX.length > 0) {\n        labelCoord.push([]);\n        labelCoordX.forEach((element, add) => {\n          labelCoord[index].push({ x: labelCoordX[add], y: labelCoordY[add] });\n        });\n      } else {\n        labelCoord[index] = [];\n      }\n    });\n\n    let upId = false;\n\n    labelCoord.forEach((labelCo, posIndex) => {\n      console.log('passage1');\n      if (labelCo.length > 0) {\n        for (const pos of labelCo) {\n          filterPoint.forEach((element, index) => {\n            const defaultPositionX = (((parseInt(pos.x, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n            const defaultPositionY = (((parseInt(pos.y, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n            if (metricPoint.length > 0) {\n              let toLoad: PointClass = new PointClass(\n                newID + 1,\n                linkURLPoint[index],\n                metaPoint[index],\n                JSON.parse(JSON.stringify(lowerLimit)),\n                labelPoint[index] + '_' + newID,\n                JSON.parse(JSON.stringify(textObj)),\n                this.addFilterDynamic(mainMetricPoint[index], posPoint[index], pos),\n                metricPoint[index],\n                colorMode,\n                traceBack,\n                traceBorder,\n                positionParameterPoint[index],\n                namePoint[index] + '_' + newID,\n                valueMetricPoint[index],\n                drawGraphicMarkerPoint[index],\n                shapePoint[index],\n                sizeWidthPoint[index],\n                sizeHeightPoint[index],\n                '',\n                pos.x,\n                pos.y,\n                colorPoint[index],\n                associateOrientedLinksInPoint[index],\n                associateOrientedLinksOutPoint[index],\n                widthInitialSpace.toString(),\n                heightInitialSpace.toString(),\n                defaultPositionX,\n                defaultPositionY\n              );\n              upId = this.checkCoordinateFilterPoint(toLoad, this.props);\n              if (upId) {\n                newID++;\n              }\n            } else {\n              let toLoad: PointClass = new PointClass(\n                newID + 1,\n                linkURLPoint[index],\n                metaPoint[index],\n                JSON.parse(JSON.stringify(lowerLimit)),\n                labelPoint[index] + '_' + newID,\n                JSON.parse(JSON.stringify(textObj)),\n                this.addFilterDynamic(mainMetricPoint[index], posPoint[index], pos),\n                [],\n                colorMode,\n                traceBack,\n                traceBorder,\n                positionParameterPoint[index],\n                namePoint[index] + '_' + newID,\n                valueMetricPoint[index],\n                drawGraphicMarkerPoint[index],\n                shapePoint[index],\n                sizeWidthPoint[index],\n                sizeHeightPoint[index],\n                '',\n                pos.x,\n                pos.y,\n                colorPoint[index],\n                associateOrientedLinksInPoint[index],\n                associateOrientedLinksOutPoint[index],\n                widthInitialSpace.toString(),\n                heightInitialSpace.toString(),\n                defaultPositionX,\n                defaultPositionY\n              );\n              upId = this.checkCoordinateFilterPoint(toLoad, this.props);\n              if (upId) {\n                newID++;\n              }\n            }\n          });\n        }\n      } else {\n        const defaultPositionX = (((parseInt(posPoint[posIndex].x, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n        const defaultPositionY = (((parseInt(posPoint[posIndex].y, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n        if (metricPoint.length > 0) {\n          let toLoad: PointClass = new PointClass(\n            newID + 1,\n            linkURLPoint[posIndex],\n            metaPoint[posIndex],\n            JSON.parse(JSON.stringify(lowerLimit)),\n            labelPoint[posIndex] + '_' + newID,\n            JSON.parse(JSON.stringify(textObj)),\n            mainMetricPoint[posIndex],\n            metricPoint[posIndex],\n            colorMode,\n            traceBack,\n            traceBorder,\n            positionParameterPoint[posIndex],\n            namePoint[posIndex] + '_' + newID,\n            valueMetricPoint[posIndex],\n            drawGraphicMarkerPoint[posIndex],\n            shapePoint[posIndex],\n            sizeWidthPoint[posIndex],\n            sizeHeightPoint[posIndex],\n            '',\n            posPoint[posIndex].x,\n            posPoint[posIndex].y,\n            colorPoint[posIndex],\n            associateOrientedLinksInPoint[posIndex],\n            associateOrientedLinksOutPoint[posIndex],\n            widthInitialSpace.toString(),\n            heightInitialSpace.toString(),\n            defaultPositionX,\n            defaultPositionY\n          );\n          upId = this.checkCoordinateFilterPoint(toLoad, this.props);\n          if (upId) {\n            newID++;\n          }\n        } else {\n          let toLoad: PointClass = new PointClass(\n            newID + 1,\n            linkURLPoint[posIndex],\n            // changement\n            metaPoint[posIndex],\n            JSON.parse(JSON.stringify(lowerLimit)),\n            labelPoint[posIndex] + '_' + newID,\n            JSON.parse(JSON.stringify(textObj)),\n            mainMetricPoint[posIndex],\n            [],\n            colorMode,\n            traceBack,\n            traceBorder,\n            positionParameterPoint[posIndex],\n            namePoint[posIndex] + '_' + newID,\n            valueMetricPoint[posIndex],\n            drawGraphicMarkerPoint[posIndex],\n            shapePoint[posIndex],\n            sizeWidthPoint[posIndex],\n            sizeHeightPoint[posIndex],\n            '',\n            posPoint[posIndex].x,\n            posPoint[posIndex].y,\n            colorPoint[posIndex],\n            associateOrientedLinksInPoint[posIndex],\n            associateOrientedLinksOutPoint[posIndex],\n            widthInitialSpace.toString(),\n            heightInitialSpace.toString(),\n            defaultPositionX,\n            defaultPositionY\n          );\n          upId = this.checkCoordinateFilterPoint(toLoad, this.props);\n          if (upId) {\n            newID++;\n          }\n        }\n      }\n    });\n\n    /* Link */\n    //Template\n    let filterLink: Filtred[][] = []; //\n    let posALink: LabelCoord2D[] = []; //\n    let posBLink: LabelCoord2D[] = []; //\n    let posCLink: LabelCoord2D[] = []; //\n    let nameLink: string[] = []; //\n    let metaLink: Metadata[][] = []; //\n    let labelLink: string[] = []; //\n    let positionParameterLink: PositionParameterClass[] = []; //\n    let mainMetricALink: Metric[] = []; //\n    // let unitA: string;\n    // let formatA: string;\n    // let keyA: string;\n    // let keyValueA: string;\n    // let manageValueA: TManageValue;\n    let metricALink: Metric[][] = []; //\n    let mainMetricBLink: Metric[] = []; //\n    let metricBLink: Metric[][] = []; //\n    let linkURLLink: LinkURLClass[] = []; //\n    let orientationLink: Array<SelectableValue<string>> = []; //\n    let sizeLink: string[] = []; //\n    let colorALink: string[] = []; //\n    let colorBLink: string[] = []; //\n    let valueMetricALink: string[] = []; //\n    let valueMetricBLink: string[] = []; //\n    let pointInLink: string[] = []; //\n    let pointOutLink: string[] = []; //\n    let regionInLink: string[] = []; //\n    let regionOutLink: string[] = []; //\n    let isIncurvedLink: Array<SelectableValue<boolean>> = []; //\n\n    gabaritFileTmp.templateGabaritLink.forEach((link, index) => {\n      if (link.labelfix === 'false') {\n        posALink.push(coordParse(link.xylabelA));\n        if (!posALink[index].x || !posALink[index].y) {\n          posALink[index] = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].xylabelA);\n        }\n        if (!posALink[index].x || !posALink[index].y) {\n          posALink[index] = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelA);\n        }\n        posBLink.push(coordParse(link.xylabelB));\n        if (!posBLink[index].x || !posBLink[index].y) {\n          posBLink[index] = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].xylabelB);\n        }\n        if (!posBLink[index].x || !posBLink[index].y) {\n          posBLink[index] = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelB);\n        }\n        posCLink.push(coordParse(link.xylabelC));\n        if (!posCLink[index].x || !posCLink[index].y) {\n          posCLink[index] = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].xylabelC);\n        }\n        if (!posCLink[index].x || !posCLink[index].y) {\n          posCLink[index] = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelC);\n        }\n      } else {\n        posALink.push(coordParse(link.xylabelfixA));\n        if (!posALink[index].x || !posALink[index].y) {\n          posALink[index] = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].xylabelfixA);\n        }\n        if (!posALink[index].x || !posALink[index].y) {\n          posALink[index] = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelfixA);\n        }\n        posBLink.push(coordParse(link.xylabelfixB));\n        if (!posBLink[index].x || !posBLink[index].y) {\n          posBLink[index] = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].xylabelfixB);\n        }\n        if (!posBLink[index].x || !posBLink[index].y) {\n          posBLink[index] = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelfixB);\n        }\n        posCLink.push(coordParse(link.xylabelfixC));\n        if (!posCLink[index].x || !posCLink[index].y) {\n          posCLink[index] = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].xylabelfixC);\n        }\n        if (!posCLink[index].x || !posCLink[index].y) {\n          posCLink[index] = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelfixC);\n        }\n      }\n      filterLink.push(filterParse(link.filtered));\n      if (!filterLink[index]) {\n        filterLink[index] = filterParse(gabaritFileTmp.templateGabaritLinkDefault[0].filtered);\n      }\n      if (!filterLink[index]) {\n        filterLink[index] = filterParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].filtered);\n      }\n      nameLink.push(link.name);\n      if (!nameLink[index]) {\n        nameLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].name;\n      }\n      if (!nameLink[index]) {\n        nameLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].name;\n      }\n      metaLink.push(this.metaConstructor(link.meta));\n      link.meta.forEach((oneMeta, indexMeta) => {\n        // BOLD\n        if (!oneMeta.obj.style.bold) {\n          metaLink[index][indexMeta].obj.style.bold = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.bold\n          );\n        }\n        if (!oneMeta.obj.style.bold && !gabaritFileTmp.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.bold) {\n          metaLink[index][indexMeta].obj.style.bold = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.bold\n          );\n        }\n        // ITALIC\n        if (!oneMeta.obj.style.italic) {\n          metaLink[index][indexMeta].obj.style.italic = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.italic\n          );\n        }\n        if (!oneMeta.obj.style.italic && !gabaritFileTmp.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.italic) {\n          metaLink[index][indexMeta].obj.style.italic = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.italic\n          );\n        }\n        // UNDERLINE\n        if (!oneMeta.obj.style.underline) {\n          metaLink[index][indexMeta].obj.style.underline = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.underline\n          );\n        }\n        if (!oneMeta.obj.style.underline && !gabaritFileTmp.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.underline) {\n          metaLink[index][indexMeta].obj.style.underline = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritLinkDefault[0].meta[indexMeta].obj.style.underline\n          );\n        }\n      });\n      // if (!metaLink[index]) {\n      //   metaLink[index] = this.metaConstructor(gabaritFileTmp.templateGabaritLinkDefault[0].meta);\n      // }\n      // if (!metaLink[index]) {\n      //   metaLink[index] = this.metaConstructor(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].meta);\n      // }\n      labelLink.push(link.label);\n      if (!labelLink[index]) {\n        labelLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].label;\n      }\n      if (!labelLink[index]) {\n        labelLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].label;\n      }\n\n      // // MainMetricA\n\n      // // unitA\n      // unitA = link.mainMetric.unit;\n      // if (!link.mainMetric.unit) {\n      //   unitA = gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.unit;\n      // };\n      // if (!gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.unit) {\n      //   unitA = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.unit;\n      // };\n\n      // // formatA\n      // formatA = link.mainMetric.format;\n      // if (!link.mainMetric.format) {\n      //   formatA = gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.format;\n      // };\n      // if (!gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.format) {\n      //   formatA = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.format;\n      // };\n\n      // // keyA\n      // keyA = link.mainMetric.key;\n      // if (!link.mainMetric.key) {\n      //   keyA = gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.key;\n      // };\n      // if (!gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.key) {\n      //   keyA = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.key;\n      // };\n\n      // // keyValueA\n      // keyValueA = link.mainMetric.keyValue;\n      // if (!link.mainMetric.keyValue) {\n      //   keyValueA = gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.keyValue;\n      // };\n      // if (!gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.keyValue) {\n      //   keyValueA = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.keyValue;\n      // };\n\n      // // manageValueA\n      // manageValueA = link.mainMetric.manageValue;\n      // console.log(manageValueA);\n      // if (!link.mainMetric.manageValue) {\n      //   manageValueA = gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.manageValue;\n      // };\n      // if (!gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.manageValue) {\n      //   manageValueA = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.manageValue;\n      // };\n\n      // mainMetricALink.push({\n      //   unit: unitA,\n      //   format: formatA,\n      //   key: keyA,\n      //   keyValue: keyValueA,\n      //   filter: filterLink[index],\n      //   refId: gabaritFileTmp.queryID,\n      //   expr: '',\n      //   returnQuery: [],\n      //   manageValue: manageValueA,\n      // });\n\n      mainMetricALink.push({\n        key: link.mainMetric.key,\n        unit: link.mainMetric.unit,\n        format: link.mainMetric.format,\n        keyValue: '',\n        filter: filterLink[index],\n        refId: gabaritFileTmp.queryID,\n        expr: '',\n        returnQuery: [],\n        manageValue: link.mainMetric.manageValue,\n      });\n      if (!mainMetricALink[index].unit) {\n        mainMetricALink[index] = {\n          key: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.key,\n          unit: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.unit,\n          format: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterLink[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.manageValue,\n        };\n      }\n      if (!mainMetricALink[index].unit) {\n        mainMetricALink[index] = {\n          key: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.key,\n          unit: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.unit,\n          format: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterLink[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.manageValue,\n        };\n      }\n      link.metrics.forEach((element) => {\n        metricALink[index].push({\n          key: element.key,\n          unit: element.unit,\n          format: element.format,\n          keyValue: '',\n          filter: filterLink[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: element.manageValue,\n        });\n      });\n      mainMetricBLink.push({\n        key: link.mainMetricB.key,\n        unit: link.mainMetricB.unit,\n        format: link.mainMetricB.format,\n        keyValue: '',\n        filter: filterLink[index],\n        refId: gabaritFileTmp.queryID,\n        expr: '',\n        returnQuery: [],\n        manageValue: link.mainMetricB.manageValue,\n      });\n      if (!mainMetricBLink[index].unit) {\n        mainMetricBLink[index] = {\n          key: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.key,\n          unit: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.unit,\n          format: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterLink[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: gabaritFileTmp.templateGabaritLinkDefault[0].mainMetric.manageValue,\n        };\n      }\n      if (!mainMetricBLink[index].unit) {\n        mainMetricBLink[index] = {\n          key: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.key,\n          unit: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.unit,\n          format: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterLink[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.manageValue,\n        };\n      }\n      link.metricsB.forEach((element) => {\n        metricBLink[index].push({\n          key: element.key,\n          unit: element.unit,\n          format: element.format,\n          keyValue: '',\n          filter: filterLink[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: element.manageValue,\n        });\n      });\n      valueMetricALink.push(link.valueMainMetricA);\n      if (!valueMetricALink[index]) {\n        valueMetricALink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].valueMainMetricA;\n      }\n      if (!valueMetricALink[index]) {\n        valueMetricALink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].valueMainMetricA;\n      }\n      valueMetricBLink.push(link.valueMainMetricB);\n      if (!valueMetricBLink[index]) {\n        valueMetricBLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].valueMainMetricB;\n      }\n      if (!valueMetricBLink[index]) {\n        valueMetricBLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].valueMainMetricB;\n      }\n      sizeLink.push(link.size);\n      if (!sizeLink[index]) {\n        sizeLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].size;\n      }\n      if (!sizeLink[index]) {\n        sizeLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].size;\n      }\n      if (link.colorCoordinateA.length !== 0) {\n        colorALink.push(link.colorCoordinateA);\n        colorBLink.push(link.colorCoordinateB);\n      } else {\n        colorALink.push(gabaritFileTmp.globalGabarit.defaultColor);\n        colorBLink.push(gabaritFileTmp.globalGabarit.defaultColor);\n      }\n      if (!colorALink[index]) {\n        colorALink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].colorCoordinateA;\n      }\n      if (!colorBLink[index]) {\n        colorBLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].colorCoordinateB;\n      }\n      tmpToolTipA = { label: link.positionParameter.tooltipA.label, value: link.positionParameter.tooltipA.value };\n      if (!tmpToolTipA.value || !tmpToolTipA.label) {\n        tmpToolTipA = {\n          label: gabaritFileTmp.templateGabaritLinkDefault[0].positionParameter.tooltipA.label,\n          value: gabaritFileTmp.templateGabaritLinkDefault[0].positionParameter.tooltipA.value,\n        };\n      }\n      if (!tmpToolTipA.value || !tmpToolTipA.label) {\n        tmpToolTipA = {\n          label: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.tooltipA.label,\n          value: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.tooltipA.value,\n        };\n      }\n      tmpToolTipB = { label: link.positionParameter.tooltipB.label, value: link.positionParameter.tooltipB.value };\n      if (!tmpToolTipB.value || !tmpToolTipB.label) {\n        tmpToolTipB = {\n          label: gabaritFileTmp.templateGabaritLinkDefault[0].positionParameter.tooltipB.label,\n          value: gabaritFileTmp.templateGabaritLinkDefault[0].positionParameter.tooltipB.value,\n        };\n      }\n      if (!tmpToolTipB.value || !tmpToolTipB.label) {\n        tmpToolTipB = {\n          label: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.tooltipB.label,\n          value: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.tooltipB.value,\n        };\n      }\n      tmpLabelAPosition = coordParse(link.positionParameter.xylabelA);\n      if (!tmpLabelAPosition) {\n        tmpLabelAPosition = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].positionParameter.xylabelA);\n      }\n      if (!tmpLabelAPosition) {\n        tmpLabelAPosition = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.xylabelA);\n      }\n      tmpLabelBPosition = coordParse(link.positionParameter.xylabelB);\n      if (!tmpLabelBPosition) {\n        tmpLabelBPosition = coordParse(gabaritFileTmp.templateGabaritLinkDefault[0].positionParameter.xylabelB);\n      }\n      if (!tmpLabelBPosition) {\n        tmpLabelBPosition = coordParse(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.xylabelB);\n      }\n      positionParameterLink.push(\n        new PositionParameterClass(tmpLabelAPosition.x, tmpLabelAPosition.y, tmpLabelBPosition.x, tmpLabelBPosition.y, tmpToolTipA, tmpToolTipB)\n      );\n      linkURLLink.push(new LinkURLClass(link.linkURL.followLink, link.linkURL.hoveringTooltipLink, link.linkURL.hoveringTooltipText));\n      if (!linkURLLink[index].followLink) {\n        linkURLLink[index] = new LinkURLClass(\n          gabaritFileTmp.templateGabaritLinkDefault[0].linkURL.followLink,\n          gabaritFileTmp.templateGabaritLinkDefault[0].linkURL.hoveringTooltipLink,\n          gabaritFileTmp.templateGabaritLinkDefault[0].linkURL.hoveringTooltipText\n        );\n      }\n      if (!linkURLLink[index].followLink) {\n        linkURLLink[index] = new LinkURLClass(\n          this.props.options.gabaritDefault.templateGabaritLinkDefault[0].linkURL.followLink,\n          this.props.options.gabaritDefault.templateGabaritLinkDefault[0].linkURL.hoveringTooltipLink,\n          this.props.options.gabaritDefault.templateGabaritLinkDefault[0].linkURL.hoveringTooltipText\n        );\n      }\n      orientationLink.push(link.orientationLink);\n      if (!orientationLink[index]) {\n        orientationLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].orientationLink;\n      }\n      if (!orientationLink[index]) {\n        orientationLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].orientationLink;\n      }\n      pointInLink.push(link.pointIn);\n      if (!pointInLink[index]) {\n        pointInLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].pointIn;\n      }\n      if (!pointInLink[index]) {\n        pointInLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].pointIn;\n      }\n      pointOutLink.push(link.pointOut);\n      if (!pointOutLink[index]) {\n        pointOutLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].pointOut;\n      }\n      if (!pointOutLink[index]) {\n        pointOutLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].pointOut;\n      }\n      regionInLink.push(link.regionIn);\n      if (!regionInLink[index]) {\n        regionInLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].regionIn;\n      }\n      if (!regionInLink[index]) {\n        regionInLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].regionIn;\n      }\n      regionOutLink.push(link.regionOut);\n      if (!regionOutLink[index]) {\n        regionOutLink[index] = gabaritFileTmp.templateGabaritLinkDefault[0].regionOut;\n      }\n      if (!regionOutLink[index]) {\n        regionOutLink[index] = this.props.options.gabaritDefault.templateGabaritLinkDefault[0].regionOut;\n      }\n      isIncurvedLink.push({ label: link.isIncurved.label, value: this.transformStringToBoolean(link.isIncurved.value || '') });\n      if (\n        (link.isIncurved.label?.toLowerCase() !== 'yes' && link.isIncurved.label?.toLowerCase() !== 'no') ||\n        (link.isIncurved.value !== 'true' && link.isIncurved.value !== 'false')\n      ) {\n        console.log('level1');\n        isIncurvedLink[index] = {\n          label: gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.label?.toLowerCase(),\n          value: this.transformStringToBoolean(gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.value || ''),\n        };\n      }\n      if (\n        (((link.isIncurved.label?.toLowerCase() !== 'yes' && link.isIncurved.label?.toLowerCase() !== 'no') ||\n          (link.isIncurved.value !== 'true' && link.isIncurved.value !== 'false')) &&\n          gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.label?.toLowerCase() !== 'yes' &&\n          gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.label?.toLowerCase() !== 'no') ||\n        (((link.isIncurved.label?.toLowerCase() !== 'yes' && link.isIncurved.label?.toLowerCase() !== 'no') ||\n          (link.isIncurved.value !== 'true' && link.isIncurved.value !== 'false')) &&\n          gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.value !== 'true' &&\n          gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.value !== 'false')\n      ) {\n        isIncurvedLink[index] = {\n          label: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].isIncurved.label,\n          value: this.transformStringToBoolean(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].isIncurved.value || ''),\n        };\n      }\n      isIncurvedLink[index] = this.transformWithUpperCase(isIncurvedLink[index]);\n      // if (!isIncurvedLink[index].label || !isIncurvedLink[index].value) {\n      //   isIncurvedLink[index] = {\n      //     label: gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.label,\n      //     value: this.transformStringToBoolean(gabaritFileTmp.templateGabaritLinkDefault[0].isIncurved.value || ''),\n      //   };\n      // }\n      // if (!isIncurvedLink[index].label || !isIncurvedLink[index].value) {\n      //   isIncurvedLink[index] = {\n      //     label: this.props.options.gabaritDefault.templateGabaritLinkDefault[0].isIncurved.label,\n      //     value: this.transformStringToBoolean(this.props.options.gabaritDefault.templateGabaritLinkDefault[0].isIncurved.value || ''),\n      //   };\n      // }\n    });\n\n    newID = 0;\n    this.props.options.arrayOrientedLinks.forEach((element) => {\n      newID++;\n    });\n\n    labelCoordX = [];\n    labelCoordY = [];\n    let labelCoordA: LabelCoord2D[][] = [];\n\n    posALink.forEach((pos, index) => {\n      if (gabaritFileTmp.templateGabaritLink[index].labelfix === 'false') {\n        this.props.data.series.forEach((element) => {\n          if (element.refId === mainMetricALink[index]!.refId) {\n            let remove = element.name?.split('{');\n            const nameQuery: string[] =\n              remove![1].split(',').map((value) => {\n                return value.replace(/[\\\"{}]/gm, '');\n              }) || [];\n\n            let valid = false;\n            let res = 0;\n            const filters: Filtred[] = mainMetricPoint[index].filter!;\n            for (const aQuery of nameQuery) {\n              const keyValue: string[] = aQuery.split('=');\n              for (const filter of filters) {\n                if (keyValue.length === 2) {\n                  if (keyValue[0] === filter.label && keyValue[1] === filter.value) {\n                    res++;\n                  }\n                }\n              }\n            }\n            if (res === filters.length) {\n              valid = true;\n            }\n            if (valid) {\n              for (const oneQuery of nameQuery) {\n                if (nameQuery && nameQuery.length > 0) {\n                  const keyValue: string[] = oneQuery.split('=');\n                  if (keyValue[0] === pos.x) {\n                    labelCoordX.push(keyValue[1]);\n                  }\n                  if (keyValue[0] === pos.y) {\n                    labelCoordY.push(keyValue[1]);\n                  }\n                }\n              }\n            }\n          }\n        });\n        if (labelCoordX.length > labelCoordY.length) {\n          labelCoordX.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        } else {\n          labelCoordY.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        }\n      }\n      if (labelCoordX.length > 0) {\n        labelCoordX.forEach((element, index) => {\n          labelCoordA[index].push({ x: labelCoordX[index], y: labelCoordY[index] });\n        });\n      } else {\n        labelCoordA[index] = [];\n      }\n    });\n\n    labelCoordX = [];\n    labelCoordY = [];\n    let labelCoordB: LabelCoord2D[][] = [];\n\n    posALink.forEach((pos, index) => {\n      if (gabaritFileTmp.templateGabaritLink[index].labelfix === 'false') {\n        this.props.data.series.forEach((element) => {\n          if (element.refId === mainMetricBLink[index]!.refId) {\n            let remove = element.name?.split('{');\n            const nameQuery: string[] =\n              remove![1].split(',').map((value) => {\n                return value.replace(/[\\\"{}]/gm, '');\n              }) || [];\n\n            let valid = false;\n            let res = 0;\n            const filters: Filtred[] = mainMetricPoint[index].filter!;\n            for (const aQuery of nameQuery) {\n              const keyValue: string[] = aQuery.split('=');\n              for (const filter of filters) {\n                if (keyValue.length === 2) {\n                  if (keyValue[0] === filter.label && keyValue[1] === filter.value) {\n                    res++;\n                  }\n                }\n              }\n            }\n            if (res === filters.length) {\n              valid = true;\n            }\n            if (valid) {\n              for (const oneQuery of nameQuery) {\n                if (nameQuery && nameQuery.length > 0) {\n                  const keyValue: string[] = oneQuery.split('=');\n                  if (keyValue[0] === pos.x) {\n                    labelCoordX.push(keyValue[1]);\n                  }\n                  if (keyValue[0] === pos.y) {\n                    labelCoordY.push(keyValue[1]);\n                  }\n                }\n              }\n            }\n          }\n        });\n        if (labelCoordX.length > labelCoordY.length) {\n          labelCoordX.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        } else {\n          labelCoordY.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        }\n      }\n      if (labelCoordX.length > 0) {\n        labelCoordX.forEach((element, index) => {\n          labelCoordB[index].push({ x: labelCoordX[index], y: labelCoordY[index] });\n        });\n      } else {\n        labelCoordB[index] = [];\n      }\n    });\n\n    labelCoordX = [];\n    labelCoordY = [];\n    let labelCoordC: LabelCoord2D[][] = [];\n\n    posALink.forEach((pos, index) => {\n      if (gabaritFileTmp.templateGabaritLink[index].labelfix === 'false') {\n        this.props.data.series.forEach((element) => {\n          const nameQuery: string[] =\n            element.name?.split(',').map((value) => {\n              return value.replace(/[\\\"{}]/gm, '');\n            }) || [];\n\n          for (const oneQuery of nameQuery) {\n            if (nameQuery && nameQuery.length > 0) {\n              const keyValue: string[] = oneQuery.split('=');\n              if (keyValue[0] === pos.x) {\n                labelCoordX.push(keyValue[1]);\n              }\n              if (keyValue[0] === pos.y) {\n                labelCoordY.push(keyValue[1]);\n              }\n            }\n          }\n        });\n        if (labelCoordX.length > labelCoordY.length) {\n          labelCoordX.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        } else {\n          labelCoordY.forEach((element, index) => {\n            if (!labelCoordX[index]) {\n              labelCoordX[index] = pos.x;\n            }\n            if (!labelCoordY[index]) {\n              labelCoordY[index] = pos.y;\n            }\n          });\n        }\n      }\n      if (labelCoordX.length > 0) {\n        labelCoordX.forEach((element, index) => {\n          labelCoordC[index].push({ x: labelCoordX[index], y: labelCoordY[index] });\n        });\n      } else {\n        labelCoordC[index] = [];\n      }\n    });\n\n    labelCoordA.forEach((element, coordindex) => {\n      let pointInLinkWithId = '';\n      let labelPointIn = pointInLink[coordindex].split('_')[0];\n      this.props.options.arrayPoints.forEach((point, index) => {\n        if (point.label.startsWith(labelPointIn)) {\n          pointInLinkWithId = labelPointIn + '_' + index;\n        }\n      });\n\n      let pointOutLinkWithId = '';\n      let labelPointOut = pointOutLink[coordindex].split('_')[0];\n      this.props.options.arrayPoints.forEach((point, index) => {\n        if (point.label.startsWith(labelPointOut)) {\n          pointOutLinkWithId = labelPointOut + '_' + index;\n        }\n      });\n\n      let regionInLinkWithId = '';\n      let labelRegionIn = regionInLink[coordindex].split('_')[0];\n      this.props.options.regionCoordinateSpace.forEach((region, index) => {\n        if (region.label.startsWith(labelPointIn)) {\n          pointInLinkWithId = labelRegionIn + '_' + index;\n        }\n      });\n\n      let regionOutLinkWithId = '';\n      let labelRegionOut = regionOutLink[coordindex].split('_')[0];\n      this.props.options.regionCoordinateSpace.forEach((region, index) => {\n        if (region.label.startsWith(labelPointOut)) {\n          pointOutLinkWithId = labelRegionOut + '_' + index;\n        }\n      });\n\n      if (element.length > 0) {\n        for (const pos of element) {\n          filterLink.forEach((element, index) => {\n            let pointInLinkWithId = pointInLink[index];\n            const defaultPositionAX = (((parseInt(pos.x, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n            const defaultPositionBX = (\n              ((parseInt(labelCoordB[coordindex][index].x, 10) - xMinInitialSpace) / widthInitialSpace) *\n              widthBackground\n            ).toString();\n            const defaultPositionCX = (\n              ((parseInt(labelCoordC[coordindex][index].x, 10) - xMinInitialSpace) / widthInitialSpace) *\n              widthBackground\n            ).toString();\n            const defaultPositionAY = (((parseInt(pos.y, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n            const defaultPositionBY = (\n              ((parseInt(labelCoordB[coordindex][index].y, 10) - yMinInitialSpace) / heightInitialSpace) *\n              heightBackground\n            ).toString();\n            const defaultPositionCY = (\n              ((parseInt(labelCoordC[coordindex][index].y, 10) - yMinInitialSpace) / heightInitialSpace) *\n              heightBackground\n            ).toString();\n\n            let labelPointIn = pointInLink[index].split('_')[0];\n            this.props.options.arrayPoints.forEach((point, index) => {\n              if (point.label.startsWith(labelPointIn)) {\n                pointInLinkWithId = labelPointIn + '_' + index;\n              }\n            });\n\n            let labelPointOut = pointOutLink[index].split('_')[0];\n            this.props.options.arrayPoints.forEach((point, index) => {\n              if (point.label.startsWith(labelPointOut)) {\n                pointOutLinkWithId = labelPointOut + '_' + index;\n              }\n            });\n\n            let regionInLinkWithId = '';\n            let labelRegionIn = regionInLink[index].split('_')[0];\n            this.props.options.regionCoordinateSpace.forEach((region, index) => {\n              if (region.label.startsWith(labelPointIn)) {\n                pointInLinkWithId = labelRegionIn + '_' + index;\n              }\n            });\n\n            let regionOutLinkWithId = '';\n            let labelRegionOut = regionOutLink[index].split('_')[0];\n            this.props.options.regionCoordinateSpace.forEach((region, index) => {\n              if (region.label.startsWith(labelPointOut)) {\n                pointOutLinkWithId = labelRegionOut + '_' + index;\n              }\n            });\n\n            let maA = metricALink.length;\n            let maB = metricBLink.length;\n            if (maA > 0 && maB > 0) {\n              let toLoad: OrientedLinkClass = new OrientedLinkClass(\n                newID + 1,\n                linkURLLink[index],\n                metaLink[index],\n                JSON.parse(JSON.stringify(lowerLimit)),\n                labelLink[index] + '_' + newID,\n                JSON.parse(JSON.stringify(textObj)),\n                this.addFilterDynamic(mainMetricALink[index], posALink[index], pos),\n                metricALink[index],\n                colorMode,\n                traceBack,\n                traceBorder,\n                positionParameterLink[index],\n                nameLink[index],\n                orientationLink[index],\n                sizeLink[index],\n                pos.x,\n                pos.y,\n                colorALink[index],\n                labelCoordB[coordindex][index].x,\n                labelCoordB[coordindex][index].y,\n                colorBLink[index],\n                valueMetricALink[index],\n                valueMetricBLink[index],\n                pointInLinkWithId,\n                pointOutLinkWithId,\n                regionInLinkWithId,\n                regionOutLinkWithId,\n                this.props.options.zIndexOrientedLink + 1,\n                labelCoordC[coordindex][index].x,\n                labelCoordC[coordindex][index].y,\n                isIncurvedLink[index],\n                this.addFilterDynamic(mainMetricBLink[index], posALink[index], pos),\n                metricBLink[index],\n                widthInitialSpace.toString(),\n                heightInitialSpace.toString(),\n                defaultPositionAX,\n                defaultPositionAY,\n                defaultPositionBX,\n                defaultPositionBY,\n                defaultPositionCX,\n                defaultPositionCY\n              );\n              upId = this.checkCoordinateFilterLink(toLoad, this.props);\n              if (upId) {\n                newID++;\n              }\n            }\n            if (!(maA > 0) && maB > 0) {\n              let toLoad: OrientedLinkClass = new OrientedLinkClass(\n                newID + 1,\n                linkURLLink[index],\n                metaLink[index],\n                JSON.parse(JSON.stringify(lowerLimit)),\n                labelLink[index] + '_' + newID,\n                JSON.parse(JSON.stringify(textObj)),\n                this.addFilterDynamic(mainMetricALink[index], posALink[index], pos),\n                [],\n                colorMode,\n                traceBack,\n                traceBorder,\n                positionParameterLink[index],\n                nameLink[index],\n                orientationLink[index],\n                sizeLink[index],\n                pos.x,\n                pos.y,\n                colorALink[index],\n                labelCoordB[coordindex][index].x,\n                labelCoordB[coordindex][index].y,\n                colorBLink[index],\n                valueMetricALink[index],\n                valueMetricBLink[index],\n                pointInLinkWithId,\n                pointOutLinkWithId,\n                regionInLinkWithId,\n                regionOutLinkWithId,\n                this.props.options.zIndexOrientedLink + 1,\n                labelCoordC[coordindex][index].x,\n                labelCoordC[coordindex][index].y,\n                isIncurvedLink[index],\n                this.addFilterDynamic(mainMetricBLink[index], posALink[index], pos),\n                metricBLink[index],\n                widthInitialSpace.toString(),\n                heightInitialSpace.toString(),\n                defaultPositionAX,\n                defaultPositionAY,\n                defaultPositionBX,\n                defaultPositionBY,\n                defaultPositionCX,\n                defaultPositionCY\n              );\n              upId = this.checkCoordinateFilterLink(toLoad, this.props);\n              if (upId) {\n                newID++;\n              }\n            } else if (maA > 0 && !(maB > 0)) {\n              let toLoad: OrientedLinkClass = new OrientedLinkClass(\n                newID + 1,\n                linkURLLink[index],\n                metaLink[index],\n                JSON.parse(JSON.stringify(lowerLimit)),\n                labelLink[index] + '_' + newID,\n                JSON.parse(JSON.stringify(textObj)),\n                this.addFilterDynamic(mainMetricALink[index], posALink[index], pos),\n                metricALink[index],\n                colorMode,\n                traceBack,\n                traceBorder,\n                positionParameterLink[index],\n                nameLink[index],\n                orientationLink[index],\n                sizeLink[index],\n                pos.x,\n                pos.y,\n                colorALink[index],\n                labelCoordB[coordindex][index].x,\n                labelCoordB[coordindex][index].y,\n                colorBLink[index],\n                valueMetricALink[index],\n                valueMetricBLink[index],\n                pointInLinkWithId,\n                pointOutLinkWithId,\n                regionInLinkWithId,\n                regionOutLinkWithId,\n                this.props.options.zIndexOrientedLink + 1,\n                labelCoordC[coordindex][index].x,\n                labelCoordC[coordindex][index].y,\n                isIncurvedLink[index],\n                this.addFilterDynamic(mainMetricBLink[index], posALink[index], pos),\n                [],\n                widthInitialSpace.toString(),\n                heightInitialSpace.toString(),\n                defaultPositionAX,\n                defaultPositionAY,\n                defaultPositionBX,\n                defaultPositionBY,\n                defaultPositionCX,\n                defaultPositionCY\n              );\n              upId = this.checkCoordinateFilterLink(toLoad, this.props);\n              if (upId) {\n                newID++;\n              }\n            } else {\n              let toLoad: OrientedLinkClass = new OrientedLinkClass(\n                newID + 1,\n                linkURLLink[index],\n                metaLink[index],\n                JSON.parse(JSON.stringify(lowerLimit)),\n                labelLink[index] + '_' + newID,\n                JSON.parse(JSON.stringify(textObj)),\n                this.addFilterDynamic(mainMetricALink[index], posALink[index], pos),\n                [],\n                colorMode,\n                traceBack,\n                traceBorder,\n                positionParameterLink[index],\n                nameLink[index],\n                orientationLink[index],\n                sizeLink[index],\n                pos.x,\n                pos.y,\n                colorALink[index],\n                labelCoordB[coordindex][index].x,\n                labelCoordB[coordindex][index].y,\n                colorBLink[index],\n                valueMetricALink[index],\n                valueMetricBLink[index],\n                pointInLinkWithId,\n                pointOutLinkWithId,\n                regionInLinkWithId,\n                regionOutLinkWithId,\n                this.props.options.zIndexOrientedLink + 1,\n                labelCoordC[coordindex][index].x,\n                labelCoordC[coordindex][index].y,\n                isIncurvedLink[index],\n                this.addFilterDynamic(mainMetricBLink[index], posALink[index], pos),\n                [],\n                widthInitialSpace.toString(),\n                heightInitialSpace.toString(),\n                defaultPositionAX,\n                defaultPositionAY,\n                defaultPositionBX,\n                defaultPositionBY,\n                defaultPositionCX,\n                defaultPositionCY\n              );\n              upId = this.checkCoordinateFilterLink(toLoad, this.props);\n              if (upId) {\n                newID++;\n              }\n            }\n          });\n        } /////////////////\n      } else {\n        const defaultPositionAX = (((parseInt(posALink[coordindex].x, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n        const defaultPositionBX = (((parseInt(posBLink[coordindex].x, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n        const defaultPositionCX = (((parseInt(posCLink[coordindex].x, 10) - xMinInitialSpace) / widthInitialSpace) * widthBackground).toString();\n        const defaultPositionAY = (((parseInt(posALink[coordindex].y, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n        const defaultPositionBY = (((parseInt(posBLink[coordindex].y, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n        const defaultPositionCY = (((parseInt(posCLink[coordindex].y, 10) - yMinInitialSpace) / heightInitialSpace) * heightBackground).toString();\n        let maA = metricALink.length;\n        let maB = metricBLink.length;\n        if (maA > 0 && maB > 0) {\n          let toLoad: OrientedLinkClass = new OrientedLinkClass(\n            newID + 1,\n            linkURLLink[coordindex],\n            metaLink[coordindex],\n            JSON.parse(JSON.stringify(lowerLimit)),\n            labelLink[coordindex] + '_' + newID,\n            JSON.parse(JSON.stringify(textObj)),\n            mainMetricALink[coordindex],\n            metricALink[coordindex],\n            colorMode,\n            traceBack,\n            traceBorder,\n            positionParameterLink[coordindex],\n            nameLink[coordindex],\n            orientationLink[coordindex],\n            sizeLink[coordindex],\n            posALink[coordindex].x,\n            posALink[coordindex].y,\n            colorALink[coordindex],\n            posBLink[coordindex].x,\n            posBLink[coordindex].y,\n            colorBLink[coordindex],\n            valueMetricALink[coordindex],\n            valueMetricBLink[coordindex],\n            pointInLinkWithId,\n            pointOutLinkWithId,\n            regionInLinkWithId,\n            regionOutLinkWithId,\n            this.props.options.zIndexOrientedLink + 1,\n            posCLink[coordindex].x,\n            posCLink[coordindex].y,\n            isIncurvedLink[coordindex],\n            mainMetricBLink[coordindex],\n            metricBLink[coordindex],\n            widthInitialSpace.toString(),\n            heightInitialSpace.toString(),\n            defaultPositionAX,\n            defaultPositionAY,\n            defaultPositionBX,\n            defaultPositionBY,\n            defaultPositionCX,\n            defaultPositionCY\n          );\n          upId = this.checkCoordinateFilterLink(toLoad, this.props);\n          if (upId) {\n            newID++;\n          }\n        }\n        if (!(maA > 0) && maB > 0) {\n          let toLoad: OrientedLinkClass = new OrientedLinkClass(\n            newID + 1,\n            linkURLLink[coordindex],\n            metaLink[coordindex],\n            JSON.parse(JSON.stringify(lowerLimit)),\n            labelLink[coordindex] + '_' + newID,\n            JSON.parse(JSON.stringify(textObj)),\n            mainMetricALink[coordindex],\n            [],\n            colorMode,\n            traceBack,\n            traceBorder,\n            positionParameterLink[coordindex],\n            nameLink[coordindex],\n            orientationLink[coordindex],\n            sizeLink[coordindex],\n            posALink[coordindex].x,\n            posALink[coordindex].y,\n            colorALink[coordindex],\n            posBLink[coordindex].x,\n            posBLink[coordindex].y,\n            colorBLink[coordindex],\n            valueMetricALink[coordindex],\n            valueMetricBLink[coordindex],\n            pointInLinkWithId,\n            pointOutLinkWithId,\n            regionInLinkWithId,\n            regionOutLinkWithId,\n            this.props.options.zIndexOrientedLink + 1,\n            posCLink[coordindex].x,\n            posCLink[coordindex].y,\n            isIncurvedLink[coordindex],\n            mainMetricBLink[coordindex],\n            metricBLink[coordindex],\n            widthInitialSpace.toString(),\n            heightInitialSpace.toString(),\n            defaultPositionAX,\n            defaultPositionAY,\n            defaultPositionBX,\n            defaultPositionBY,\n            defaultPositionCX,\n            defaultPositionCY\n          );\n          upId = this.checkCoordinateFilterLink(toLoad, this.props);\n          if (upId) {\n            newID++;\n          }\n        } else if (maA > 0 && !(maB > 0)) {\n          let toLoad: OrientedLinkClass = new OrientedLinkClass(\n            newID + 1,\n            linkURLLink[coordindex],\n            metaLink[coordindex],\n            JSON.parse(JSON.stringify(lowerLimit)),\n            labelLink[coordindex] + '_' + newID,\n            JSON.parse(JSON.stringify(textObj)),\n            mainMetricALink[coordindex],\n            metricALink[coordindex],\n            colorMode,\n            traceBack,\n            traceBorder,\n            positionParameterLink[coordindex],\n            nameLink[coordindex],\n            orientationLink[coordindex],\n            sizeLink[coordindex],\n            posALink[coordindex].x,\n            posALink[coordindex].y,\n            colorALink[coordindex],\n            posBLink[coordindex].x,\n            posBLink[coordindex].y,\n            colorBLink[coordindex],\n            valueMetricALink[coordindex],\n            valueMetricBLink[coordindex],\n            pointInLinkWithId,\n            pointOutLinkWithId,\n            regionInLinkWithId,\n            regionOutLinkWithId,\n            this.props.options.zIndexOrientedLink + 1,\n            posCLink[coordindex].x,\n            posCLink[coordindex].y,\n            isIncurvedLink[coordindex],\n            mainMetricBLink[coordindex],\n            [],\n            widthInitialSpace.toString(),\n            heightInitialSpace.toString(),\n            defaultPositionAX,\n            defaultPositionAY,\n            defaultPositionBX,\n            defaultPositionBY,\n            defaultPositionCX,\n            defaultPositionCY\n          );\n          upId = this.checkCoordinateFilterLink(toLoad, this.props);\n          if (upId) {\n            newID++;\n          }\n        } else {\n          let toLoad: OrientedLinkClass = new OrientedLinkClass(\n            newID + 1,\n            linkURLLink[coordindex],\n            metaLink[coordindex],\n            JSON.parse(JSON.stringify(lowerLimit)),\n            labelLink[coordindex] + '_' + newID,\n            JSON.parse(JSON.stringify(textObj)),\n            mainMetricALink[coordindex],\n            [],\n            colorMode,\n            traceBack,\n            traceBorder,\n            positionParameterLink[coordindex],\n            nameLink[coordindex],\n            orientationLink[coordindex],\n            sizeLink[coordindex],\n            posALink[coordindex].x,\n            posALink[coordindex].y,\n            colorALink[coordindex],\n            posBLink[coordindex].x,\n            posBLink[coordindex].y,\n            colorBLink[coordindex],\n            valueMetricALink[coordindex],\n            valueMetricBLink[coordindex],\n            pointInLinkWithId,\n            pointOutLinkWithId,\n            regionInLinkWithId,\n            regionOutLinkWithId,\n            this.props.options.zIndexOrientedLink + 1,\n            posCLink[coordindex].x,\n            posCLink[coordindex].y,\n            isIncurvedLink[coordindex],\n            mainMetricBLink[coordindex],\n            [],\n            widthInitialSpace.toString(),\n            heightInitialSpace.toString(),\n            defaultPositionAX,\n            defaultPositionAY,\n            defaultPositionBX,\n            defaultPositionBY,\n            defaultPositionCX,\n            defaultPositionCY\n          );\n          upId = this.checkCoordinateFilterLink(toLoad, this.props);\n          if (upId) {\n            newID++;\n          }\n        }\n      }\n    });\n\n    /*  */\n    //Template region\n    let filterRegion: Filtred[][] = []; //\n    let posRegion: Coord4D[] = []; //\n\n    let metaRegion: Metadata[][] = []; //\n    let labelRegion: string[] = []; //\n    let positionParameterRegion: PositionParameterClass[] = []; //\n    let mainMetricRegion: Metric[] = []; //\n    let metricRegion: Metric[][] = []; //\n    let linkURLRegion: LinkURLClass[] = [];\n    let idSVGRegion: string[] = [];\n    let modeRegion: boolean[] = [];\n    let imgRegion: string[] = [];\n    let orientedLinkAssociate: OrientedLinkClass[][] = [];\n\n    gabaritFileTmp.templateGabaritRegion.forEach((region, index) => {\n      if (region.labelfix === 'false') {\n        posRegion.push(coordParseRegion(region.xylabel));\n        if (!posRegion[index].xMax || !posRegion[index].xMin || !posRegion[index].yMax || !posRegion[index].yMin) {\n          posRegion[index] = coordParseRegion(gabaritFileTmp.templateGabaritRegionDefault[0].xylabel);\n        }\n        if (!posRegion[index].xMax || !posRegion[index].xMin || !posRegion[index].yMax || !posRegion[index].yMin) {\n          posRegion[index] = coordParseRegion(this.props.options.gabaritDefault.templateGabaritRegionDefault[0].xylabel);\n        }\n      } else {\n        posRegion.push(coordParseRegion(region.xylabelfix));\n        if (!posRegion[index].xMax || !posRegion[index].xMin || !posRegion[index].yMax || !posRegion[index].yMin) {\n          posRegion[index] = coordParseRegion(gabaritFileTmp.templateGabaritRegionDefault[0].xylabelfix);\n        }\n        if (!posRegion[index].xMax || !posRegion[index].xMin || !posRegion[index].yMax || !posRegion[index].yMin) {\n          posRegion[index] = coordParseRegion(this.props.options.gabaritDefault.templateGabaritRegionDefault[0].xylabelfix);\n        }\n      }\n      filterRegion.push(filterParseRegion(region.filtered));\n      if (!filterRegion[index]) {\n        filterRegion[index] = filterParseRegion(gabaritFileTmp.templateGabaritRegionDefault[0].filtered);\n      }\n      if (!filterRegion[index]) {\n        filterRegion[index] = filterParseRegion(this.props.options.gabaritDefault.templateGabaritRegionDefault[0].filtered);\n      }\n      linkURLRegion.push(new LinkURLClass(region.linkURL.followLink, region.linkURL.hoveringTooltipLink, region.linkURL.hoveringTooltipTex));\n      if (!linkURLRegion[index].followLink) {\n        linkURLRegion[index] = new LinkURLClass(\n          gabaritFileTmp.templateGabaritRegionDefault[0].linkURL.followLink,\n          gabaritFileTmp.templateGabaritRegionDefault[0].linkURL.hoveringTooltipLink,\n          gabaritFileTmp.templateGabaritRegionDefault[0].linkURL.hoveringTooltipText\n        );\n      }\n      if (!linkURLRegion[index].followLink) {\n        linkURLRegion[index] = new LinkURLClass(\n          this.props.options.gabaritDefault.templateGabaritRegionDefault[0].linkURL.followLink,\n          this.props.options.gabaritDefault.templateGabaritRegionDefault[0].linkURL.hoveringTooltipLink,\n          this.props.options.gabaritDefault.templateGabaritRegionDefault[0].linkURL.hoveringTooltipText\n        );\n      }\n      // changement\n      metaRegion.push(this.metaConstructor(region.meta));\n      region.meta.forEach((oneMeta, indexMeta) => {\n        // BOLD\n        if (!oneMeta.obj.style.bold) {\n          metaRegion[index][indexMeta].obj.style.bold = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.bold\n          );\n        }\n        if (!oneMeta.obj.style.bold && !gabaritFileTmp.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.bold) {\n          metaRegion[index][indexMeta].obj.style.bold = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.bold\n          );\n        }\n        // ITALIC\n        if (!oneMeta.obj.style.italic) {\n          metaRegion[index][indexMeta].obj.style.italic = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.italic\n          );\n        }\n        if (!oneMeta.obj.style.italic && !gabaritFileTmp.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.italic) {\n          metaRegion[index][indexMeta].obj.style.italic = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.italic\n          );\n        }\n        // UNDERLINE\n        if (!oneMeta.obj.style.underline) {\n          metaRegion[index][indexMeta].obj.style.underline = this.transformStringToBoolean(\n            gabaritFileTmp.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.underline\n          );\n        }\n        if (!oneMeta.obj.style.underline && !gabaritFileTmp.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.underline) {\n          metaRegion[index][indexMeta].obj.style.underline = this.transformStringToBoolean(\n            this.props.options.gabaritDefault.templateGabaritRegionDefault[0].meta[indexMeta].obj.style.underline\n          );\n        }\n      });\n      // if (!metaRegion[index]) {\n      //   metaRegion[index] = this.metaConstructor(gabaritFileTmp.templateGabaritRegionDefault[0].meta);\n      // }\n      // if (!metaRegion[index]) {\n      //   // changement\n      //   // metaRegion[index] = this.props.options.gabaritDefault.templateGabaritRegionDefault[0].meta;\n      //   metaRegion[index] = this.metaConstructor(this.props.options.gabaritDefault.templateGabaritRegionDefault[0].meta);\n      // }\n      labelRegion.push(region.label);\n      if (!labelRegion[index]) {\n        labelRegion[index] = gabaritFileTmp.templateGabaritRegionDefault[0].label;\n      }\n      if (!labelRegion[index]) {\n        labelRegion[index] = this.props.options.gabaritDefault.templateGabaritRegionDefault[0].label;\n      }\n      mainMetricRegion.push({\n        key: region.mainMetric.key,\n        unit: region.mainMetric.unit,\n        format: region.mainMetric.format,\n        keyValue: '',\n        filter: filterRegion[index],\n        refId: gabaritFileTmp.queryID,\n        expr: '',\n        returnQuery: [],\n        manageValue: region.mainMetric.manageValue,\n      });\n      if (!mainMetricRegion[index].unit) {\n        mainMetricRegion[index] = {\n          key: gabaritFileTmp.templateGabaritRegionDefault[0].mainMetric.key,\n          unit: gabaritFileTmp.templateGabaritRegionDefault[0].mainMetric.unit,\n          format: gabaritFileTmp.templateGabaritRegionDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterRegion[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: gabaritFileTmp.templateGabaritRegionDefault[0].mainMetric.manageValue,\n        };\n      }\n      if (!mainMetricRegion[index].unit) {\n        mainMetricRegion[index] = {\n          key: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].mainMetric.key,\n          unit: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].mainMetric.unit,\n          format: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].mainMetric.format,\n          keyValue: '',\n          filter: filterRegion[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].mainMetric.manageValue,\n        };\n      }\n      region.metrics.forEach((element) => {\n        metricRegion[index].push({\n          key: element.key,\n          unit: element.unit,\n          format: element.format,\n          keyValue: '',\n          filter: filterRegion[index],\n          refId: gabaritFileTmp.queryID,\n          expr: '',\n          returnQuery: [],\n          manageValue: element.manageValue,\n        });\n      });\n      modeRegion.push(this.transformStringToBoolean(region.mode));\n      if (!region.mode) {\n        modeRegion[index] = this.transformStringToBoolean(gabaritFileTmp.templateGabaritRegionDefault[0].mode);\n      }\n      if (!region.mode && !gabaritFileTmp.templateGabaritRegionDefault[0].mode) {\n        modeRegion[index] = this.transformStringToBoolean(this.props.options.gabaritDefault.templateGabaritRegionDefault[0].mode);\n      }\n      idSVGRegion.push(region.idSVG);\n      if (!idSVGRegion[index]) {\n        idSVGRegion[index] = gabaritFileTmp.templateGabaritRegionDefault[0].idSVG;\n      }\n      if (!idSVGRegion[index]) {\n        idSVGRegion[index] = this.props.options.gabaritDefault.templateGabaritRegionDefault[0].idSVG;\n      }\n      imgRegion.push(region.img);\n      if (!imgRegion[index]) {\n        imgRegion[index] = gabaritFileTmp.templateGabaritRegionDefault[0].img;\n      }\n      if (!imgRegion[index]) {\n        imgRegion[index] = this.props.options.gabaritDefault.templateGabaritRegionDefault[0].img;\n      }\n      tmpToolTipA = { label: region.positionParameter.tooltipA.label, value: region.positionParameter.tooltipA.value };\n      if (!tmpToolTipA.label || !tmpToolTipA.value) {\n        tmpToolTipA = {\n          label: gabaritFileTmp.templateGabaritRegionDefault[0].positionParameter.tooltipA.label,\n          value: gabaritFileTmp.templateGabaritRegionDefault[0].positionParameter.tooltipA.value,\n        };\n      }\n      if (!tmpToolTipA.label || !tmpToolTipA.value) {\n        tmpToolTipA = {\n          label: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.tooltipA.label,\n          value: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.tooltipA.value,\n        };\n      }\n      tmpToolTipB = { label: region.positionParameter.tooltipB.label, value: region.positionParameter.tooltipB.value };\n      if (!tmpToolTipB.label || !tmpToolTipB.value) {\n        tmpToolTipB = {\n          label: gabaritFileTmp.templateGabaritRegionDefault[0].positionParameter.tooltipB.label,\n          value: gabaritFileTmp.templateGabaritRegionDefault[0].positionParameter.tooltipB.value,\n        };\n      }\n      if (!tmpToolTipB.label || !tmpToolTipB.value) {\n        tmpToolTipB = {\n          label: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.tooltipB.label,\n          value: this.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.tooltipB.value,\n        };\n      }\n      tmpLabelAPosition = coordParse(region.positionParameter.xylabelA);\n      if (!tmpLabelAPosition) {\n        tmpLabelAPosition = coordParse(gabaritFileTmp.templateGabaritRegionDefault[0].positionParameter.xylabelA);\n      }\n      if (!tmpLabelAPosition) {\n        tmpLabelAPosition = coordParse(this.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.xylabelA);\n      }\n      tmpLabelBPosition = coordParse(region.positionParameter.xylabelB);\n      if (!tmpLabelBPosition) {\n        tmpLabelBPosition = coordParse(gabaritFileTmp.templateGabaritRegionDefault[0].positionParameter.xylabelB);\n      }\n      if (!tmpLabelBPosition) {\n        tmpLabelBPosition = coordParse(this.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.xylabelB);\n      }\n      positionParameterRegion.push(\n        new PositionParameterClass(tmpLabelAPosition.x, tmpLabelAPosition.y, tmpLabelBPosition.x, tmpLabelBPosition.y, tmpToolTipA, tmpToolTipB)\n      );\n      orientedLinkAssociate.push(region.orientedLink);\n      if (!orientedLinkAssociate[index]) {\n        orientedLinkAssociate[index] = gabaritFileTmp.templateGabaritRegionDefault[0].orientedLink;\n      }\n      if (!orientedLinkAssociate[index]) {\n        orientedLinkAssociate[index] = this.props.options.gabaritDefault.templateGabaritRegionDefault[0].orientedLink;\n      }\n    });\n\n    newID = 0;\n    this.props.options.regionCoordinateSpace.forEach((element) => {\n      newID++;\n    });\n\n    filterRegion.forEach((element, index) => {\n      if (metricRegion.length > 0) {\n        let toLoad: RegionClass = new RegionClass(\n          newID + 1,\n          linkURLRegion[index],\n          metaRegion[index],\n          JSON.parse(JSON.stringify(lowerLimit)),\n          labelRegion[index] + '_' + newID,\n          JSON.parse(JSON.stringify(textObj)),\n          mainMetricRegion[index],\n          metricRegion[index],\n          colorMode,\n          traceBack,\n          traceBorder,\n          positionParameterRegion[index],\n          idSVGRegion[index],\n          orientedLinkAssociate[index],\n          posRegion[index],\n          posRegion[index],\n          modeRegion[index],\n          imgRegion[index],\n          widthInitialSpace.toString(),\n          heightInitialSpace.toString()\n        );\n        newID++;\n        this.props.options.regionCoordinateSpace.push(toLoad);\n      } else {\n        let toLoad: RegionClass = new RegionClass(\n          newID + 1,\n          linkURLRegion[index],\n          metaRegion[index],\n          JSON.parse(JSON.stringify(lowerLimit)),\n          labelRegion[index] + '_' + newID,\n          JSON.parse(JSON.stringify(textObj)),\n          mainMetricRegion[index],\n          [],\n          colorMode,\n          traceBack,\n          traceBorder,\n          positionParameterRegion[index],\n          idSVGRegion[index],\n          orientedLinkAssociate[index],\n          posRegion[index],\n          posRegion[index],\n          modeRegion[index],\n          imgRegion[index],\n          widthInitialSpace.toString(),\n          heightInitialSpace.toString()\n        );\n        newID++;\n        this.props.options.regionCoordinateSpace.push(toLoad);\n      }\n    });\n  };\n\n  gabaritUrlDisplay = (props: any): JSX.Element => {\n    if (props.list.lenght !== 0) {\n      const list = props.list.map((url: string, index: number) => (\n        <div\n          key={'GabaritUrlDiv' + index.toString()}\n          style={{\n            display: 'flex',\n          }}\n        >\n          <FormField\n            id={index.toString()}\n            key={'GabaritUrl' + index.toString()}\n            label={'Url'}\n            labelWidth={10}\n            inputWidth={25}\n            onChange={this.onGabaritListUrlChanged.bind(this)}\n            type=\"string\"\n            value={url || ''}\n          />\n          <Button size={'md'} variant=\"danger\" id={index.toString()} key={'ButtunDel' + index.toString()} onClick={this.gabaritDeletUrl.bind(this)}>\n            Delete\n          </Button>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    return <div>No targets avalaible</div>;\n  };\n\n  gabaritDisplay = (props: any): JSX.Element => {\n    if (props.list.lenght !== 0) {\n      const list = props.list.map((gabarit: GabaritFile, index: number) => (\n        <div\n          key={'GabaritDiv' + index.toString()}\n          style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n          }}\n        >\n          <div style={{ display: 'flex' }}>\n            <FormField\n              id={index.toString()}\n              key={'Gabarit' + index.toString()}\n              label={'Gabarit'}\n              labelWidth={5}\n              inputWidth={20}\n              type=\"string\"\n              value={gabarit.fileName || ''}\n              readOnly\n            />\n            <FormLabel width={15}>Querry ID</FormLabel>\n            <Select\n              onChange={(value) => this.onChangeSelectQuerryID(value, index)}\n              allowCustomValue={false}\n              options={this.state.selectQuerryID}\n              width={10}\n              value={{ label: this.props.options.saveGabaritFile[index].queryID, value: this.props.options.saveGabaritFile[index].queryID }}\n            />\n          </div>\n          <div>\n            <Button size={'md'} id={index.toString()} key={'ButtunLoad' + index.toString()} onClick={this.checkLoaderGabarit.bind(this)}>\n              <span style={{ padding: '0px 5px' }}>Load</span>\n            </Button>\n            <Button\n              size={'md'}\n              variant=\"danger\"\n              id={index.toString()}\n              key={'ButtunDel' + index.toString()}\n              onClick={this.gabaritDeletFile.bind(this)}\n            >\n              <span style={{ padding: '0px 23px' }}>Delete</span>\n            </Button>\n          </div>\n        </div>\n      ));\n      return <div>{list}</div>;\n    }\n    return <div>No targets avalaible</div>;\n  };\n\n  gabaritDefaultDisplay = (props: any): JSX.Element => {\n    if (props) {\n      const list = (\n        <div\n          style={{\n            display: 'flex',\n          }}\n        >\n          <FormField\n            key={'GabaritDefault'}\n            label={'GabaritDefault'}\n            labelWidth={10}\n            inputWidth={25}\n            type=\"string\"\n            value={props.list.fileName || ''}\n            readOnly\n          />\n          <Button size={'md'} variant=\"danger\" key={'ButtunDelDefault'} onClick={this.gabaritDeletFileDefault.bind(this)}>\n            Delete\n          </Button>\n        </div>\n      );\n      return <div>{list}</div>;\n    }\n    return <div>No targets avalaible</div>;\n  };\n\n  delAll = () => {\n    // this.props.options.arrayCoordinateSpace = [];\n    // this.props.options.arrayOrientedLinks = [];\n    // this.props.options.arrayPoints = [];\n    this.props.options.saveGabaritURL = [];\n    //this.props.options.saveGabaritURL = [];\n    // this.props.options.saveGabaritURL.mono = [];\n    this.props.onOptionsChange({ ...this.props.options, saveGabaritURL: this.props.options.saveGabaritURL });\n  };\n\n  printDefault = () => {\n    console.log('gabaritDefault');\n    console.log(this.props.options.gabaritDefault);\n  };\n\n  printPoint = () => {\n    console.log('Point');\n    console.log(this.props.options.arrayPoints);\n    this.props.options.arrayPoints.forEach((element) => {\n      console.log(element.mainMetric.filter);\n    });\n  };\n\n  printRegion = () => {\n    console.log('Region');\n    console.log(this.props.options.regionCoordinateSpace);\n  };\n\n  printLink = () => {\n    console.log('Link');\n    console.log(this.props.options.arrayOrientedLinks);\n  };\n\n  printTemp = () => {\n    console.log('gabaritDefault');\n    console.log(this.props.options.saveGabaritFile);\n  };\n\n  render() {\n    const { options } = this.props;\n    return (\n      <div>\n        <Collapse isOpen={this.state.collapseGabaritDefault} label=\"Default Gabarit URL\" onToggle={this.onToggleGabaritDefault}>\n          <div style={{ display: 'flex' }}>\n            <FormField\n              label=\"Gabarit Default Url\"\n              labelWidth={10}\n              key={'GabaritDefaultUrl'}\n              inputWidth={25}\n              onChange={this.onGabaritDefaultUrlChanged.bind(this)}\n              type=\"string\"\n              value={options.saveGabaritDefaultUrl || ''}\n            />\n            <Button size={'md'} key={'AddGabaritDefaultUrl'} onClick={this.addGabaritDefaultUrlInput}>\n              <span style={{ padding: '0px 8px' }}>Add</span>\n            </Button>\n          </div>\n          <this.gabaritDefaultDisplay list={options.gabaritDefault} />\n        </Collapse>\n        <Collapse isOpen={this.state.collapseSelectURL} label=\"Url List\" onToggle={this.onToggleSelectUrl}>\n          <div style={{ display: 'flex' }}>\n            <FormField\n              label=\"Gabarit Url\"\n              labelWidth={10}\n              key={'GabaritUrl'}\n              inputWidth={25}\n              onChange={this.onGabaritUrlChanged.bind(this)}\n              type=\"string\"\n              value={options.gabaritUrlInput || ''}\n            />\n            <Button size={'md'} key={'AddGabaritUrl'} onClick={this.addGabaritUrlInput}>\n              <span style={{ padding: '0px 8px' }}>Add</span>\n            </Button>\n          </div>\n          {/* <div className=\"section gf-form-group\"> */}\n          <div>\n            <this.gabaritUrlDisplay list={options.saveGabaritURL} />\n            {this.props.options.saveGabaritURL.length !== 0 && (\n              <div\n                style={{\n                  display: 'flex',\n                  flexDirection: 'row',\n                  justifyContent: 'right',\n                }}\n              >\n                <Button size={'md'} onClick={this.fetchGabarit}>\n                  Finish\n                </Button>\n                <Button size={'md'} key={'delAll'} onClick={this.delAll} variant=\"danger\">\n                  Delete all urls\n                </Button>\n              </div>\n            )}\n          </div>\n        </Collapse>\n        <Collapse isOpen={this.state.collapseGabarit} label=\"Gabarit List\" onToggle={this.onToggleGabarit}>\n          <this.gabaritDisplay list={options.saveGabaritFile} />\n        </Collapse>\n        {/* <Button onClick={this.printDefault}>Default</Button>\n        <Button onClick={this.printPoint}>Point</Button>\n        <Button onClick={this.printRegion}>Region</Button>\n        <Button onClick={this.printLink}>Link</Button>\n        <Button onClick={this.printTemp}>Temp</Button> */}\n      </div>\n    );\n  }\n}\nexport default Gabarit;\n","import React from 'react';\n\nimport { SimpleOptions } from './types';\n\nimport { PanelEditorProps } from '@grafana/data';\nimport { Tab, TabsBar, TabContent } from '@grafana/ui';\n\nimport CoordinateSpaceInitialClass from 'components/coordinateSpaceInitial';\nimport ImportInput from 'components/importInput';\nimport ManageCoordinateSpace from 'components/CoordinateSpace/manageCoordinateSpace';\n\nimport Display from 'components/display';\nimport Gabarit from 'components/gabarit';\n\n// import MetadataComponent from 'components/metadataComponent';\n\nimport 'style/SimpleEditor.css';\n// import { TextObject } from 'Models/TextObjectClass';\n\ninterface Props extends PanelEditorProps<SimpleOptions> {}\n\ninterface State {\n  // collapseDashboardData: boolean;\n  // collapseTimeSelector: boolean;\n  // collapsePanelData: boolean;\n  // collapsePrincipalTarget: boolean;\n\n  tabsVariable: boolean[];\n\n  tabsCoordinateSpace: boolean[];\n}\n\n/**\n * class SimpleEditor\n */\nexport class SimpleEditor extends React.PureComponent<PanelEditorProps<SimpleOptions>, State, Props> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      // collapseDashboardData: false,\n      // collapsePanelData: false,\n      // collapseTimeSelector: false,\n      // collapsePrincipalTarget: false,\n      tabsVariable: [true, false, false, false, false],\n      tabsCoordinateSpace: [true, false, false, false],\n    };\n  }\n  /********************* Display Button in relation to View or Edit */\n\n  // /**\n  //  * edit default text\n  //  */\n  // myCallBackDefaultText = (datafromChild: {\n  // \t/**\n  // \t * new police\n  // \t */\n  // \tpolice: string,\n  // \t/**\n  // \t * new size\n  // \t */\n  // \tsize: string,\n  // \t/**\n  // \t * new style (italic, bold, ...)\n  // \t */\n  // \tstyle: string,\n  // }) => {\n  // \tthis.props.onOptionsChange({\n  // \t\t...this.props.options,\n  // \t\tpolice: datafromChild.police,\n  // \t\tsize: datafromChild.size,\n  // \t\tstyle: datafromChild.style,\n  // \t});\n  // }\n\n  /// Adrien\n  // onInfoChanged = ({ target }: any) => {\n  // \tthis.props.onOptionsChange({ ...this.props.options, info: target.value });\n  // }\n\n  onRefreshChanged = ({ target }: any) => {\n    this.props.onOptionsChange({ ...this.props.options, refresh: target.value });\n  };\n\n  onTimeZoneChanged = ({ target }: any) => {\n    this.props.onOptionsChange({ ...this.props.options, timezone: target.value });\n  };\n\n  onPanelChanged = ({ target }: any, index: any) => {\n    this.props.onOptionsChange({ ...this.props.options, Id: target.value });\n  };\n\n  // onToggleDashboardData = (isOpen: boolean): void => {\n  //   this.setState({\n  //     collapseDashboardData: isOpen,\n  //   });\n  // };\n\n  // onToggleTimeSelector = (isOpen: boolean): void => {\n  //   this.setState({\n  //     collapseTimeSelector: isOpen,\n  //   });\n  // };\n\n  // onTogglePanelData = (isOpen: boolean): void => {\n  //   this.setState({\n  //     collapsePanelData: isOpen,\n  //   });\n  // };\n\n  // onTogglePrincipalTargets = (isOpen: boolean): void => {\n  //   this.setState({\n  //     collapsePrincipalTarget: isOpen,\n  //   });\n  // };\n\n  /**\n   * switch tab\n   * @param {number} id id to to new tab\n   */\n  private goToTab = (id: number) => {\n    const oldValue: boolean[] = this.state.tabsVariable.slice();\n    const size: number = oldValue.length;\n    for (let i = 0; i < size; i++) {\n      oldValue[i] = i === id ? true : false;\n    }\n    this.setState({\n      tabsVariable: oldValue,\n    });\n  };\n\n  /**\n   * swtith tab Coordinate space\n   */\n  private goToTabCoordinateSpace = (id: number) => {\n    const oldValue: boolean[] = this.state.tabsCoordinateSpace.slice();\n    const size: number = oldValue.length;\n    for (let i = 0; i < size; i++) {\n      oldValue[i] = i === id ? true : false;\n    }\n    this.setState({\n      tabsCoordinateSpace: oldValue,\n    });\n  };\n\n  componentDidMount = async () => {\n    // delete data if new dashboard\n    const url: string = window.location.pathname;\n    const arrayUrl: string[] = url.split('/');\n    for (const element of arrayUrl) {\n      if (element === 'new' && !this.props.options.currentDashboard) {\n        this.props.onOptionsChange({\n          ...this.props.options,\n          arrayPoints: [],\n          arrayOrientedLinks: [],\n          regionCoordinateSpace: [],\n          saveImportUrl: { total: [], mono: [], multi: [] },\n          saveImportFile: [],\n          totalUrlInput: '',\n          multiUrlInput: '',\n          monoUrlInput: '',\n          baseMap: {\n            image: '',\n            layerImage: '',\n            modeSVG: true,\n            idSVG: '',\n            width: '',\n            height: '',\n            isUploaded: false,\n          },\n        });\n      }\n    }\n\n    // display Button of Panel if is mode Edit\n    await Promise.resolve('Success').then(() => {\n      this.props.onOptionsChange({\n        ...this.props.options,\n        displayButton: true,\n        currentDashboard: false,\n      });\n    });\n  };\n\n  componentWillUnmount = async () => {\n    // not display Button of Panel if is mode View\n    await Promise.resolve('Success').then(() => {\n      this.props.onOptionsChange({\n        ...this.props.options,\n        displayButton: false,\n        currentDashboard: true,\n      });\n    });\n  };\n\n  /**\n   * HTML code\n   */\n  render() {\n    // const tt = new TextObject(\n    //   '',\n    //   false,\n    //   'white',\n    //   'black',\n    //   { bold: false, italic: false, underline: false },\n    //   true,\n    //   {\n    //     legendElement: '',\n    //     numericFormatElement: '5',\n    //     unit: '',\n    //     displayObjectInTooltip: false,\n    //     addColorTextElement: false,\n    //     colorTextElement: 'white',\n    //     addColorBackElement: false,\n    //     colorBackElement: 'black',\n    //   },\n    //   {\n    //     legendElement: '',\n    //     numericFormatElement: '5',\n    //     unit: '',\n    //     displayObjectInTooltip: true,\n    //     addColorTextElement: true,\n    //     colorTextElement: 'white',\n    //     addColorBackElement: true,\n    //     colorBackElement: 'black',\n    //   }\n    // );\n\n    // const testtt: Metadata = { meta: '', obj: tt };\n\n    const l10n = require('Localization/en.json');\n\n    return (\n      <div className=\"divSimpleEditor\">\n        <TabsBar className=\"page-header tabs\" hideBorder={false}>\n          <Tab key=\"tabDisplay\" label={l10n.simpleEditor.display} active={this.state.tabsVariable[0]} onChangeTab={() => this.goToTab(0)} />\n          <Tab\n            key=\"tabSpaceInitialVisualisation\"\n            label={l10n.simpleEditor.spaceInitialVisualisation}\n            active={this.state.tabsVariable[1]}\n            onChangeTab={() => this.goToTab(1)}\n          />\n          <Tab\n            key=\"tabCoordinateSpace\"\n            label={l10n.simpleEditor.CoordinateSpace}\n            active={this.state.tabsVariable[2]}\n            onChangeTab={() => this.goToTab(2)}\n          />\n          {/* <Tab key='tabMetricsSettings'\n\t\t\t\t\t\tlabel={l10n.simpleEditor.metricsSettings}\n\t\t\t\t\t\tactive={this.state.tabsVariable[3]}\n\t\t\t\t\t\tonChangeTab={() => this.goToTab(3)}\n\t\t\t\t\t/> */}\n          <Tab key=\"tabGabarit\" label=\"Gabarit\" active={this.state.tabsVariable[3]} onChangeTab={() => this.goToTab(3)} />\n          <Tab key=\"tabImportInput\" label=\"Import Files\" active={this.state.tabsVariable[4]} onChangeTab={() => this.goToTab(4)} />\n        </TabsBar>\n        <TabContent>\n          {this.state.tabsVariable[0] && <Display options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} />}\n          {this.state.tabsVariable[1] && (\n            <CoordinateSpaceInitialClass options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n          )}\n          {this.state.tabsVariable[2] && (\n            <div>\n              <TabsBar className=\"page-header tabs\" hideBorder={false}>\n                <Tab\n                  key=\"tabDisplayManageCoordinateSpace\"\n                  label=\"Region\"\n                  active={this.state.tabsCoordinateSpace[0]}\n                  onChangeTab={() => this.goToTabCoordinateSpace(0)}\n                />\n                <Tab\n                  key=\"tabDisplayPoint\"\n                  label=\"Point\"\n                  active={this.state.tabsCoordinateSpace[1]}\n                  onChangeTab={() => this.goToTabCoordinateSpace(1)}\n                />\n                {/* <Tab key='tabDisplayLink'\n\t\t\t\t\t\t\t\t\tlabel='Link'\n\t\t\t\t\t\t\t\t\tactive={this.state.tabsCoordinateSpace[2]}\n\t\t\t\t\t\t\t\t\tonChangeTab={() => this.goToTabCoordinateSpace(2)}\n\t\t\t\t\t\t\t\t/> */}\n                <Tab\n                  key=\"tabDisplayOrientedLink\"\n                  label=\"OrientedLink\"\n                  active={this.state.tabsCoordinateSpace[3]}\n                  onChangeTab={() => this.goToTabCoordinateSpace(3)}\n                />\n              </TabsBar>\n              <TabContent>\n                {this.state.tabsCoordinateSpace[0] && (\n                  <ManageCoordinateSpace\n                    options={this.props.options}\n                    onOptionsChange={this.props.onOptionsChange}\n                    data={this.props.data}\n                    isRegion={true}\n                    isPoint={false}\n                    isLink={false}\n                  />\n                )}\n                {this.state.tabsCoordinateSpace[1] && (\n                  <ManageCoordinateSpace\n                    options={this.props.options}\n                    onOptionsChange={this.props.onOptionsChange}\n                    data={this.props.data}\n                    isRegion={false}\n                    isPoint={true}\n                    isLink={false}\n                  />\n                )}\n                {this.state.tabsCoordinateSpace[3] && (\n                  <ManageCoordinateSpace\n                    options={this.props.options}\n                    onOptionsChange={this.props.onOptionsChange}\n                    data={this.props.data}\n                    isRegion={false}\n                    isPoint={false}\n                    isLink={true}\n                  />\n                )}\n              </TabContent>\n            </div>\n          )}\n          {/*\n\t\t\t\t\t\tthis.state.tabsVariable[3] &&\n\n\t\t\t\t\t\t<div className='adrien'>\n\t\t\t\t\t\t\t<Collapse isOpen={this.state.collapseDashboardData}\n\t\t\t\t\t\t\t\tlabel='Dashboard Data Display' onToggle={this.onToggleDashboardData}>\n\t\t\t\t\t\t\t\t<DashboardData options={this.props.options}\n\t\t\t\t\t\t\t\t\tonOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n\t\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t\t<Collapse isOpen={this.state.collapseTimeSelector}\n\t\t\t\t\t\t\t\tlabel='Time Selector Display' onToggle={this.onToggleTimeSelector}>\n\t\t\t\t\t\t\t\t<TimeSelector options={this.props.options}\n\t\t\t\t\t\t\t\t\tonOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n\t\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t\t<Collapse isOpen={this.state.collapsePrincipalTarget}\n\t\t\t\t\t\t\t\tlabel='Metrics Principal' onToggle={this.onTogglePrincipalTargets}>\n\t\t\t\t\t\t\t\t<MainTarget options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n\t\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t\t<Collapse isOpen={this.state.collapsePanelData} label='Metrics Aux' onToggle={this.onTogglePanelData}>\n\t\t\t\t\t\t\t\t<PanelData options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n\t\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t} */}\n          {this.state.tabsVariable[3] && (\n            <div>\n              <Gabarit options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n            </div>\n          )}\n          {this.state.tabsVariable[4] && (\n            <div>\n              <ImportInput options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} />\n            </div>\n          )}\n        </TabContent>\n        {/* <MetadataComponent options={this.props.options} onOptionsChange={this.props.onOptionsChange} data={this.props.data} meta={testtt} /> */}\n      </div>\n    );\n  }\n}\n","import { PanelPlugin } from '@grafana/data';\nimport { SimpleOptions, defaults } from './types';\nimport { SimplePanel } from 'SimplePanel';\nimport { SimpleEditor } from 'SimpleEditor';\n\nexport const plugin = new PanelPlugin<SimpleOptions>(SimplePanel).setDefaults(defaults).setEditor(SimpleEditor);\n","import { SelectableValue, DataFrame } from '@grafana/data';\nimport { LowerLimitClass } from 'Models/LowerLimitClass';\nimport { PointClass } from 'Models/PointClass';\nimport { LinkClass } from 'Models/LinkClass';\nimport { OrientedLinkClass } from 'Models/OrientedLinkClass';\nimport { RegionClass, Coord4D } from 'Models/RegionClass';\nimport { Style } from 'components/Parametrage/styleComponent';\n// import { TextObject } from 'Models/TextObjectClass';\nimport { Filtred } from 'Functions/loaderGabarit';\nimport { TextObject } from 'Models/TextObjectClass';\n\n/**\n * interface to save texte settings (police, size, style)\n */\nexport interface TexteSettings {\n  /** police simple panel */\n  police: string;\n  /** size simple panel */\n  size: string;\n  /** style simple panel */\n  style: Style;\n}\n\nexport interface MetaFile {\n  meta: string;\n  obj: {\n    colorText: string;\n    colorBack: string;\n    style: {\n      bold: string;\n      italic: string;\n      underline: string;\n    };\n  };\n}\n\nexport interface LowerLimit {\n  id: number;\n  lowerLimitMin: string;\n  lowerLimitMax: string;\n  backColor: string;\n  borderColor: string;\n  sizeBorder: string;\n}\n\nexport interface GabaritFile {\n  fileName: string;\n  queryID: string;\n  loaded: boolean;\n  globalGabarit: GlobalGabarit;\n  templateGabaritPoint: TemplateGabaritPoint[];\n  templateGabaritRegion: TemplateGabaritRegion[];\n  templateGabaritLink: TemplateGabaritLink[];\n  templateGabaritPointDefault: TemplateGabaritPoint[];\n  templateGabaritRegionDefault: TemplateGabaritRegion[];\n  templateGabaritLinkDefault: TemplateGabaritLink[];\n}\n\nexport interface GlobalGabarit {\n  lowerLimit: any[];\n  textObject: any;\n  defaultColor: string;\n  colorMode: string;\n  traceBack: string;\n  traceBorder: string;\n}\n\nexport interface TemplateGabaritPoint {\n  filtered: string;\n  labelfix: string;\n  xylabel: string;\n  xylabelfix: string;\n  type: string;\n  name: string;\n  meta: MetaFile[];\n  label: string;\n  positionParameter: any;\n  mainMetric: Metric;\n  metrics: Metric[];\n  linkURL: any;\n  valueMetric: string;\n  drawGraphicMarker: SelectableValue<string>;\n  shape: SelectableValue<string>;\n  // sizeWidth: SelectableValue<string>;\n  sizeWidth: string;\n  sizeHeight: SelectableValue<string>;\n  color: string;\n  associateOrientedLinksIn: OrientedLinkClass[];\n  associateOrientedLinksOut: OrientedLinkClass[];\n}\n\nexport interface TemplateGabaritRegion {\n  filtered: string;\n  labelfix: string;\n  xylabel: string;\n  //xylabel0: string;\n  xylabelfix: string;\n  //xylabelfix0: string;\n  type: string;\n  meta: MetaFile[];\n  label: string;\n  positionParameter: any;\n  mainMetric: Metric;\n  metrics: Metric[];\n  linkURL: any;\n  idSVG: string;\n  mode: string;\n  img: string;\n  orientedLink: OrientedLinkClass[];\n  color: string;\n}\n\nexport interface TemplateGabaritLink {\n  filtered: string;\n  labelfix: string;\n  xylabelA: string;\n  xylabelB: string;\n  xylabelC: string;\n  xylabelfixA: string;\n  xylabelfixB: string;\n  xylabelfixC: string;\n  type: string;\n  name: string;\n  meta: MetaFile[];\n  label: string;\n  positionParameter: any;\n  mainMetric: Metric;\n  metrics: Metric[];\n  mainMetricB: Metric;\n  metricsB: Metric[];\n  linkURL: any;\n  orientationLink: SelectableValue<string>;\n  size: string;\n  colorCoordinateA: string;\n  colorCoordinateB: string;\n  valueMainMetricA: string;\n  valueMainMetricB: string;\n  pointIn: string;\n  pointOut: string;\n  regionIn: string;\n  regionOut: string;\n  zIndex: string;\n  isIncurved: SelectableValue<string>;\n  color: string;\n}\n\nexport interface Metadata {\n  meta: string;\n  obj: TextObject;\n}\n\nexport declare type TManageValue = 'avg' | 'sum' | 'err';\n\nexport interface Metric {\n  key: string;\n  unit: string;\n  /** ecriture scientifique */\n  format: string;\n  keyValue: string;\n  filter?: Filtred[];\n  refId?: string;\n  expr?: string;\n  returnQuery?: DataFrame[];\n  /** avg, count, error */\n  manageValue: TManageValue;\n}\n\nexport interface MetricSettings {\n  /**\n   * fond is active (color)\n   */\n  fondIsActive: boolean;\n  /**\n   * contour is active\n   */\n  contourIsActive: boolean;\n  /**\n   * seuil for variable color\n   */\n  lowerLimit: LowerLimitClass[];\n  /**\n   * color mode for parametresGeneriques\n   */\n  colorMode: boolean;\n}\n\nexport interface MetricQuery {\n  __name__: string;\n  job: string;\n  //key: string,\n}\n\nexport interface ResultQuery {\n  metric: any;\n  value: any[];\n}\n\nexport interface DataQuery {\n  resultType: string;\n  result: ResultQuery[];\n}\n\nexport interface ReturnQuery {\n  status: string;\n  data: DataQuery;\n}\n\nexport interface Target {\n  expr: string;\n  refId?: string;\n}\n\nexport interface Background {\n  /** background image */\n  image: string;\n  /** layer image */\n  layerImage: string;\n  /** use image svg or value get by user */\n  modeSVG: boolean;\n  /** size width image or get by user */\n  width: string;\n  /** size height image or get by user */\n  height: string;\n  /** id svg for tag */\n  idSVG: string;\n  /** check if is Url or Uploaded from computer */\n  isUploaded: boolean;\n  /** name of uploaded file if image is uploaded from computer */\n  nameUploadedImage?: string;\n}\n\nexport interface TimeRange {\n  from: string;\n  to: string;\n}\n\nexport interface UrlList {\n  total: string[];\n  multi: string[];\n  mono: string[];\n}\n\nexport interface ImportFile {\n  name: string;\n  content: string;\n}\n\nexport interface CoordinateSpaceInitial {\n  /** coordinate for initial space */\n  coordinate: Coord4D;\n  /** display zone in SimplePanel (orange rectangle) */\n  displayArea: boolean;\n  /** if true use default coor 0-100 else use -100-100 */\n  //defaultReferentiel: boolean;\n}\n\ninterface Legend {\n  hiddenLegend: boolean;\n  x: number;\n  y: number;\n}\n\n/**\n * Stock the values between SimpleEditor and SimplePanel\n */\n// tslint:disable-next-line:interface-name\nexport interface SimpleOptions extends MetricSettings {\n  /** legend */\n  legend: Legend;\n\n  /** display: police, size and style text */\n  display: TexteSettings;\n  /****to do */\n  displayButton: boolean;\n  /**\n   * Espace de visualisation initial\n   */\n  coordinateSpaceInitial: CoordinateSpaceInitial;\n\n  /**\n   * Espace de coordonnees\n   */\n  regionCoordinateSpace: RegionClass[];\n\n  /**\n   * Liste des points générés depuis l'onglet Point\n   */\n  arrayPoints: PointClass[];\n\n  /**\n   * Liste des liens générés depuis l'onglet Link\n   */\n  arrayLinks: LinkClass[];\n\n  /**\n   * Liste des liens orientés générés depuis l'onglet OrientedLink\n   */\n  arrayOrientedLinks: OrientedLinkClass[];\n\n  /**\n   * Raw format of dashboard's json\n   */\n  contentJson: string;\n  /**\n   * Object format of dashboard's json\n   */\n  Json: any;\n  /**\n   * Id of dashboard\n   */\n  Id: number;\n  /**\n   * Uid of dashboard\n   */\n  uid: string;\n  /**\n   * Title of dashboard\n   */\n  title: string;\n  /**\n   * Style of dashboard\n   */\n  style: string;\n  /**\n   * True of false is the dashboard is editable\n   */\n  editable: string;\n  /**\n   * Version number of the dashboard\n   */\n  version: number;\n  /**\n   * Refresh time that is picked\n   */\n  refresh: SelectableValue<string>;\n  /**\n   * Shemas version number of the dashboard\n   */\n  shemaVersion: number;\n  /**\n   * Timezone of the dashboard\n   */\n  timezone: string;\n  /**\n   * Actual panel selected in \"Time selector display\"\n   */\n  actualPanel: SelectableValue<string>;\n  /**\n   * List of panel selectable in the dashboard\n   */\n  panelList: Array<SelectableValue<string>>;\n  /**\n   * Id of the selected panel\n   */\n  panelId: number;\n  /**\n   * Type of the selected panel\n   */\n  panelType: string;\n  /**\n   * List of targets in the selected panel\n   */\n  panelTargets: Target[];\n  /**\n   * List of targets loaded for fetch data\n   */\n  promTargets: Target[];\n  /**\n   * List of target load at init for fetch data\n   */\n  promGlobalTargets: Target[];\n  /**\n   * Time range selected for fetch data\n   */\n  timeRange: TimeRange;\n  /**\n   * Input of editable target\n   */\n  personalTarget: Target;\n  /**\n   * Time instant selected for fetch data\n   */\n  timeQuery: string;\n  /**\n   * Input of prometheus server url\n   */\n  promUrl: string;\n  /**\n   * List of query that will be send to the server\n   */\n  queryProm: string[];\n  /**\n   * List of iniot query that will be send to the server\n   */\n  queryPromGlobal: string[];\n  /**\n   * List of range query that will be send to the server\n   */\n  queryPromRange: string[];\n  /**\n   * List of time that can be picked in \"Time selector display\"\n   */\n  listStep: Array<SelectableValue<string>>;\n  /**\n   * Return of the prometheus's API call\n   */\n  jsonQueryReturn: ReturnQuery[];\n  /**\n   * Return of the init prometheus's API call\n   */\n  jsonGlobalQueryReturn: ReturnQuery[];\n  /**\n   * TODO\n   */\n  mainTarget: Target;\n  /**\n   * TODO\n   */\n  mainQueryProm: string;\n  /**\n   * TODO\n   */\n  mainQueryReturn: ReturnQuery;\n\n  testMainQueryReturn: any;\n\n  coordinatesToDrawLinkWithClick: [\n    {\n      id: number;\n    },\n    {\n      x: number;\n      xDefault: number;\n      y: number;\n      yDefault: number;\n      labelPoint: string;\n      point: any;\n      labelRegion: string;\n      region: any;\n    },\n    {\n      x: number;\n      xDefault: number;\n      y: number;\n      yDefault: number;\n      labelPoint: string;\n      point: any;\n      labelRegion: string;\n      region: any;\n    },\n    {\n      x: number;\n      y: number;\n      labelPoint: string;\n      point: any;\n      labelRegion: string;\n      region: any;\n    }\n  ];\n\n  indexOrientedLink: number;\n\n  indexPoint: number;\n\n  indexRegion: number;\n\n  listCollapsePoint: boolean[];\n\n  listCollapseOrientedLink: boolean[];\n  /** background image with property */\n  baseMap: Background;\n  saveImportUrl: UrlList;\n  saveImportFile: ImportFile[];\n  totalUrlInput: string;\n  multiUrlInput: string;\n  monoUrlInput: string;\n\n  zIndexOrientedLink: number;\n  orientedLinkToUpgrade: SelectableValue<OrientedLinkClass>;\n  orientedLinkToDowngrade: SelectableValue<OrientedLinkClass>;\n  checkIndexMultiLink: number;\n\n  newPoint: boolean;\n  newOrientedLink: boolean;\n\n  currentDashboard: boolean;\n\n  gabaritUrlInput: string;\n\n  saveGabaritDefaultUrl: string;\n\n  saveMetadatavalue: string[];\n  saveGabaritURL: string[];\n  saveGabaritFile: GabaritFile[];\n  saveDefaultGabaritFile: GabaritFile;\n  gabaritDefault: GabaritFile;\n  updateOnlyInitialSpace: boolean;\n}\n\nexport const defaults: SimpleOptions = {\n  saveGabaritDefaultUrl: '',\n  saveDefaultGabaritFile: {\n    queryID: 'A',\n    fileName: '',\n    loaded: false,\n    globalGabarit: {\n      lowerLimit: [\n        {\n          id: 0,\n          lowerLimitMin: '0',\n          lowerLimitMax: '0',\n          backColor: 'blue',\n          borderColor: 'red',\n          sizeBorder: '1px',\n        },\n      ],\n      textObject: {\n        value: 'default',\n        isTextTooltip: 'false',\n        colorBack: 'blue',\n        colorText: 'black',\n        style: {\n          bold: 'false',\n          italic: 'false',\n          underline: 'false',\n        },\n        generateObjectText: 'false',\n        valueGenerateObjectText: {\n          legendElement: 'default',\n          numericFormatElement: 'default',\n          unit: 'default',\n          displayObjectInTooltip: 'false',\n          addColorTextElement: 'false',\n          colorTextElement: 'black',\n          addColorBackElement: 'false',\n          colorBackElement: 'white',\n        },\n        generateAuxiliaryElement: {\n          legendElement: 'default',\n          numericFormatElement: 'default',\n          unit: 'default',\n          displayObjectInTooltip: 'false',\n          addColorTextElement: 'false',\n          colorTextElement: 'black',\n          addColorBackElement: 'false',\n          colorBackElement: 'white',\n        },\n      },\n      defaultColor: 'black',\n      colorMode: 'true',\n      traceBack: 'true',\n      traceBorder: 'true',\n    },\n    templateGabaritPoint: [],\n    templateGabaritRegion: [],\n    templateGabaritLink: [],\n    templateGabaritPointDefault: [],\n    templateGabaritRegionDefault: [],\n    templateGabaritLinkDefault: [],\n  },\n  legend: { hiddenLegend: true, x: 0, y: 0 },\n  baseMap: {\n    image: '',\n    layerImage: '',\n    modeSVG: true,\n    width: '0',\n    height: '0',\n    idSVG: '',\n    isUploaded: false,\n  },\n  // imageUrl: 'https://upload.wikimedia.org/wikipedia/en/b/be/Locator_Grid.png',\n  coordinateSpaceInitial: {\n    coordinate: {\n      xMin: '0',\n      xMax: '0',\n      yMin: '0',\n      yMax: '0',\n    },\n    displayArea: true,\n  },\n  displayButton: false,\n  regionCoordinateSpace: [],\n  arrayPoints: [],\n  arrayLinks: [],\n  arrayOrientedLinks: [],\n  display: {\n    police: 'Helvetica',\n    size: '1em',\n    style: { italic: false, bold: false, underline: false },\n  },\n  fondIsActive: true,\n  contourIsActive: true,\n  lowerLimit: [],\n  colorMode: true,\n  contentJson: 'contenu du dashboard',\n  Id: 0,\n  uid: '',\n  title: '',\n  style: '',\n  editable: '',\n  version: 0,\n  refresh: { value: '0', label: '0' },\n  shemaVersion: 0,\n  timezone: '',\n  actualPanel: { value: '0', label: '0' },\n  panelList: [{ value: '0', label: '0' }],\n  panelId: 0,\n  panelType: '',\n  panelTargets: [],\n  promTargets: [],\n  promGlobalTargets: [],\n  Json: {},\n  timeRange: { from: '2020-01-02 00:00:00', to: '2020-01-02 00:00:00' },\n  personalTarget: { expr: '' },\n  timeQuery: '2020-01-02 00:00:00',\n  promUrl: 'http://localhost:9090/api/v1/',\n  queryProm: [],\n  queryPromGlobal: [],\n  queryPromRange: [],\n  listStep: [{ value: '0', label: '0' }],\n  jsonQueryReturn: [],\n  jsonGlobalQueryReturn: [],\n  mainTarget: { expr: '' },\n  mainQueryProm: '',\n  mainQueryReturn: {\n    status: '',\n    data: {\n      resultType: '',\n      result: [\n        {\n          metric: {\n            __name__: '',\n            job: '',\n            //key: '',\n          },\n          value: [],\n        },\n      ],\n    },\n  },\n  testMainQueryReturn: {},\n  coordinatesToDrawLinkWithClick: [\n    {\n      id: 0,\n    },\n    {\n      x: 0,\n      xDefault: 0,\n      y: 0,\n      yDefault: 0,\n      labelPoint: '',\n      point: {},\n      labelRegion: '',\n      region: {},\n    },\n    {\n      x: 0,\n      xDefault: 0,\n      y: 0,\n      yDefault: 0,\n      labelPoint: '',\n      point: {},\n      labelRegion: '',\n      region: {},\n    },\n    {\n      x: 0,\n      y: 0,\n      labelPoint: '',\n      point: {},\n      labelRegion: '',\n      region: {},\n    },\n  ],\n  indexOrientedLink: 0,\n  indexPoint: 0,\n  indexRegion: 0,\n  listCollapsePoint: [],\n  listCollapseOrientedLink: [],\n  saveImportUrl: {\n    total: [],\n    multi: [],\n    mono: [],\n  },\n  saveImportFile: [],\n  totalUrlInput: '',\n  multiUrlInput: '',\n  monoUrlInput: '',\n  zIndexOrientedLink: 1,\n  orientedLinkToUpgrade: {},\n  orientedLinkToDowngrade: {},\n  checkIndexMultiLink: 0,\n  newPoint: true,\n  newOrientedLink: true,\n  currentDashboard: false,\n  gabaritUrlInput: '',\n  saveGabaritURL: [],\n  saveMetadatavalue: [],\n  saveGabaritFile: [],\n  gabaritDefault: {\n    queryID: 'A',\n    fileName: 'default',\n    loaded: false,\n    globalGabarit: {\n      lowerLimit: [\n        {\n          id: 0,\n          lowerLimitMin: '',\n          lowerLimitMax: '',\n          backColor: 'blue',\n          borderColor: 'red',\n          sizeBorder: '1',\n        },\n      ],\n      textObject: {\n        value: 'default',\n        isTextTooltip: 'false',\n        colorBack: 'blue',\n        colorText: 'black',\n        style: {\n          bold: 'false',\n          italic: 'false',\n          underline: 'false',\n        },\n        generateObjectText: 'false',\n        valueGenerateObjectText: {\n          legendElement: 'default',\n          numericFormatElement: 'default',\n          unit: 'default',\n          displayObjectInTooltip: 'false',\n          addColorTextElement: 'false',\n          colorTextElement: 'black',\n          addColorBackElement: 'false',\n          colorBackElement: 'white',\n        },\n        generateAuxiliaryElement: {\n          legendElement: 'default',\n          numericFormatElement: 'default',\n          unit: 'default',\n          displayObjectInTooltip: 'false',\n          addColorTextElement: 'false',\n          colorTextElement: 'black',\n          addColorBackElement: 'false',\n          colorBackElement: 'white',\n        },\n      },\n      defaultColor: 'black',\n      colorMode: 'true',\n      traceBack: 'true',\n      traceBorder: 'true',\n    },\n    templateGabaritPoint: [],\n    templateGabaritRegion: [],\n    templateGabaritLink: [],\n    templateGabaritPointDefault: [],\n    templateGabaritRegionDefault: [],\n    templateGabaritLinkDefault: [],\n  },\n  updateOnlyInitialSpace: false,\n};\n"],"sourceRoot":""}