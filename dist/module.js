define(["react","@grafana/ui","@grafana/data"],(function(e,t,i){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=11)}([function(t,i){t.exports=e},function(e,i){e.exports=t},function(e){e.exports={objectVisibility:{decalCenterPointTextRegion:"Shift the center point of the text region",decalCenterBubble:"Shift the point or center of a tooltip",forceCalqueLevel:"Force a specific layer level",forceCourbSpecificLink:"Force a specific link curvature",calcLevel:"Layer level",courbure:"Curvature"},basics:{abscisses:"Abscissa",ordonnees:"Ordered",delete:"Delete",label:"Label"},simpleEditor:{renduTextDefault:"Default text rendering",display:"Display",pictureLink:"Image SVG",genericSettings:"Generic parameters",genericSettingsBis:"Generic parameters bis",spaceInitialVisualisation:"Initial viewing space",CoordinateSpace:"Coordinates space",objectVisibility:"Visibility of objects",metricsSettings:"Metrics Settings"},coordinateSpace:{addCoordinate:"Add coordinates"},initialCoordonateSpace:{label:"Initial coordinates space"},inputCoordinate:{minXPosition:"Position X min",maxXPosition:"Position X max",minYPosition:"Position Y min",maxYPosition:"Position Y max",image:"Image",interfaceJson:"Interface name",key:"Key",valueKey:"Value key"},textDefault:{police:"Font",size:"Size",style:"Style"},genericParameter:{settingPrincipalMetric:"Main metric parameter",graphicObject:"Graphic object",variableColor:"Variable color",traceBackground:"Trace the background",traceContour:"Trace the border"},metricPrincipalSetting:{followLink:"Following link",link:"Link",text:"Text",linkTooltip:"Link tooltip",textInTooltip:"Text in tooltip"},colorVariable:{switchBackgroundColor:"Edit background color",switchOutlineColor:"Edit border color",thicknessOutline:"Size border",variationNumber:"Variation number",number:"Number",addColor:"Add color",infoSeuil:"Info seuil"},textObject:{titleTextObject:"A text object",optionalLegend:"Optional legend",legend:"Legend",value:"Value",optionalUnit:"Optional unit",unit:"Unit",principalMetric:"Principal metric",textRegion:"Text region",colorBackground:"Color background",colorText:"Color text",colorTextOptional:"Optional color text",textStyle:"Text style",style:"Style",textBubble:"Text tooltip",generateTextObject:"Generate text object",auxiliaryElement:"Auxiliary element",digitalFormatting:"Decimals",mesureUnit:"Unit of measure (if metric)",objectDisplayTextTooltip:"Object display in text or tooltip",objectDisplayInPermanentlyHover:"Object display in permanently or hovering",backgroundColor:"Background color",optionalBackgroundColor:"Optional background color",save:"Save"},defaultTextRendering:{}}},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var a=(r=n,l=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(s," */")),o=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[i].concat(o).concat([a]).join("\n")}var r,l,s;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(n)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(a[r]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);n&&a[s[0]]||(i&&(s[2]?s[2]="".concat(i," and ").concat(s[2]):s[2]=i),t.push(s))}},t}},function(e,t,i){var n,a,o={},r=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=n.apply(this,arguments)),a}),l=function(e,t){return t?t.querySelector(e):document.querySelector(e)},s=function(e){var t={};return function(e,i){if("function"==typeof e)return e();if(void 0===t[e]){var n=l.call(this,e,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),p=null,c=0,u=[],d=i(8);function h(e,t){for(var i=0;i<e.length;i++){var n=e[i],a=o[n.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](n.parts[r]);for(;r<n.parts.length;r++)a.parts.push(v(n.parts[r],t))}else{var l=[];for(r=0;r<n.parts.length;r++)l.push(v(n.parts[r],t));o[n.id]={id:n.id,refs:1,parts:l}}}}function f(e,t){for(var i=[],n={},a=0;a<e.length;a++){var o=e[a],r=t.base?o[0]+t.base:o[0],l={css:o[1],media:o[2],sourceMap:o[3]};n[r]?n[r].parts.push(l):i.push(n[r]={id:r,parts:[l]})}return i}function m(e,t){var i=s(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),u.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=s(e.insertAt.before,i);i.insertBefore(t,a)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function b(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return i.nc}();n&&(e.attrs.nonce=n)}return y(t,e.attrs),m(e,t),t}function y(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function v(e,t){var i,n,a,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var r=c++;i=p||(p=b(t)),n=C.bind(null,i,r,!1),a=C.bind(null,i,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),m(e,t),t}(t),n=S.bind(null,i,t),a=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=b(t),n=I.bind(null,i),a=function(){g(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=f(e,t);return h(i,t),function(e){for(var n=[],a=0;a<i.length;a++){var r=i[a];(l=o[r.id]).refs--,n.push(l)}e&&h(f(e,t),t);for(a=0;a<n.length;a++){var l;if(0===(l=n[a]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete o[l.id]}}}};var x,k=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")});function C(e,t,i,n){var a=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=k(t,a);else{var o=document.createTextNode(a),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function I(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function S(e,t,i){var n=i.css,a=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||o)&&(n=d(n)),a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var r=new Blob([n],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(r),l&&URL.revokeObjectURL(l)}},function(e,t){e.exports=i},function(e,t,i){var n=i(7);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,a);n.locals&&(e.exports=n.locals)},function(e,t,i){(t=i(3)(!0)).push([e.i,"div.inputCoor {\n  margin-bottom: 2%; }\n\ndiv.buttonAddCoor {\n  text-align: center; }\n","",{version:3,sources:["CoordinateSpace.css"],names:[],mappings:"AAAA;EACE,iBAAiB,EAAE;;AAErB;EACE,kBAAkB,EAAE",file:"CoordinateSpace.css",sourcesContent:["div.inputCoor {\n  margin-bottom: 2%; }\n\ndiv.buttonAddCoor {\n  text-align: center; }\n"]}]),e.exports=t},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var a,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(a=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")}))}},function(e,t,i){var n=i(10);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,a);n.locals&&(e.exports=n.locals)},function(e,t,i){(t=i(3)(!0)).push([e.i,"div.divSimpleEditor {\n  width: 100%;\n  /* margin: 2%;\n  padding: 2%; */ }\n\ndiv.CoordinateSpaceInitital {\n  /* margin: 1%; */\n  /* margin-bottom: 8%; */ }\n\nh3.titreSection {\n  margin-bottom: 2%;\n  /*   color: blue; */ }\n\n.parameter-interface-container {\n  width: 100%; }\n\n.parameter-interface-list-title {\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex-direction: row;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-justify-content: space-around;\n      -ms-flex-pack: distribute;\n          justify-content: space-around;\n  border-bottom: 4px solid white;\n  margin: 10px 0; }\n\n.parameter-interface-title {\n  padding: 10px;\n  list-style: none;\n  cursor: pointer; }\n","",{version:3,sources:["SimpleEditor.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX;gBACc,EAAE;;AAElB;EACE,gBAAgB;EAChB,uBAAuB,EAAE;;AAE3B;EACE,iBAAiB;EACjB,mBAAmB,EAAE;;AAEvB;EACE,WAAW,EAAE;;AAEf;EACE,qBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,2BAAmB;MAAnB,uBAAmB;UAAnB,mBAAmB;EACnB,qCAA6B;MAA7B,yBAA6B;UAA7B,6BAA6B;EAC7B,8BAA8B;EAC9B,cAAc,EAAE;;AAElB;EACE,aAAa;EACb,gBAAgB;EAChB,eAAe,EAAE",file:"SimpleEditor.css",sourcesContent:["div.divSimpleEditor {\n  width: 100%;\n  /* margin: 2%;\n  padding: 2%; */ }\n\ndiv.CoordinateSpaceInitital {\n  /* margin: 1%; */\n  /* margin-bottom: 8%; */ }\n\nh3.titreSection {\n  margin-bottom: 2%;\n  /*   color: blue; */ }\n\n.parameter-interface-container {\n  width: 100%; }\n\n.parameter-interface-list-title {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  border-bottom: 4px solid white;\n  margin: 10px 0; }\n\n.parameter-interface-title {\n  padding: 10px;\n  list-style: none;\n  cursor: pointer; }\n"]}]),e.exports=t},function(e,t,i){"use strict";i.r(t);var n=i(5),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function o(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var r=function(){return(r=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function l(e,t,i,n){return new(i||(i=Promise))((function(a,o){function r(e){try{s(n.next(e))}catch(e){o(e)}}function l(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,l)}s((n=n.apply(e,t||[])).next())}))}function s(e,t){var i,n,a,o,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,n=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(6===o[0]&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],n=0}finally{i=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var c=i(0),u=i.n(c),d=i(1),h=function(e,t,i,n,a,o,r,l,s,p,c,u){this.id=e,this.linkURL=t,this.meta=i,this.lowerLimit=n,this.label=a,this.textObj=o,this.mainMetric=r,this.metrics=l,this.colorMode=s,this.traceBack=p,this.traceBorder=c,this.positionParameter=u},f=function(e){function t(t,i,n,a,o,r,l,s,p,c,u,d,h,f,m,g,b,y,v,x,k,C,I,S,E,M,L,O){var T=e.call(this,t,i,n,a,o,r,l,s,p,c,u,d)||this;return T.name=h,T.valueMetric=f,T.drawGraphicMarker=m,T.shape=g,T.sizeWidth=b,T.sizeHeight=y,T.rotateArrow=v,T.positionShapeX=x,T.positionShapeY=k,T.color=C,T.associateOrientedLinksIn=I,T.associateOrientedLinksOut=S,T.widthInitialSpaceDefault=E,T.heightInitialSpaceDefault=M,T.positionXDefault=L,T.positionYDefault=O,T}return o(t,e),t}(h),m=function(e,t,i,n,a,o){this.labelAPositionX=e,this.labelAPositionY=t,this.labelBPositionX=i,this.labelBPositionY=n,this.tooltipPositionA=a,this.tooltipPositionB=o},g=function(e){function t(t,i,n,a,o,r,l,s,p,c,u,d,h,f,m,g,b,y,v,x,k,C,I,S,E,M,L,O,T,B,A,D,w,P,j,G,V,R,F,U,z){var W=e.call(this,t,i,n,a,o,r,l,s,p,c,u,d)||this;return W.name=h,W.orientationLink=f,W.size=m,W.pointAPositionX=g,W.pointAPositionY=b,W.colorCoordinateA=y,W.pointBPositionX=v,W.pointBPositionY=x,W.colorCoordinateB=k,W.valueMainMetricA=C,W.valueMainMetricB=I,W.pointIn=S,W.pointOut=E,W.regionIn=M,W.regionOut=L,W.zIndex=O,W.pointCPositionX=T,W.pointCPositionY=B,W.isIncurved=A,W.mainMetricB=D,W.metricsB=w,W.widthInitialSpaceDefault=P,W.heightInitialSpaceDefault=j,W.pointAPositionXDefault=G,W.pointAPositionYDefault=V,W.pointBPositionXDefault=R,W.pointBPositionYDefault=F,W.pointCPositionXDefault=U,W.pointCPositionYDefault=z,W}return o(t,e),t}(h),b=function(e,t,i,n,a,o,r,l){this.value=e,this.isTextTooltip=t,this.colorBack=i,this.colorText=n,this.style=a,this.generateObjectText=o,this.valueGenerateObjectText=r,this.generateAuxiliaryElement=l},y=function(){function e(e,t,i){this.followLink=e,this.hoveringTooltipLink=t,this.hoveringTooltipText=i}return Object.defineProperty(e.prototype,"getFollowLink",{get:function(){return this.followLink},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setFollowLink",{set:function(e){this.followLink=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getHoveringTooltipLink",{get:function(){return this.hoveringTooltipLink},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setHoveringTooltipLink",{set:function(e){this.hoveringTooltipLink=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getHoveringTooltipText",{get:function(){return this.hoveringTooltipText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setHoveringTooltipText",{set:function(e){this.hoveringTooltipText=e},enumerable:!0,configurable:!0}),e}(),v=function(e,t){var i,n,a=[];try{for(var o=p(t.data.series),r=o.next();!r.done;r=o.next()){var l=r.value;l.refId===e.mainMetric.refId&&a.push(l)}}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}e.mainMetric.returnQuery=a},x=function(e,t){var i,n,a,o;try{for(var r=p(e.metrics),l=r.next();!l.done;l=r.next()){var s=l.value,c=[];try{for(var u=(a=void 0,p(t.data.series)),d=u.next();!d.done;d=u.next()){var h=d.value;h.refId===s.refId&&c.push(h)}}catch(e){a={error:e}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}s.returnQuery=c}}catch(e){i={error:e}}finally{try{l&&!l.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}},k=function(e,t){var i,n,a=[];try{for(var o=p(t.data.series),r=o.next();!r.done;r=o.next()){var l=r.value;l.refId===e.mainMetric.refId&&a.push(l)}}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}e.mainMetric.returnQuery=a},C=function(e,t){var i,n,a,o;try{for(var r=p(e.metrics),l=r.next();!l.done;l=r.next()){var s=l.value,c=[];try{for(var u=(a=void 0,p(t.data.series)),d=u.next();!d.done;d=u.next()){var h=d.value;h.refId===s.refId&&c.push(h)}}catch(e){a={error:e}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}s.returnQuery=c}}catch(e){i={error:e}}finally{try{l&&!l.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}},I=function(e,t){var i,n,a=[],o=[];try{for(var r=p(t.data.series),l=r.next();!l.done;l=r.next()){var s=l.value;s.refId===e.mainMetric.refId&&a.push(s),s.refId===e.mainMetricB.refId&&o.push(s)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}e.mainMetric.returnQuery=a,e.mainMetricB.returnQuery=o},S=function(e,t){var i,n,a,o,r,l,s,c;try{for(var u=p(e.metrics),d=u.next();!d.done;d=u.next()){var h=d.value,f=[];try{for(var m=(a=void 0,p(t.data.series)),g=m.next();!g.done;g=m.next()){(C=g.value).refId===h.refId&&f.push(C)}}catch(e){a={error:e}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}h.returnQuery=f}}catch(e){i={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}try{for(var b=p(e.metricsB),y=b.next();!y.done;y=b.next()){h=y.value;var v=[];try{for(var x=(s=void 0,p(t.data.series)),k=x.next();!k.done;k=x.next()){var C;(C=k.value).refId===h.refId&&v.push(C)}}catch(e){s={error:e}}finally{try{k&&!k.done&&(c=x.return)&&c.call(x)}finally{if(s)throw s.error}}h.returnQuery=v}}catch(e){r={error:e}}finally{try{y&&!y.done&&(l=b.return)&&l.call(b)}finally{if(r)throw r.error}}},E=function(e,t){var i,n,a;if(""===t.key&&""===t.keyValue)return!0;var o=(null===(a=e.name)||void 0===a?void 0:a.split("{"))[1].split(",").flatMap((function(e){return e.replace(/[\"{}]/gm,"")}))||[];if(o&&o.length>0)try{for(var r=p(o),l=r.next();!l.done;l=r.next()){var s=l.value.split("=");if(2===s.length&&s[0]===t.key&&s[1]===t.keyValue)return!0}}catch(e){i={error:e}}finally{try{l&&!l.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return!1},M=function(e,t){var i,n,a,o,r;if(!t.filter)return!0;var l=0,s=t.filter,c=(null===(r=e.name)||void 0===r?void 0:r.split("{"))[1].split(",").map((function(e){return e.replace(/[\"{}]/gm,"")}))||[];if(c&&c.length>0){try{for(var u=p(c),d=u.next();!d.done;d=u.next()){var h=d.value.split("=");try{for(var f=(a=void 0,p(s)),m=f.next();!m.done;m=f.next()){var g=m.value;2===h.length&&h[0]===g.label&&h[1]===g.value&&l++}}catch(e){a={error:e}}finally{try{m&&!m.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}}}catch(e){i={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}if(l===s.length)return!0}return!1},L=function(e){var t,i,n,a,o=null;if(e.returnQuery&&e.returnQuery.length>0){var r=[],l=0;if(o=0,e.filter){try{for(var s=p(e.returnQuery),c=s.next();!c.done;c=s.next()){h=c.value;if(M(h,e))for(f=h.fields[0].values.length,m=0;m<f;m++)h.fields.length>0&&h.fields[0].values.get(m)&&(o+=h.fields[0].values.get(m),r.push(h.fields[0].values.get(m)),++l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}"avg"===e.manageValue?o/=l:"err"===e.manageValue&&l>1&&(o=null)}else{try{for(var u=p(e.returnQuery),d=u.next();!d.done;d=u.next()){var h=d.value;if(E(h,e))for(var f=h.fields[0].values.length,m=0;m<f;m++)h.fields.length>0&&h.fields[0].values.get(m)&&(o+=h.fields[0].values.get(m),r.push(h.fields[0].values.get(m)),++l)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(t)throw t.error}}"avg"===e.manageValue?o/=l:"err"===e.manageValue&&l>1&&(o=null)}}return o},O=function(e){function t(t,i,n,a,o,r,l,s,p,c,u,d,h,f,m,g,b,y,v,x){var k=e.call(this,t,i,n,a,o,r,l,s,p,c,u,d)||this;return k.idSVG=h,k.mode=b,k.orientedLink=f,k.coords=m,k.coordsDefault=g,k.img=y,k.widthInitialSpaceDefault=v,k.heightInitialSpaceDefault=x,k}return o(t,e),t}(h),T=function(e){var t=e+1,i=new b("",!1,"rgb(255, 255, 255, 0)","black",{bold:!1,italic:!1,underline:!1},!0,{legendElement:"",numericFormatElement:"5",unit:"",displayObjectInTooltip:!1,addColorTextElement:!1,colorTextElement:"white",addColorBackElement:!1,colorBackElement:"black"},{legendElement:"",numericFormatElement:"5",unit:"",displayObjectInTooltip:!0,addColorTextElement:!1,colorTextElement:"white",addColorBackElement:!1,colorBackElement:"black"}),n=new y("","",""),a=new m("0","0","0","0",{},{});return new O(t,n,"",[],"",i,{key:"",unit:"",format:"",keyValue:"",refId:"",manageValue:"avg"},[],!1,!1,!1,a,"",[],{xMin:"0",xMax:"0",yMin:"0",yMax:"0"},{xMin:"0",xMax:"0",yMin:"0",yMax:"0"},!0,"","","")},B=function(e,t,i,n,a,o,r){var l=new b(e.textObj.value,e.textObj.isTextTooltip,e.textObj.colorBack,e.textObj.colorText,e.textObj.style,e.textObj.generateObjectText,e.textObj.valueGenerateObjectText,e.textObj.generateAuxiliaryElement),s=new y(e.linkURL.followLink,e.linkURL.hoveringTooltipLink,e.linkURL.hoveringTooltipText),p={xMin:e.coords.xMin,xMax:e.coords.xMax,yMin:e.coords.yMin,yMax:e.coords.yMax},c={xMin:e.coordsDefault.xMin,xMax:e.coordsDefault.xMax,yMin:e.coordsDefault.yMin,yMax:e.coordsDefault.yMax},u=new m(e.positionParameter.labelAPositionX,e.positionParameter.labelAPositionY,e.positionParameter.labelBPositionX,e.positionParameter.labelBPositionY,e.positionParameter.tooltipPositionA,e.positionParameter.tooltipPositionB),d={key:e.mainMetric.key,unit:e.mainMetric.unit,format:e.mainMetric.format,keyValue:e.mainMetric.keyValue,refId:e.mainMetric.refId,expr:e.mainMetric.expr,returnQuery:e.mainMetric.returnQuery,manageValue:e.mainMetric.manageValue};return new O(e.id,s,e.meta,e.lowerLimit,e.label,l,d,e.metrics,e.colorMode,e.traceBack,e.traceBorder,u,e.idSVG,e.orientedLink,p,c,e.mode,e.img,e.widthInitialSpaceDefault,e.heightInitialSpaceDefault)},A=function(e,t,i,n,a,o,r){var l=new b(e.textObj.value,e.textObj.isTextTooltip,e.textObj.colorBack,e.textObj.colorText,e.textObj.style,e.textObj.generateObjectText,e.textObj.valueGenerateObjectText,e.textObj.generateAuxiliaryElement),s=new y(e.linkURL.followLink,e.linkURL.hoveringTooltipLink,e.linkURL.hoveringTooltipText),p=new m(e.positionParameter.labelAPositionX,e.positionParameter.labelAPositionY,e.positionParameter.labelBPositionX,e.positionParameter.labelBPositionY,e.positionParameter.tooltipPositionA,e.positionParameter.tooltipPositionB),c={key:e.mainMetric.key,unit:e.mainMetric.unit,format:e.mainMetric.format,keyValue:e.mainMetric.keyValue,filter:e.mainMetric.filter,refId:e.mainMetric.refId,expr:e.mainMetric.expr,returnQuery:e.mainMetric.returnQuery,manageValue:e.mainMetric.manageValue},u=i-t,d=((parseInt(e.positionShapeX,10)-t)/u*n).toString(),h=o-a,g=((parseInt(e.positionShapeY,10)-a)/h*r).toString();return new f(e.id,s,e.meta,e.lowerLimit,e.label,l,c,e.metrics,e.colorMode,e.traceBack,e.traceBorder,p,e.name,e.valueMetric,e.drawGraphicMarker,e.shape,e.sizeWidth,e.sizeHeight,e.rotateArrow,e.positionShapeX,e.positionShapeY,e.color,e.associateOrientedLinksIn,e.associateOrientedLinksOut,e.widthInitialSpaceDefault,e.heightInitialSpaceDefault,d,g)},D=function(e,t){var i=e,n=t,a=new b("",!1,"white","black",{bold:!1,italic:!1,underline:!1},!0,{legendElement:"",numericFormatElement:"5",unit:"",displayObjectInTooltip:!1,addColorTextElement:!1,colorTextElement:"white",addColorBackElement:!1,colorBackElement:"black"},{legendElement:"",numericFormatElement:"5",unit:"",displayObjectInTooltip:!0,addColorTextElement:!0,colorTextElement:"white",addColorBackElement:!0,colorBackElement:"black"}),o=new y("","",""),r=new m("","","","",{},{});return new g(i,o,"",[],"",a,{key:"",unit:"",format:"",keyValue:"",refId:"",manageValue:"avg"},[],!1,!1,!1,r,"orientedLink"+i.toString(),{label:"Monodirectional",value:"AB"},"9","0","0","#5794F2","0","0","#E54658","","","","","","",n,"0","0",{},{key:"",unit:"",format:"",keyValue:"",refId:"",manageValue:"avg"},[],"","","","","","","","")},w=function(e){var t=new b(e.textObj.value,e.textObj.isTextTooltip,e.textObj.colorBack,e.textObj.colorText,e.textObj.style,e.textObj.generateObjectText,e.textObj.valueGenerateObjectText,e.textObj.generateAuxiliaryElement),i=new y(e.linkURL.followLink,e.linkURL.hoveringTooltipLink,e.linkURL.hoveringTooltipText),n=new m(e.positionParameter.labelAPositionX,e.positionParameter.labelAPositionY,e.positionParameter.labelBPositionX,e.positionParameter.labelBPositionY,e.positionParameter.tooltipPositionA,e.positionParameter.tooltipPositionB),a={key:e.mainMetric.key,unit:e.mainMetric.unit,format:e.mainMetric.format,keyValue:e.mainMetric.keyValue,refId:e.mainMetric.refId,expr:e.mainMetric.expr,returnQuery:e.mainMetric.returnQuery,manageValue:e.mainMetric.manageValue};return new g(e.id,i,e.meta,e.lowerLimit,e.label,t,a,e.metrics,e.colorMode,e.traceBack,e.traceBorder,n,e.name,e.orientationLink,e.size,e.pointAPositionX,e.pointAPositionY,e.colorCoordinateA,e.pointBPositionX,e.pointBPositionY,e.colorCoordinateB,e.valueMainMetricA,e.valueMainMetricB,e.pointIn,e.pointOut,e.regionIn,e.regionOut,e.zIndex,e.pointCPositionX,e.pointCPositionY,e.isIncurved,e.mainMetricB,e.metricsB,e.widthInitialSpaceDefault,e.heightInitialSpaceDefault,e.pointAPositionXDefault,e.pointAPositionYDefault,e.pointBPositionXDefault,e.pointBPositionYDefault,e.pointCPositionXDefault,e.pointCPositionYDefault)},P=function(){function e(e,t){this.id=e,this.uneClassInput=t}return e.prototype.getId=function(){return this.id},e.prototype.setId=function(e){this.id=e},e.prototype.getUneClassInput=function(){return this.uneClassInput},e.prototype.setUneClassInput=function(e){this.uneClassInput=e},e}(),j=function(e){var t=e.label,i=(e.value,e.name),n=e.required,a=e._handleChange,o=e.id;return!0===e.withLabel?u.a.createElement("div",null,u.a.createElement(d.FormField,{label:t,labelWidth:10,inputWidth:20,type:"button",required:n,name:i,id:o,onClick:a,value:t||""})):u.a.createElement("div",null,u.a.createElement(d.Button,{onClick:a,variant:"danger",id:o,size:"md"},"Delete"))},G=function(e){var t=e.label,i=e.name,n=e.placeholder,a=e.required,o=e.value,r=e._handleChange,l=e.disabled;return u.a.createElement("div",null,u.a.createElement(d.FormField,{label:t,labelWidth:15,inputWidth:15,type:"text",required:a,name:i,value:o,onChange:r,placeholder:n,disabled:l||!1}))},V=function(){function e(e,t,i,n,a,o,r){this.id=e,this.label=t,this.name=i,this.inputType=n,this.required=a,this.placeholder=o,this.value=r}return e.prototype.getId=function(){return this.id},e.prototype.setId=function(e){this.id=e},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(e){this.label=e},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){this.name=e},e.prototype.getInputType=function(){return this.inputType},e.prototype.setInputType=function(e){this.inputType=e},e.prototype.getRequired=function(){return this.required},e.prototype.setRequired=function(e){this.required=e},e.prototype.getPlaceholder=function(){return this.placeholder},e.prototype.setPlaceholder=function(e){this.placeholder=e},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(e){this.value=e},e}(),R=function(e,t){var n=i(2),a=new V(e.toString()+"label",n.basics.label,"label"+e.toString(),"text",!0,"Label",void 0),o=new V(e.toString()+"xMin",n.inputCoordinate.minXPosition,"positionXMin"+e.toString(),"text",!0,n.inputCoordinate.minXPosition,void 0),r=new V(e.toString()+"xMax",n.inputCoordinate.maxXPosition,"positionXMax"+e.toString(),"text",!0,n.inputCoordinate.maxXPosition,void 0),l=new V(e.toString()+"yMin",n.inputCoordinate.minYPosition,"positionYMin"+e.toString(),"text",!0,n.inputCoordinate.minYPosition,void 0),s=new V(e.toString()+"yMax",n.inputCoordinate.maxYPosition,"positionYMax"+e.toString(),"text",!0,n.inputCoordinate.maxYPosition,void 0);return t?[a,o,r,l,s]:[a]},F=function(e,t,i,n,a){return e.startsWith("positionXMin")?t.coordinate.xMin=U(i,1,n,a):e.startsWith("positionXMax")?t.coordinate.xMax=U(i,2,n,a):e.startsWith("positionYMin")?t.coordinate.yMin=U(i,3,n,a):e.startsWith("positionYMax")&&(t.coordinate.yMax=U(i,4,n,a)),t},U=function(e,t,i,n){return e},z=function(){function e(e,t,i,n,a,o){this.id=e,this.lowerLimitMin=t,this.lowerLimitMax=i,this.backColor=n,this.borderColor=a,this.sizeBorder=o}return Object.defineProperty(e.prototype,"getId",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setId",{set:function(e){this.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getlowerLimitMin",{get:function(){return this.lowerLimitMin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setlowerLimitMin",{set:function(e){this.lowerLimitMin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getlowerLimitMax",{get:function(){return this.lowerLimitMax},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setlowerLimitMax",{set:function(e){this.lowerLimitMax=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getSeuilbackColor",{get:function(){return this.backColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setSeuilbackColor",{set:function(e){this.backColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getSeuilborderColor",{get:function(){return this.borderColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setSeuilborderColor",{set:function(e){this.borderColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getsizeBorder",{get:function(){return this.sizeBorder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setsizeBorder",{set:function(e){this.sizeBorder=e},enumerable:!0,configurable:!0}),e}(),W=function(e){var t=e.color,i=e.keyInt,n=e.text,a=e._onChange;e.width;return u.a.createElement("div",{className:"form-field"},u.a.createElement(d.FormLabel,{width:15},n),u.a.createElement("div",{id:"colorPicker",style:{margin:"0.5%",padding:"0.5%",backgroundColor:"#1f1f20",border:"3px solid black"}},u.a.createElement(d.ColorPicker,{color:t,onChange:function(e){return a(i,e)}})))},Y=function(e){function t(t){var n=e.call(this,t)||this;return n.setStateAsyncSeuil=function(e){return new Promise((function(t){n.setState(e,t)}))},n.callBack=function(){n.props.lowerLimitCallBack(n.state.lowerLimit)},n.onChangeColorFond=function(e,t){return l(n,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return(e=this.state.lowerLimit)[0].backColor=t,[4,this.setStateAsyncSeuil({lowerLimit:e})];case 1:return i.sent(),this.callBack(),this.initComponent(),[2]}}))}))},n.onChangeColorContour=function(e,t){return l(n,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return(e=this.state.lowerLimit)[0].borderColor=t,[4,this.setStateAsyncSeuil({lowerLimit:e})];case 1:return i.sent(),this.callBack(),this.initComponent(),[2]}}))}))},n.onChangeSzContour=function(e){return l(n,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return(t=this.state.lowerLimit)[0].sizeBorder=e,[4,this.setStateAsyncSeuil({lowerLimit:t})];case 1:return i.sent(),this.callBack(),this.initComponent(),[2]}}))}))},n.addButtonColor=function(){var e=[],t=i(2),a=t.colorVariable.switchOutlineColor,o=t.colorVariable.thicknessOutline,r=t.colorVariable.thicknessOutline;if(n.props.traceBack){console.log("2");e.push(u.a.createElement(W,{key:"0FondcolorPicker",color:n.state.lowerLimit[0].backColor,keyInt:0,text:t.colorVariable.switchBackgroundColor,_onChange:n.onChangeColorFond}))}if(n.props.traceBorder){console.log("3");e.push(u.a.createElement("div",{key:"0ContourDiv"},u.a.createElement(W,{color:n.state.lowerLimit[0].borderColor,keyInt:0,text:a,_onChange:n.onChangeColorContour}),u.a.createElement(d.FormField,{labelWidth:15,label:o,name:"epaisseurContour",placeholder:r,value:n.state.lowerLimit[0].sizeBorder,onChange:function(e){return n.onChangeSzContour(e.currentTarget.value)}})))}return e},n.initComponent=function(){n.setState({htmlResult:u.a.createElement("div",null,n.addButtonColor())})},n.componentDidMount=function(){return l(n,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return 0!==this.state.lowerLimit.length?[3,2]:[4,this.setStateAsyncSeuil({lowerLimit:[new z(0,"","","","","2")]})];case 1:e.sent(),e.label=2;case 2:return this.initComponent(),[2]}}))}))},n.componentDidUpdate=function(e){e.traceBorder===n.props.traceBorder&&e.traceBack===n.props.traceBack||n.initComponent()},n.state={lowerLimit:n.props.lowerLimit,htmlResult:u.a.createElement("div",null)},n}return o(t,e),t.prototype.render=function(){return u.a.createElement("div",null,this.state.htmlResult)},t}(u.a.Component);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var N=function(e){function t(t){var n=e.call(this,t)||this;return n.setStateAsyncArrayInputClass=function(e){return new Promise((function(t){n.setState(e,t)}))},n.setStateAsyncLowerLimit=function(e){return new Promise((function(t){n.setState(e,t)}))},n.setStateAsyncIndex=function(e){return new Promise((function(t){n.setState(e,t)}))},n.setStateAsyncNbVariation=function(e){return new Promise((function(t){n.setState(e,t)}))},n.callBack=function(){n.fillVarInput(),n.props.lowerLimitCallBack(n.state.lowerLimit)},n.saveData=function(){},n.addInput=function(e,t){return l(n,void 0,void 0,(function(){return s(this,(function(i){switch(i.label){case 0:return[4,this.setStateAsyncArrayInputClass({arrayInputClass:this.state.arrayInputClass.slice().concat(new P(e,[new V("gestCouleurMin"+e.toString(),"Seuil min","lowerLimitMin","text",!1,"Seuil min",void 0),new V("gestCouleurMax"+e.toString(),"Seuil max","lowerLimitMax","text",!1,"Seuil max",void 0)]))})];case 1:return i.sent(),[4,this.setStateAsyncLowerLimit({lowerLimit:this.state.lowerLimit.concat(t)})];case 2:return i.sent(),[4,this.setStateAsyncIndex({index:e+1})];case 3:return i.sent(),[2]}}))}))},n.handleValueChange=function(e,t,i){return l(n,void 0,void 0,(function(){var n;return s(this,(function(a){switch(a.label){case 0:return n=this.state.lowerLimit.slice(),"lowerLimitMin"===t?n[i].lowerLimitMin=e:(n[i].lowerLimitMax=e,n.length>i+1&&(n[i+1].lowerLimitMin=">"+e)),[4,this.setStateAsyncLowerLimit({lowerLimit:n})];case 1:return a.sent(),this.callBack(),[2]}}))}))},n.onChangeColorFond=function(e,t){return l(n,void 0,void 0,(function(){var i;return s(this,(function(n){switch(n.label){case 0:return(i=this.state.lowerLimit)[e].backColor=t,[4,this.setStateAsyncLowerLimit({lowerLimit:i})];case 1:return n.sent(),this.callBack(),[2]}}))}))},n.onChangeColorContour=function(e,t){return l(n,void 0,void 0,(function(){var i;return s(this,(function(n){switch(n.label){case 0:return(i=this.state.lowerLimit)[e].borderColor=t,[4,this.setStateAsyncLowerLimit({lowerLimit:i})];case 1:return n.sent(),this.callBack(),[2]}}))}))},n.onChangeSzContour=function(e,t){return l(n,void 0,void 0,(function(){var i;return s(this,(function(n){switch(n.label){case 0:return(i=this.state.lowerLimit)[e].sizeBorder=t,[4,this.setStateAsyncLowerLimit({lowerLimit:i})];case 1:return n.sent(),this.callBack(),[2]}}))}))},n.addButtonColor=function(e){var t=e.toString(),a=[],o=i(2);if(n.props.traceBack){var r=t+"FondcolorPicker";a.push(u.a.createElement(W,{key:r,color:n.state.lowerLimit[e].backColor,keyInt:e,text:o.colorVariable.switchBackgroundColor,_onChange:n.onChangeColorFond}))}if(n.props.traceBorder){var l=t+"ContourDiv",s="";s=n.props.isLink?"Size":o.colorVariable.thicknessOutline,a.push(u.a.createElement("div",{key:l},u.a.createElement(W,{color:n.state.lowerLimit[e].borderColor,keyInt:e,text:o.colorVariable.switchOutlineColor,_onChange:n.onChangeColorContour}),u.a.createElement(d.FormField,{labelWidth:15,label:s,name:"epaisseurContour",placeholder:o.colorVariable.thicknessOutline,value:n.state.lowerLimit[e].sizeBorder,onChange:function(t){return n.onChangeSzContour(e,t.currentTarget.value)}})))}return a},n.onChangeVariation=function(e){return l(n,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.setStateAsyncNbVariation({nbVariation:e.currentTarget.value})];case 1:return t.sent(),[2]}}))}))},n.test=function(e){return l(n,void 0,void 0,(function(){var t,i,n,a,o,r,l,c;return s(this,(function(s){switch(s.label){case 0:t=this.state.arrayInputClass.slice(),i=this.state.index,n=this.state.lowerLimit;try{for(a=p(e),o=a.next();!o.done;o=a.next())r=o.value,t.push(new P(i,[new V("gestCouleurMin"+i.toString(),"Seuil min","lowerLimitMin","text",!1,"Seuil min",void 0),new V("gestCouleurMax"+i.toString(),"Seuil max","lowerLimitMax","text",!1,"Seuil max",void 0)])),i++,n.push(r)}catch(e){l={error:e}}finally{try{o&&!o.done&&(c=a.return)&&c.call(a)}finally{if(l)throw l.error}}return[4,this.setStateAsyncArrayInputClass({arrayInputClass:t})];case 1:return s.sent(),[4,this.setStateAsyncLowerLimit({lowerLimit:n})];case 2:return s.sent(),[4,this.setStateAsyncIndex({index:i})];case 3:return s.sent(),[2]}}))}))},n.addMultipleVariation=function(e,t){return l(n,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return t?[4,this.test(t)]:[3,2];case 1:e.sent(),this.fillVarInput(),e.label=2;case 2:return[2]}}))}))},n.addVariation=function(e,t){return l(n,void 0,void 0,(function(){var i,n;return s(this,(function(a){switch(a.label){case 0:i=0,a.label=1;case 1:return i<e?(n=t?t[i]:new z(i,"","","","",""),this.props.isLink&&(n=t?t[i]:new z(i,"","","","","10")),[4,this.addInput(i,n)]):[3,4];case 2:a.sent(),a.label=3;case 3:return i++,[3,1];case 4:return this.fillVarInput(),[2]}}))}))},n.onClickVariation=function(){return l(n,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,this.setStateAsyncArrayInputClass({arrayInputClass:[]})];case 1:return t.sent(),[4,this.setStateAsyncIndex({index:0})];case 2:return t.sent(),[4,this.setStateAsyncLowerLimit({lowerLimit:[]})];case 3:return t.sent(),this.setState({displayInput:!0}),e=parseInt(this.state.nbVariation,10),[4,this.addVariation(e)];case 4:return t.sent(),[2]}}))}))},n.fillVarInput=function(){var e,t,i=[];if(0!==n.state.lowerLimit.length){var a=0,o=function(e){if(e.uneClassInput.length<=0)return n.setState({dynamicInput:u.a.createElement("br",null)}),{value:void 0};var t=e.uneClassInput.map((function(t){return u.a.createElement(G,{key:t.id,label:t.label,name:t.name,placeholder:t.placeholder||"",required:t.required,value:"lowerLimitMin"===t.name?0===e.id?"-∞":n.state.lowerLimit[a].lowerLimitMin:e.id===n.state.index-1?"+∞":n.state.lowerLimit[a].lowerLimitMax,_handleChange:function(i){return n.handleValueChange(i.currentTarget.value,t.name,e.id)},disabled:"lowerLimitMin"===t.name||e.id===n.state.index-1})}));a++;var o=n.addButtonColor(e.id),r=e.id.toString()+"brGestColor";i=i.concat(t.concat(o.concat(u.a.createElement("br",{key:r}))))};try{for(var r=p(n.state.arrayInputClass),l=r.next();!l.done;l=r.next()){var s=o(l.value);if("object"===X(s))return s.value}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}n.setState({dynamicInput:u.a.createElement("ul",null,i)})}else n.setState({dynamicInput:u.a.createElement("br",null)})},n.infoSeuil=function(){},n.componentDidMount=function(){if(n.props.lowerLimit.length>0){var e=parseInt(n.state.nbVariation,10);n.addMultipleVariation(e,n.props.lowerLimit)}},n.componentDidUpdate=function(e){e.traceBorder===n.props.traceBorder&&e.traceBack===n.props.traceBack||n.fillVarInput()},n.state={arrayInputClass:[],lowerLimit:[],index:0,nbVariation:"3",dynamicInput:u.a.createElement("br",null),displayInput:!1},n}return o(t,e),t.prototype.render=function(){var e=i(2);return u.a.createElement("div",null,u.a.createElement(G,{label:e.colorVariable.variationNumber,name:"nbVariation",placeholder:e.colorVariable.number,required:!0,value:this.state.nbVariation,_handleChange:this.onChangeVariation}),u.a.createElement(d.Button,{onClick:this.onClickVariation},e.colorVariable.addColor),u.a.createElement("br",null),u.a.createElement("br",null),this.state.dynamicInput)},t}(u.a.Component),Q=function(e){function t(t){var i=e.call(this,t)||this;return i.setStateAsyncCoordinate=function(e){return new Promise((function(t){i.setState(e,t)}))},i.setStateAsyncOpenLowerLimit=function(e){return new Promise((function(t){i.setState(e,t)}))},i.onSave=function(){i.props.callBack(i.props.coordinate),i.props.lowerLimitCallBack(i.state.coordinate.lowerLimit)},i.onSwitchFond=function(){return l(i,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return(e=this.state.coordinate).traceBack=!e.traceBack,[4,this.setStateAsyncCoordinate({coordinate:e})];case 1:return t.sent(),this.onSave(),[2]}}))}))},i.onSwitchContour=function(){return l(i,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return(e=this.state.coordinate).traceBorder=!e.traceBorder,[4,this.setStateAsyncCoordinate({coordinate:e})];case 1:return t.sent(),this.onSave(),[2]}}))}))},i.onSwitchColorMode=function(){return l(i,void 0,void 0,(function(){var e,t;return s(this,(function(i){switch(i.label){case 0:return(e=this.state.coordinate).colorMode=!e.colorMode,this.state.coordinate.colorMode?[3,2]:(t="",this.props.isLink&&(t="10"),e.lowerLimit=[new z(0,"","","","",t)],[4,this.setStateAsyncCoordinate({coordinate:e})]);case 1:return i.sent(),[3,4];case 2:return e.lowerLimit=[],[4,this.setStateAsyncCoordinate({coordinate:e})];case 3:i.sent(),i.label=4;case 4:return this.onSave(),[2]}}))}))},i.onToggleLowerLimit=function(e){i.setState({openLowerLimit:e})},i.componentDidUpdate=function(e){return l(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return e.coordinate===this.state.coordinate?[3,3]:[4,this.setStateAsyncCoordinate({coordinate:e.coordinate})];case 1:return t.sent(),[4,this.setStateAsyncOpenLowerLimit({openLowerLimit:!1})];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},i.state={coordinate:i.props.coordinate,openLowerLimit:!1},i}return o(t,e),t.prototype.render=function(){var e=i(2);return u.a.createElement("div",null,u.a.createElement(d.Collapse,{label:"Lower limit",isOpen:this.state.openLowerLimit,onToggle:this.onToggleLowerLimit},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},e.genericParameter.variableColor),u.a.createElement(d.Switch,{label:"",checked:this.state.coordinate.colorMode,onChange:this.onSwitchColorMode})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},e.genericParameter.traceBackground),u.a.createElement(d.Switch,{label:"",checked:this.state.coordinate.traceBack,onChange:this.onSwitchFond})),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},e.genericParameter.traceContour),u.a.createElement(d.Switch,{label:"",checked:this.state.coordinate.traceBorder,onChange:this.onSwitchContour}))),this.state.coordinate.colorMode?u.a.createElement(N,{traceBorder:this.state.coordinate.traceBorder,traceBack:this.state.coordinate.traceBack,lowerLimit:this.state.coordinate.lowerLimit,lowerLimitCallBack:this.props.lowerLimitCallBack,isLink:this.props.isLink}):u.a.createElement(Y,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,traceBorder:this.state.coordinate.traceBorder,traceBack:this.state.coordinate.traceBack,lowerLimit:this.state.coordinate.lowerLimit,lowerLimitCallBack:this.props.lowerLimitCallBack,isLink:this.props.isLink})))},t}(u.a.Component),_=function(e){function t(t){var i=e.call(this,t)||this;return i.callBack=function(){i.props.callBackToParent(i.state.mainMetric,i.props.id)},i.callBackB=function(){i.props.callBackToParentMainMetricB&&i.props.callBackToParentMainMetricB(i.state.mainMetricB,i.props.id)},i.getMainMetricB=function(){var e,t,n={},a=i.props.options.arrayOrientedLinks;try{for(var o=p(a),r=o.next();!r.done;r=o.next()){var l=r.value;l.id===i.props.idCoordinate&&(n=l.mainMetricB)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},i.onChangeSelectManageValue=function(e){var t=i.state.mainMetric;t.manageValue=e.value||"err",i.setState({mainMetric:t}),i.callBack()},i.onChangeSelectManageValueB=function(e){var t=i.state.mainMetricB;t.manageValue=e.value||"err",i.setState({mainMetricB:t}),i.callBackB()},i._handleChangeKey=function(e){var t=i.state.mainMetric;t.key=e,i.setState({mainMetric:t}),i.callBack()},i._handleChangeKeyB=function(e){var t=i.state.mainMetricB;t.key=e,i.setState({mainMetricB:t}),i.callBackB()},i._handleChangeKeyValue=function(e){var t=i.state.mainMetric;t.keyValue=e,i.setState({mainMetric:t}),i.callBack()},i._handleChangeKeyValueB=function(e){var t=i.state.mainMetricB;t.keyValue=e,i.setState({mainMetricB:t}),i.callBackB()},i.onChangeSelectQuery=function(e){var t,n=i.state.mainMetric;n.refId=(null===(t=e.value)||void 0===t?void 0:t.refId)||"",n.expr="",i.setState({mainMetric:n,selectQueryDefault:e}),i.callBack()},i.onChangeSelectQueryB=function(e){var t,n=i.state.mainMetricB;n.refId=(null===(t=e.value)||void 0===t?void 0:t.refId)||"",n.expr="",i.setState({mainMetricB:n}),i.callBackB()},i.onToggleMainMetric=function(e){i.setState({collapseMainMetric:e})},i.onToggleLinkA=function(e){i.setState({collapseLinkA:e})},i.onToggleLinkB=function(e){i.setState({collapseLinkB:e})},i.getDefaultQueryB=function(){var e,t,n={label:"No value",value:void 0},a=i.state.mainMetricB;try{for(var o=p(i.state.selectQuery),r=o.next();!r.done;r=o.next()){var l=r.value;a.refId&&a.refId===l.label&&(n=l)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},i.getDefaultManageValue=function(){var e,t,n={label:"avg",value:"avg"},a=i.state.mainMetric;try{for(var o=p(i.state.selectManageValue),r=o.next();!r.done;r=o.next()){var l=r.value;a.manageValue&&a.manageValue===l.value&&(n=l)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},i.getDefaultManageValueB=function(){var e,t,n={label:"avg",value:"avg"},a=i.state.mainMetricB;try{for(var o=p(i.state.selectManageValue),r=o.next();!r.done;r=o.next()){var l=r.value;a.manageValue&&a.manageValue===l.value&&(n=l)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},i.fillSelectQuery=function(){var e,t,n,a,o,r,l,s,c,u=[],d=i.state.mainMetric;u.push({value:void 0,label:"No value"});try{for(var h=p(i.props.data.series),f=h.next();!f.done;f=h.next()){var m=f.value,g=!1;try{for(var b=(n=void 0,p(u)),y=b.next();!y.done;y=b.next()){if((null===(l=y.value.value)||void 0===l?void 0:l.refId)===m.refId){g=!0;break}}}catch(e){n={error:e}}finally{try{y&&!y.done&&(a=b.return)&&a.call(b)}finally{if(n)throw n.error}}g||u.push({value:m,label:m.refId})}}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}""===d.refId&&(d.refId=u.length>0&&(null===(s=u[0].value)||void 0===s?void 0:s.refId)||"");var v,x=i.state.mainMetric.refId;if(v={value:void 0,label:"No value"},x)try{for(var k=p(u),C=k.next();!C.done;C=k.next()){if((null===(c=(m=C.value).value)||void 0===c?void 0:c.refId)===x){v=m;break}}}catch(e){o={error:e}}finally{try{C&&!C.done&&(r=k.return)&&r.call(k)}finally{if(o)throw o.error}}i.setState({mainMetric:d,selectQuery:u,selectQueryDefault:v})},i.componentDidMount=function(){var e,t;i.fillSelectQuery();var n=[{value:"avg",label:"average"},{value:"sum",label:"total"},{value:"err",label:"error"}],a=n[0];try{for(var o=p(n),r=o.next();!r.done;r=o.next()){var l=r.value;l.value===i.state.mainMetric.manageValue&&(a=l)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}i.setState({selectManageValue:n,selectDefaultManageValue:a})},i.setStateAsyncMainMetric=function(e){return new Promise((function(t){return i.setState(e,t)}))},i.setStateAsyncMainMetricB=function(e){return new Promise((function(t){return i.setState(e,t)}))},i.componentDidUpdate=function(e){return l(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return e.idCoordinate===this.props.idCoordinate?[3,4]:(this.setState({collapseMainMetric:!1}),[4,this.setStateAsyncMainMetric({mainMetric:this.props.mainMetric})]);case 1:return t.sent(),this.props.mainMetricB?[4,this.setStateAsyncMainMetricB({mainMetricB:this.props.mainMetricB})]:[3,3];case 2:t.sent(),t.label=3;case 3:this.fillSelectQuery(),t.label=4;case 4:return e.data.series!==this.props.data.series&&this.fillSelectQuery(),[2]}}))}))},i.displayHtml=function(){var e,t,n,a=i.props.options.arrayOrientedLinks;try{for(var o=p(a),r=o.next();!r.done;r=o.next()){var l=r.value;l.id===i.props.idCoordinate&&(n=l)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return i.props.isLink&&n&&"double"===n.orientationLink.value?u.a.createElement(d.Collapse,{isOpen:i.state.collapseMainMetric,label:"Main metric",onToggle:i.onToggleMainMetric},u.a.createElement(d.Collapse,{isOpen:i.state.collapseLinkA,label:"Link A",onToggle:i.onToggleLinkA},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Query"),u.a.createElement(d.Select,{onChange:function(e){return i.onChangeSelectQuery(e)},allowCustomValue:!1,options:i.state.selectQuery,width:30,value:i.state.selectQueryDefault})),u.a.createElement(d.FormField,{label:"Key",labelWidth:15,inputWidth:30,type:"text",value:i.state.mainMetric.key,name:"key",onChange:function(e){return i._handleChangeKey(e.currentTarget.value)}}),u.a.createElement(d.FormField,{label:"Value key",labelWidth:15,inputWidth:30,type:"text",value:i.state.mainMetric.keyValue,name:"valueKey",onChange:function(e){return i._handleChangeKeyValue(e.currentTarget.value)}}),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Manipulate"),u.a.createElement(d.Select,{onChange:function(e){return i.onChangeSelectManageValue(e)},allowCustomValue:!1,options:i.state.selectManageValue,width:30,value:i.getDefaultManageValue()}))),u.a.createElement(d.Collapse,{isOpen:i.state.collapseLinkB,label:"Link B",onToggle:i.onToggleLinkB},u.a.createElement("div",{style:{display:"flex",marginTop:"10px"}},u.a.createElement(d.FormLabel,{width:15},"Query"),u.a.createElement(d.Select,{onChange:function(e){return i.onChangeSelectQueryB(e)},allowCustomValue:!1,options:i.state.selectQuery,width:30,value:i.getDefaultQueryB()})),u.a.createElement(d.FormField,{label:"Key",labelWidth:15,inputWidth:30,type:"text",value:i.state.mainMetricB.key,name:"key",onChange:function(e){return i._handleChangeKeyB(e.currentTarget.value)}}),u.a.createElement(d.FormField,{label:"Value key",labelWidth:15,inputWidth:30,type:"text",value:i.state.mainMetricB.keyValue,name:"valueKey",onChange:function(e){return i._handleChangeKeyValueB(e.currentTarget.value)}}),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Manipulate"),u.a.createElement(d.Select,{onChange:function(e){return i.onChangeSelectManageValueB(e)},allowCustomValue:!1,options:i.state.selectManageValue,width:30,value:i.getDefaultManageValueB()})))):u.a.createElement(d.Collapse,{isOpen:i.state.collapseMainMetric,label:"Main metric",onToggle:i.onToggleMainMetric},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Query"),u.a.createElement(d.Select,{onChange:function(e){return i.onChangeSelectQuery(e)},allowCustomValue:!1,options:i.state.selectQuery,width:30,value:i.state.selectQueryDefault})),u.a.createElement(d.FormField,{label:"Key",labelWidth:15,inputWidth:30,type:"text",value:i.state.mainMetric.key,name:"key",onChange:function(e){return i._handleChangeKey(e.currentTarget.value)}}),u.a.createElement(d.FormField,{label:"Value key",labelWidth:15,inputWidth:30,type:"text",value:i.state.mainMetric.keyValue,name:"valueKey",onChange:function(e){return i._handleChangeKeyValue(e.currentTarget.value)}}),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Manipulate"),u.a.createElement(d.Select,{onChange:function(e){return i.onChangeSelectManageValue(e)},allowCustomValue:!1,options:i.state.selectManageValue,width:30,value:i.getDefaultManageValue()})))},i.state={mainMetric:i.props.mainMetric,mainMetricB:i.props.mainMetricB||{key:"",unit:"",format:"",keyValue:"",refId:"",manageValue:"avg"},collapseMainMetric:!1,collapseLinkA:!1,collapseLinkB:!1,selectManageValue:[],selectDefaultManageValue:{value:"avg",label:"avg"},selectQuery:[],selectQueryDefault:[]},i}return o(t,e),t.prototype.render=function(){return u.a.createElement("div",null,this.displayHtml())},t}(u.a.Component),q=function(e){function t(t){var i=e.call(this,t)||this;return i.setStateAsyncFollowLink=function(e){return new Promise((function(t){i.setState(e,t)}))},i.setStateAsyncHoveringTooltipLink=function(e){return new Promise((function(t){i.setState(e,t)}))},i.setStateAsyncHoveringTooltipText=function(e){return new Promise((function(t){i.setState(e,t)}))},i.callBack=function(){i.props.callBackToParent(i.state.followLink,i.state.hoveringTooltipLink,i.state.hoveringTooltipText,void 0)},i.onChangeFollowLink=function(e){return l(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.setStateAsyncFollowLink({followLink:e})];case 1:return t.sent(),this.callBack(),[2]}}))}))},i.onChangeHoveringTooltipLink=function(e){return l(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.setStateAsyncHoveringTooltipLink({hoveringTooltipLink:e})];case 1:return t.sent(),this.callBack(),[2]}}))}))},i.onChangeHoveringTooltipText=function(e){return l(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.setStateAsyncHoveringTooltipText({hoveringTooltipText:e})];case 1:return t.sent(),this.callBack(),[2]}}))}))},i.state={followLink:i.props.coordinateSpace.linkURL.followLink,hoveringTooltipLink:i.props.coordinateSpace.linkURL.hoveringTooltipLink,hoveringTooltipText:i.props.coordinateSpace.linkURL.hoveringTooltipText},i}return o(t,e),t.prototype.componentDidUpdate=function(e){e.coordinateSpace.id!==this.props.coordinateSpace.id&&this.setState({followLink:e.coordinateSpace.linkURL.followLink,hoveringTooltipLink:e.coordinateSpace.linkURL.hoveringTooltipLink,hoveringTooltipText:e.coordinateSpace.linkURL.hoveringTooltipText})},t.prototype.render=function(){var e=this,t=i(2);return u.a.createElement("div",null,u.a.createElement(G,{label:t.metricPrincipalSetting.followLink,name:"followLink",placeholder:t.metricPrincipalSetting.link,required:!1,value:this.state.followLink,_handleChange:function(t){return e.onChangeFollowLink(t.currentTarget.value)}}),u.a.createElement(G,{label:t.metricPrincipalSetting.linkTooltip,name:"linkTooltip",placeholder:t.metricPrincipalSetting.link,required:!1,value:this.state.hoveringTooltipLink,_handleChange:function(t){return e.onChangeHoveringTooltipLink(t.currentTarget.value)}}),u.a.createElement(G,{label:t.metricPrincipalSetting.textInTooltip,name:"textTooltip",placeholder:t.metricPrincipalSetting.text,required:!1,value:this.state.hoveringTooltipText,_handleChange:function(t){return e.onChangeHoveringTooltipText(t.currentTarget.value)}}),u.a.createElement("br",null),u.a.createElement("br",null))},t}(u.a.Component),H=function(e){function t(t){var i=e.call(this,t)||this;return i.callBack=function(){i.props.saveParent(i.state.style)},i.onChangeBold=function(){var e=i.state.style;e.bold=!e.bold,i.setState({style:e}),i.callBack()},i.onChangeItalic=function(){var e=i.state.style;e.italic=!e.italic,i.setState({style:e}),i.callBack()},i.onChangeUnderline=function(){var e=i.state.style;e.underline=!e.underline,i.setState({style:e}),i.callBack()},i.state={style:i.props.oldStyle},i}return o(t,e),t.prototype.render=function(){return u.a.createElement("section",null,u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Bold"),u.a.createElement(d.Switch,{label:"",checked:this.state.style.bold,onChange:this.onChangeBold})),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Italic"),u.a.createElement(d.Switch,{label:"",checked:this.state.style.italic,onChange:this.onChangeItalic})),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Underline"),u.a.createElement(d.Switch,{label:"",checked:this.state.style.underline,onChange:this.onChangeUnderline})))},t}(u.a.Component),K=function(e){function t(t){var i=e.call(this,t)||this;return i.stateAsyncTextObject=function(e){return new Promise((function(t){i.setState(e,t)}))},i.callBack=function(){i.props.callBackToParent(void 0,void 0,void 0,i.state.textObject)},i.onChangeValeur=function(e){return l(i,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return(t=this.state.textObject).value=e,[4,this.stateAsyncTextObject({textObject:t})];case 1:return i.sent(),this.callBack(),[2]}}))}))},i.onChangeBackColor=function(e,t){return l(i,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return(e=this.state.textObject).colorBack=t,[4,this.stateAsyncTextObject({textObject:e})];case 1:return i.sent(),this.callBack(),[2]}}))}))},i.onChangeColorText=function(e,t){return l(i,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return(e=this.state.textObject).colorText=t,[4,this.stateAsyncTextObject({textObject:e})];case 1:return i.sent(),this.callBack(),[2]}}))}))},i.onSwitchGenerateObjectText=function(){return l(i,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return(e=this.state.textObject).generateObjectText=!this.state.textObject.generateObjectText,[4,this.stateAsyncTextObject({textObject:e})];case 1:return t.sent(),this.callBack(),[2]}}))}))},i.onChangeLegendElement=function(e){return l(i,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return(t=this.state.textObject).generateAuxiliaryElement.legendElement=e.currentTarget.value,[4,this.stateAsyncTextObject({textObject:t})];case 1:return i.sent(),this.callBack(),[2]}}))}))},i.onChangeunit=function(e){return l(i,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return(t=this.state.textObject).generateAuxiliaryElement.unit=e.currentTarget.value,[4,this.stateAsyncTextObject({textObject:t})];case 1:return i.sent(),this.callBack(),[2]}}))}))},i.onChangeFormatageNumeriqueTextObject=function(e){return l(i,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return(t=this.state.textObject).generateAuxiliaryElement.numericFormatElement=e.currentTarget.value,[4,this.stateAsyncTextObject({textObject:t})];case 1:return i.sent(),this.callBack(),[2]}}))}))},i.onSwitchdisplayObjectInTooltip=function(){return l(i,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return(e=this.state.textObject).generateAuxiliaryElement.displayObjectInTooltip=!this.state.textObject.generateAuxiliaryElement.displayObjectInTooltip,[4,this.stateAsyncTextObject({textObject:e})];case 1:return t.sent(),this.callBack(),[2]}}))}))},i.onSwitchAddColorTextElement=function(){return l(i,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return(e=this.state.textObject).generateAuxiliaryElement.addColorTextElement=!this.state.textObject.generateAuxiliaryElement.addColorTextElement,[4,this.stateAsyncTextObject({textObject:e})];case 1:return t.sent(),this.callBack(),[2]}}))}))},i.onSwitchAddColorBackElement=function(){return l(i,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return(e=this.state.textObject).generateAuxiliaryElement.addColorBackElement=!this.state.textObject.generateAuxiliaryElement.addColorBackElement,[4,this.stateAsyncTextObject({textObject:e})];case 1:return t.sent(),this.callBack(),[2]}}))}))},i.onSwitchisTextTooltip=function(){return l(i,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return(e=this.state.textObject).isTextTooltip=!this.state.textObject.isTextTooltip,[4,this.stateAsyncTextObject({textObject:e})];case 1:return t.sent(),this.callBack(),[2]}}))}))},i.onChangeColorTextElement=function(e,t){return l(i,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return(e=this.state.textObject).generateAuxiliaryElement.colorTextElement=t,[4,this.stateAsyncTextObject({textObject:e})];case 1:return i.sent(),this.callBack(),[2]}}))}))},i.onChangeColorBackElement=function(e,t){return l(i,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return(e=this.state.textObject).generateAuxiliaryElement.colorBackElement=t,[4,this.stateAsyncTextObject({textObject:e})];case 1:return i.sent(),this.callBack(),[2]}}))}))},i.onChangeValueGenerateObjectTextLegendElement=function(e){return l(i,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return(t=this.state.textObject).valueGenerateObjectText.legendElement=e.currentTarget.value,[4,this.stateAsyncTextObject({textObject:t})];case 1:return i.sent(),this.callBack(),[2]}}))}))},i.onChangeValueGenerateObjectTextunit=function(e){return l(i,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return(t=this.state.textObject).valueGenerateObjectText.unit=e.currentTarget.value,[4,this.stateAsyncTextObject({textObject:t})];case 1:return i.sent(),this.callBack(),[2]}}))}))},i.onChangeValueGenerateObjectTextFormatageNumeriqueTextObject=function(e){return l(i,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return(t=this.state.textObject).valueGenerateObjectText.numericFormatElement=e.currentTarget.value,[4,this.stateAsyncTextObject({textObject:t})];case 1:return i.sent(),this.callBack(),[2]}}))}))},i.onSwitchValueGenerateObjectTextdisplayObjectInTooltip=function(){return l(i,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return(e=this.state.textObject).valueGenerateObjectText.displayObjectInTooltip=!this.state.textObject.valueGenerateObjectText.displayObjectInTooltip,[4,this.stateAsyncTextObject({textObject:e})];case 1:return t.sent(),this.callBack(),[2]}}))}))},i.onSwitchValueGenerateObjectTextAddColorTextElement=function(){return l(i,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return(e=this.state.textObject).valueGenerateObjectText.addColorTextElement=!this.state.textObject.valueGenerateObjectText.addColorTextElement,[4,this.stateAsyncTextObject({textObject:e})];case 1:return t.sent(),this.callBack(),[2]}}))}))},i.onSwitchValueGenerateObjectTextAddColorBackElement=function(){return l(i,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return(e=this.state.textObject).valueGenerateObjectText.addColorBackElement=!this.state.textObject.valueGenerateObjectText.addColorBackElement,[4,this.stateAsyncTextObject({textObject:e})];case 1:return t.sent(),this.callBack(),[2]}}))}))},i.onChangeValueGenerateObjectTextColorTextElement=function(e,t){return l(i,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return(e=this.state.textObject).valueGenerateObjectText.colorTextElement=t,[4,this.stateAsyncTextObject({textObject:e})];case 1:return i.sent(),this.callBack(),[2]}}))}))},i.onChangeValueGenerateObjectTextColorBackElement=function(e,t){return l(i,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return(e=this.state.textObject).valueGenerateObjectText.colorBackElement=t,[4,this.stateAsyncTextObject({textObject:e})];case 1:return i.sent(),this.callBack(),[2]}}))}))},i.saveData=function(e){var t=i.state.textObject;t.style=e,i.setState({textObject:t}),i.callBack()},i.state={textObject:i.props.coordinateSpace.textObj},i}return o(t,e),t.prototype.render=function(){var e=i(2);return u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("h4",null,e.textObject.principalMetric),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Display text in region or tooltip"),u.a.createElement(d.Switch,{label:"",checked:this.state.textObject.isTextTooltip,onChange:this.onSwitchisTextTooltip})),u.a.createElement("h5",{hidden:this.state.textObject.isTextTooltip},e.textObject.textRegion),u.a.createElement("h5",{hidden:!this.state.textObject.isTextTooltip},e.textObject.textBubble),u.a.createElement(W,{color:this.state.textObject.colorBack,keyInt:0,text:e.textObject.colorBackground,_onChange:this.onChangeBackColor}),u.a.createElement(W,{color:this.state.textObject.colorText,keyInt:0,text:e.textObject.colorText,_onChange:this.onChangeColorText}),u.a.createElement(H,{oldStyle:this.state.textObject.style,saveParent:this.saveData}),u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement("div",null,u.a.createElement("h4",null,"Generate text object"),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},e.textObject.generateTextObject),u.a.createElement(d.Switch,{label:"",checked:this.state.textObject.generateObjectText,onChange:this.onSwitchGenerateObjectText})),this.state.textObject.generateObjectText&&u.a.createElement("div",null,u.a.createElement(G,{label:e.textObject.legend,name:"legendTextObject",placeholder:e.textObject.legend,required:!1,value:this.state.textObject.valueGenerateObjectText.legendElement,_handleChange:this.onChangeValueGenerateObjectTextLegendElement}),u.a.createElement(G,{label:e.textObject.digitalFormatting,name:"formatageNumeriqueTextObject",placeholder:e.textObject.digitalFormatting,required:!1,value:this.state.textObject.valueGenerateObjectText.numericFormatElement,_handleChange:this.onChangeValueGenerateObjectTextFormatageNumeriqueTextObject}),u.a.createElement(G,{label:e.textObject.mesureUnit,name:"mesureUnityTextObject",placeholder:e.textObject.unit,required:!1,value:this.state.textObject.valueGenerateObjectText.unit,_handleChange:this.onChangeValueGenerateObjectTextunit}),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},e.textObject.objectDisplayTextTooltip),u.a.createElement(d.Switch,{label:"",checked:this.state.textObject.valueGenerateObjectText.displayObjectInTooltip,onChange:this.onSwitchValueGenerateObjectTextdisplayObjectInTooltip})),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},e.textObject.colorText),u.a.createElement(d.Switch,{label:"",checked:this.state.textObject.valueGenerateObjectText.addColorTextElement,onChange:this.onSwitchValueGenerateObjectTextAddColorTextElement})),this.state.textObject.valueGenerateObjectText.addColorTextElement&&u.a.createElement(W,{color:this.state.textObject.valueGenerateObjectText.colorTextElement,keyInt:0,text:e.textObject.colorTextOptional,_onChange:this.onChangeValueGenerateObjectTextColorTextElement}),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},e.textObject.backgroundColor),u.a.createElement(d.Switch,{label:"",checked:this.state.textObject.valueGenerateObjectText.addColorBackElement,onChange:this.onSwitchValueGenerateObjectTextAddColorBackElement})),this.state.textObject.valueGenerateObjectText.addColorBackElement&&u.a.createElement(W,{color:this.state.textObject.valueGenerateObjectText.colorBackElement,keyInt:0,text:e.textObject.optionalBackgroundColor,_onChange:this.onChangeValueGenerateObjectTextColorBackElement})),u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement("div",null,u.a.createElement("h4",null,e.textObject.auxiliaryElement),u.a.createElement(G,{label:e.textObject.legend,name:"legendTextObject",placeholder:e.textObject.legend,required:!1,value:this.state.textObject.generateAuxiliaryElement.legendElement,_handleChange:this.onChangeLegendElement}),u.a.createElement(G,{label:e.textObject.digitalFormatting,name:"formatageNumeriqueTextObject",placeholder:e.textObject.digitalFormatting,required:!1,value:this.state.textObject.generateAuxiliaryElement.numericFormatElement,_handleChange:this.onChangeFormatageNumeriqueTextObject}),u.a.createElement(G,{label:e.textObject.mesureUnit,name:"mesureUnityTextObject",placeholder:e.textObject.unit,required:!1,value:this.state.textObject.generateAuxiliaryElement.unit,_handleChange:this.onChangeunit}),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},e.textObject.objectDisplayTextTooltip),u.a.createElement(d.Switch,{label:"",checked:this.state.textObject.generateAuxiliaryElement.displayObjectInTooltip,onChange:this.onSwitchdisplayObjectInTooltip})),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},e.textObject.colorText),u.a.createElement(d.Switch,{label:"",checked:this.state.textObject.generateAuxiliaryElement.addColorTextElement,onChange:this.onSwitchAddColorTextElement})),this.state.textObject.generateAuxiliaryElement.addColorTextElement&&u.a.createElement(W,{color:this.state.textObject.generateAuxiliaryElement.colorTextElement,keyInt:0,text:e.textObject.colorTextOptional,_onChange:this.onChangeColorTextElement}),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},e.textObject.backgroundColor),u.a.createElement(d.Switch,{label:"",checked:this.state.textObject.generateAuxiliaryElement.addColorBackElement,onChange:this.onSwitchAddColorBackElement})),this.state.textObject.generateAuxiliaryElement.addColorBackElement&&u.a.createElement(W,{color:this.state.textObject.generateAuxiliaryElement.colorBackElement,keyInt:0,text:e.textObject.optionalBackgroundColor,_onChange:this.onChangeColorBackElement}),u.a.createElement("br",null),u.a.createElement("br",null)))},t}(u.a.Component),Z=function(e){function t(t){var i=e.call(this,t)||this;return i.onToggleLinkCollapse=function(e){i.setState({collapseLink:e})},i.onToggleTextObject=function(e){i.setState({collapseTextObject:e})},i.componentDidUpdate=function(e){e.coordinateSpace!==i.props.coordinateSpace&&i.setState({collapseLink:!1,collapseTextObject:!1})},i.state={collapseLink:!1,collapseTextObject:!1},i}return o(t,e),t.prototype.render=function(){return u.a.createElement("div",null,u.a.createElement(d.Collapse,{isOpen:this.state.collapseLink,label:"Manage link",onToggle:this.onToggleLinkCollapse},u.a.createElement("div",null,u.a.createElement(q,{coordinateSpace:this.props.coordinateSpace,callBackToParent:this.props.callBackToParent}))),u.a.createElement(d.Collapse,{isOpen:this.state.collapseTextObject,label:"Text object",onToggle:this.onToggleTextObject},u.a.createElement("div",null,u.a.createElement(K,{coordinateSpace:this.props.coordinateSpace,callBackToParent:this.props.callBackToParent}))))},t}(u.a.Component),J=(i(6),function(e){function t(t){var i=e.call(this,t)||this;return i.saveAuxMetrics=function(e,t){var n,a,o,l,s,c,u=i.props.idCoordinate;if(i.props.isPoint){var d=i.props.options.arrayPoints;try{for(var h=p(d),f=h.next();!f.done;f=h.next()){var m=f.value;m.id===u&&(m.metrics=e)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}i.props.onOptionsChange(r(r({},i.props.options),{arrayPoints:d}))}else if(i.props.isLink){var g=i.props.options.arrayOrientedLinks;try{for(var b=p(g),y=b.next();!y.done;y=b.next()){var v=y.value;v.id===u&&(t?v.metricsB=e:v.metrics=e)}}catch(e){o={error:e}}finally{try{y&&!y.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}i.props.onOptionsChange(r(r({},i.props.options),{arrayOrientedLinks:g}))}else if(i.props.isRegion){var x=i.props.options.regionCoordinateSpace;try{for(var k=p(x),C=k.next();!C.done;C=k.next()){var I=C.value;I.id===u&&(I.metrics=e)}}catch(e){s={error:e}}finally{try{C&&!C.done&&(c=k.return)&&c.call(k)}finally{if(s)throw s.error}}i.props.onOptionsChange(r(r({},i.props.options),{regionCoordinateSpace:x}))}},i.getAuxiliaryMetrics=function(e){var t,n,a,o,r,l,s=[],c=i.props.idCoordinate;if(i.props.isLink){var u=i.props.options.arrayOrientedLinks;try{for(var d=p(u),h=d.next();!h.done;h=d.next()){var f=h.value;f.id===c&&(s=e?f.metricsB:f.metrics)}}catch(e){t={error:e}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}}else if(i.props.isPoint){var m=i.props.options.arrayPoints;try{for(var g=p(m),b=g.next();!b.done;b=g.next()){var y=b.value;y.id===c&&(s=y.metrics)}}catch(e){a={error:e}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}}else if(i.props.isRegion){var v=i.props.options.regionCoordinateSpace;try{for(var x=p(v),k=x.next();!k.done;k=x.next()){var C=k.value;C.id===c&&(s=C.metrics)}}catch(e){r={error:e}}finally{try{k&&!k.done&&(l=x.return)&&l.call(x)}finally{if(r)throw r.error}}}return s},i.onToggleCollapse=function(e){i.setState({collapse:e})},i.onToggleCollapseLinkA=function(e){i.setState({collapseLinkA:e})},i.onToggleCollapseLinkB=function(e){i.setState({collapseLinkB:e})},i.getAllQuery=function(e){var t,n,a,o,r,l=[];l.push({id:e,value:void 0,label:"No value"});try{for(var s=p(i.props.data.series),c=s.next();!c.done;c=s.next()){var u=c.value,d=!1;try{for(var h=(a=void 0,p(l)),f=h.next();!f.done;f=h.next()){if((null===(r=f.value.value)||void 0===r?void 0:r.refId)===u.refId){d=!0;break}}}catch(e){a={error:e}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}d||l.push({id:e,value:u,label:u.refId})}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return l},i.getCurrentQuery=function(e,t){return{id:e,label:i.getAuxiliaryMetrics(!1)[parseInt(e,10)].refId}},i.getCurrentQueryB=function(e,t){return{id:e,label:i.getAuxiliaryMetrics(!0)[parseInt(e,10)].refId}},i.onChangeSelectQuery=function(e){var t=i.getAuxiliaryMetrics(!1);t[e.id].refId=e.label,i.saveAuxMetrics(t,!1)},i.onChangeSelectQueryB=function(e){var t=i.getAuxiliaryMetrics(!0);t[e.id].refId=e.label,i.saveAuxMetrics(t,!0)},i.onChangeKey=function(e){var t=i.getAuxiliaryMetrics(!1),n=e.currentTarget.id,a=e.currentTarget.value;t[n].key=a,i.saveAuxMetrics(t,!1)},i.onChangeKeyB=function(e){var t=i.getAuxiliaryMetrics(!0),n=e.currentTarget.id,a=e.currentTarget.value;t[n].key=a,i.saveAuxMetrics(t,!0)},i.onChangeValueKey=function(e){var t=i.getAuxiliaryMetrics(!1),n=e.currentTarget.id,a=e.currentTarget.value;t[n].keyValue=a,i.saveAuxMetrics(t,!1)},i.onChangeValueKeyB=function(e){var t=i.getAuxiliaryMetrics(!0),n=e.currentTarget.id,a=e.currentTarget.value;t[n].keyValue=a,i.saveAuxMetrics(t,!0)},i.onChangeManageValue=function(e){var t=i.getAuxiliaryMetrics(!1);t[e.id].manageValue=e.value,i.saveAuxMetrics(t,!1)},i.onChangeManageValueB=function(e){var t=i.getAuxiliaryMetrics(!0);t[e.id].manageValue=e.value,i.saveAuxMetrics(t,!0)},i.addAuxiliaryMetric=function(){var e=i.getAuxiliaryMetrics(!1);e.push({key:"",unit:"",format:"",keyValue:"",refId:"",manageValue:"avg"}),i.saveAuxMetrics(e,!1),i.displayInputs(!1)},i.addAuxiliaryMetricB=function(){var e=i.getAuxiliaryMetrics(!0);e.push({key:"",unit:"",format:"",keyValue:"",refId:"",manageValue:"avg"}),i.saveAuxMetrics(e,!0),i.displayInputs(!0)},i.deleteAuxiliaryMetric=function(e){var t=e.currentTarget.id,n=i.getAuxiliaryMetrics(!1);n.splice(t,1),i.saveAuxMetrics(n,!1),i.displayInputs(!1)},i.deleteAuxiliaryMetricB=function(e){var t=e.currentTarget.id,n=i.getAuxiliaryMetrics(!0);n.splice(t,1),i.saveAuxMetrics(n,!0),i.displayInputs(!0)},i.getAllManageValue=function(e){return[{id:e,value:"avg",label:"average"},{id:e,value:"sum",label:"total"},{id:e,value:"err",label:"error"}]},i.getCurrentManageValue=function(e,t){var n="",a=i.getAuxiliaryMetrics(t);return"avg"===a[e].manageValue?n="average":"sum"===a[e].manageValue?n="total":"err"===a[e].manageValue&&(n="error"),{id:e,value:a[e].manageValue,label:n}},i.generateInputs=function(e,t){var n,a,o,r,l=e,s=i.getAuxiliaryMetrics(t),p=(null===(n=i.props.idCoordinate)||void 0===n?void 0:n.toString())||"",c={marginTop:"10px",textAlign:"center"},h={marginTop:"5px",border:"1px solid rgb(23, 23, 24)"},f={display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:"5px"},m={display:"flex",flexDirection:"row",marginBottom:"2px"};return r=t?u.a.createElement("div",{key:p+"mainDiv"+l.toString(),style:h},u.a.createElement("p",{key:p+"title"+l.toString(),style:c},"Metric "+(l+1).toString()),u.a.createElement("div",{key:p+"content"+l.toString(),style:f},u.a.createElement("div",{key:p+"inputs"+l.toString()},u.a.createElement("div",{key:p+"refBloc"+l.toString(),style:{display:"flex"}},u.a.createElement(d.FormLabel,{key:p+"labelref"+l.toString(),width:15},"Query"),u.a.createElement(d.Select,{key:(null===(a=i.props.idCoordinate)||void 0===a?void 0:a.toString())||"refValue"+l.toString(),onChange:i.onChangeSelectQueryB,allowCustomValue:!1,options:i.getAllQuery(l.toString()),width:30,value:i.getCurrentQueryB(l.toString(),t)})),u.a.createElement(d.FormField,{key:p+"inputKey"+l.toString(),id:l.toString(),label:"Key",labelWidth:15,inputWidth:30,type:"text",value:s[l].key,name:"key",onChange:i.onChangeKeyB}),u.a.createElement(d.FormField,{key:p+"valueKey"+l.toString(),id:l.toString(),label:"Value key",labelWidth:15,inputWidth:30,type:"text",value:s[l].keyValue,name:"valueKey",onChange:i.onChangeValueKeyB}),u.a.createElement("div",{key:p+"divTypeOfValue"+l.toString(),id:l.toString(),style:m},u.a.createElement(d.FormLabel,{key:p+"labelTypeOfValue"+l.toString(),width:15},"Value"),u.a.createElement(d.Select,{key:p+"selectTypeOfValue"+l.toString(),onChange:i.onChangeManageValueB,allowCustomValue:!1,options:i.getAllManageValue(l.toString()),width:30,value:i.getCurrentManageValue(l,t)}))),u.a.createElement("div",{key:p+"buttonDelete"+l.toString()},u.a.createElement(d.Button,{id:l.toString(),onClick:i.deleteAuxiliaryMetricB,variant:"danger"},"Delete")))):u.a.createElement("div",{key:p+"mainDiv"+l.toString(),style:h},u.a.createElement("p",{key:p+"title"+l.toString(),style:c},"Metric "+(l+1).toString()),u.a.createElement("div",{key:p+"content"+l.toString(),style:f},u.a.createElement("div",{key:p+"inputs"+l.toString()},u.a.createElement("div",{key:p+"refBloc"+l.toString(),style:{display:"flex"}},u.a.createElement(d.FormLabel,{key:p+"labelref"+l.toString(),width:15},"Query"),u.a.createElement(d.Select,{key:(null===(o=i.props.idCoordinate)||void 0===o?void 0:o.toString())||"refValue"+l.toString(),onChange:i.onChangeSelectQuery,allowCustomValue:!1,options:i.getAllQuery(l.toString()),width:30,value:i.getCurrentQuery(l.toString(),t)})),u.a.createElement(d.FormField,{key:p+"inputKey"+l.toString(),id:l.toString(),label:"Key",labelWidth:15,inputWidth:30,type:"text",value:s[l].key,name:"key",onChange:i.onChangeKey}),u.a.createElement(d.FormField,{key:p+"valueKey"+l.toString(),id:l.toString(),label:"Value key",labelWidth:15,inputWidth:30,type:"text",value:s[l].keyValue,name:"valueKey",onChange:i.onChangeValueKey}),u.a.createElement("div",{key:p+"divTypeOfValue"+l.toString(),id:l.toString(),style:m},u.a.createElement(d.FormLabel,{key:p+"labelTypeOfValue"+l.toString(),width:15},"Value"),u.a.createElement(d.Select,{key:p+"selectTypeOfValue"+l.toString(),onChange:i.onChangeManageValue,allowCustomValue:!1,options:i.getAllManageValue(l.toString()),width:30,value:i.getCurrentManageValue(l,t)}))),u.a.createElement("div",{key:p+"buttonDelete"+l.toString()},u.a.createElement(d.Button,{id:l.toString(),onClick:i.deleteAuxiliaryMetric,variant:"danger"},"Delete")))),u.a.createElement("div",{key:p+"listInputOneMetric"+l.toString()},r)},i.displayInputs=function(e){var t,n=(null===(t=i.props.idCoordinate)||void 0===t?void 0:t.toString())||"",a=i.getAuxiliaryMetrics(e),o=[],r=0;return a.forEach((function(){var t=i.generateInputs(r,e);o.push(t),r++})),u.a.createElement("div",{key:n+"listInputAllMetrics"},o)},i.componentDidMount=function(){},i.state={collapse:!1,collapseLinkA:!1,collapseLinkB:!1,currentRefQuery:"",currentRefQueryB:""},i}return o(t,e),t.prototype.render=function(){var e,t,i,n,a=(null===(i=this.props.idCoordinate)||void 0===i?void 0:i.toString())||"",o={display:"flex",flexDirection:"row",justifyContent:"center",marginTop:"10px"},r=this.props.options.arrayOrientedLinks;try{for(var l=p(r),s=l.next();!s.done;s=l.next()){var c=s.value;c.id===this.props.idCoordinate&&(n=c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}return this.props.isLink&&n&&"double"===n.orientationLink.value?u.a.createElement(d.Collapse,{isOpen:this.state.collapse,label:"Auxiliary metrics",onToggle:this.onToggleCollapse},u.a.createElement(d.Collapse,{isOpen:this.state.collapseLinkA,label:"Link A",onToggle:this.onToggleCollapseLinkA},this.displayInputs(!1),u.a.createElement("div",{key:a+"buttonAdd",style:o},u.a.createElement(d.Button,{onClick:this.addAuxiliaryMetric},"Add Auxiliary Metric"))),u.a.createElement(d.Collapse,{isOpen:this.state.collapseLinkB,label:"Link B",onToggle:this.onToggleCollapseLinkB},this.displayInputs(!0),u.a.createElement("div",{key:a+"buttonAdd",style:o},u.a.createElement(d.Button,{onClick:this.addAuxiliaryMetricB},"Add Auxiliary Metric")))):u.a.createElement(d.Collapse,{isOpen:this.state.collapse,label:"Auxiliary metrics",onToggle:this.onToggleCollapse},this.displayInputs(!1),u.a.createElement("div",{key:a+"buttonAdd",style:o},u.a.createElement(d.Button,{onClick:this.addAuxiliaryMetric},"Add Auxiliary Metric")))},t}(u.a.Component)),$=function(e){function t(t){var i=e.call(this,t)||this;return i.setStateAsyncArrayCoor=function(e){return new Promise((function(t){i.setState(e,t)}))},i.setStateAsyncArrayInput=function(e){return new Promise((function(t){i.setState(e,t)}))},i.addInput=function(e){return l(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.setStateAsyncArrayInput({arrayInput:this.state.arrayInput.concat([new P(e,R(e,!1))])})];case 1:return t.sent(),[2]}}))}))},i.deleteOwnInput=function(){confirm('Delete "'+i.state.arrayCoor.label+'" ?')&&i.props.callBackToParent(i.state.arrayCoor.id,void 0)},i.onChangeSelectSVG=function(e){var t=i.state.arrayCoor;t.idSVG=e.value||"",i.setState({selectedDefaultSVG:e,arrayCoor:t}),!1===i.props.isAddCoordinate&&i.callBack()},i.callBack=function(){var e=i.state.arrayCoor;e.widthInitialSpaceDefault=(parseInt(i.props.options.coordinateSpaceInitial.coordinate.xMax,10)-parseInt(i.props.options.coordinateSpaceInitial.coordinate.xMin,10)).toString(),e.heightInitialSpaceDefault=(parseInt(i.props.options.coordinateSpaceInitial.coordinate.yMax,10)-parseInt(i.props.options.coordinateSpaceInitial.coordinate.yMin,10)).toString(),i.setState({arrayCoor:e});""===i.state.arrayCoor.label?(i.setState({severityAlert:"error",titleAlert:"Error: label is empty",hiddenAlert:!1}),setTimeout((function(){i.setState({hiddenAlert:!0})}),3e3)):(i.props.callBackToParent(i.state.arrayCoor.id,i.state.arrayCoor),i.setState({severityAlert:"success",titleAlert:"Save",hiddenAlert:!1}),i.props.isAddCoordinate||setTimeout((function(){i.setState({hiddenAlert:!0})}),3e3))},i.callBackToOther=function(e,t,n,a){var o=i.state.arrayCoor;(e||""===e)&&(o.linkURL.followLink=e),(t||""===t)&&(o.linkURL.hoveringTooltipLink=t),(n||""===n)&&(o.linkURL.hoveringTooltipText=n),a&&(o.textObj=a),i.setState({arrayCoor:o}),!1===i.props.isAddCoordinate&&i.callBack()},i.callBackManageLowerLimit=function(e){var t=i.state.arrayCoor;t.colorMode=e.colorMode,t.traceBorder=e.traceBorder,t.traceBack=e.traceBack,i.setState({arrayCoor:t}),!1===i.props.isAddCoordinate&&i.callBack()},i.callBackLowerLimit=function(e){var t=i.state.arrayCoor;t.lowerLimit=e,i.setState({arrayCoor:t}),!1===i.props.isAddCoordinate&&i.callBack()},i.callBackMainMetric=function(e){var t=i.state.arrayCoor;t.mainMetric=e,i.setState({arrayCoor:t}),!1===i.props.isAddCoordinate&&i.callBack()},i.onChangeRadioMode=function(e){var t=i.state.arrayCoor;t.mode="svgMode"===e.currentTarget.value,i.setState({selectedRadio:e.currentTarget.value,arrayCoor:t}),!1===i.props.isAddCoordinate&&i.callBack()},i.fillSelectSVG=function(){var e,t,n=[];if(i.state.allIDSelected.length>0){var a=i.state.allIDSelected,o=a[0];try{for(var r=p(a),l=r.next();!l.done;l=r.next()){var s=l.value;s.value===i.state.arrayCoor.idSVG&&(o=s)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}i.setState({selectedDefaultSVG:o})}else{if(i.props.options.baseMap.modeSVG)var c=setInterval((function(){var e,t,a,o,r=function(e,t){var i,n=[],a=[],o=null===(i=document.getElementById(t.idSVG))||void 0===i?void 0:i.querySelectorAll("*[id]");return o?(Array.from(o).forEach((function(e){"path"!==e.localName&&"rect"!==e.localName&&"ellipse"!==e.localName||n.push(e.id),a.push(e.id)})),n.sort((function(e,t){return e<t?-1:e>t?1:0}))):console.error("id svg not found"),n}(i.props.options.coordinateSpaceInitial.coordinate,i.props.options.baseMap);if(r.length>0){try{for(var l=p(r),s=l.next();!s.done;s=l.next()){var u=s.value;n.push({value:u,label:u})}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}var d=n[0];try{for(var h=p(n),f=h.next();!f.done;f=h.next()){(u=f.value).value===i.state.arrayCoor.idSVG&&(d=u)}}catch(e){a={error:e}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}i.setState({allIDSelected:n,selectedDefaultSVG:d}),clearInterval(c)}}),1e3)}},i.getDataInInput=function(){return l(i,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.addInput(this.props.coordinate.id)];case 1:return e.sent(),this.fillInputEspaceCoor(),this.fillSelectSVG(),[2]}}))}))},i.componentDidMount=function(){i.getDataInInput()},i.componentDidUpdate=function(e,t){return l(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return e.coordinate.id===this.props.coordinate.id?[3,3]:[4,this.setStateAsyncArrayCoor({arrayCoor:B(this.props.coordinate,parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin,10),parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax,10),parseInt(this.props.options.baseMap.width,10),parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin,10),parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax,10),parseInt(this.props.options.baseMap.height,10))})];case 1:return t.sent(),[4,this.setStateAsyncArrayInput({arrayInput:[]})];case 2:t.sent(),this.getDataInInput(),t.label=3;case 3:return[2]}}))}))},i.state={arrayCoor:B(i.props.coordinate,parseInt(i.props.options.coordinateSpaceInitial.coordinate.xMin,10),parseInt(i.props.options.coordinateSpaceInitial.coordinate.xMax,10),parseInt(i.props.options.baseMap.width,10),parseInt(i.props.options.coordinateSpaceInitial.coordinate.yMin,10),parseInt(i.props.options.coordinateSpaceInitial.coordinate.yMax,10),parseInt(i.props.options.baseMap.height,10)),arrayInput:[],htmlInput:u.a.createElement("div",null),hiddenAlert:!0,titleAlert:"Error: label is empty",severityAlert:"error",selectedRadio:"svgMode",allIDSelected:[],selectedDefaultSVG:[]},i}return o(t,e),t.prototype._handleChange=function(e,t,i){var n=this.state.arrayCoor,a=parseInt(this.props.options.baseMap.width,10),o=parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin,10),r=parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax,10)-o,l=n.coordsDefault;t.startsWith("positionXMin")&&(console.log("update xMin"),l.xMin=((parseInt(e,10)-o)/r*a).toString()),t.startsWith("positionXMax")&&(console.log("update xMax"),l.xMax=((parseInt(e,10)-o)/r*a).toString());var s=parseInt(this.props.options.baseMap.height,10),p=parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin,10),c=parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax,10)-p;t.startsWith("positionYMin")&&(console.log("update yMin"),l.yMin=((parseInt(e,10)-p)/c*s).toString()),t.startsWith("positionYMax")&&(console.log("update yMax"),l.yMax=((parseInt(e,10)-p)/c*s).toString()),console.log(l),n.coordsDefault=l,n=function(e,t,i){return e.startsWith("positionXMin")?t.coords.xMin=i:e.startsWith("positionXMax")?t.coords.xMax=i:e.startsWith("positionYMin")?t.coords.yMin=i:e.startsWith("positionYMax")?t.coords.yMax=i:e.startsWith("label")?t.label=i:e.startsWith("image")?t.img=i:e.startsWith("key")?t.mainMetric.key=i:e.startsWith("valueKey")&&(t.mainMetric.keyValue=i),t}(t,n,e),console.log(n),this.setState({arrayCoor:n}),this.fillInputEspaceCoor(),!1===this.props.isAddCoordinate&&this.callBack()},t.prototype.getGoodValue=function(e,t){var i;return i="",t.startsWith("positionXMin")?i=this.state.arrayCoor.coords.xMin:t.startsWith("positionXMax")?i=this.state.arrayCoor.coords.xMax:t.startsWith("positionYMin")?i=this.state.arrayCoor.coords.yMin:t.startsWith("positionYMax")?i=this.state.arrayCoor.coords.yMax:t.startsWith("label")?i=this.state.arrayCoor.label:t.startsWith("image")?i=this.state.arrayCoor.img:t.startsWith("key")?i=this.state.arrayCoor.mainMetric.key:t.startsWith("valueKey")&&(i=this.state.arrayCoor.mainMetric.keyValue),i},t.prototype.fillInputEspaceCoor=function(){var e,t,i=this,n=this.state.arrayInput,a=[],o=function(e){var t=e.getUneClassInput().map((function(t){return"text"===t.getInputType()?u.a.createElement(G,{key:t.getId(),label:t.getLabel(),name:t.getName(),placeholder:t.getPlaceholder()||"",required:t.getRequired(),value:i.getGoodValue(e.getId(),t.getName()),_handleChange:function(n){return i._handleChange(n.currentTarget.value,t.getName(),e.getId())}}):i.props.isAddCoordinate?u.a.createElement("div",null):u.a.createElement(j,{key:t.getId(),label:t.getLabel(),value:t.getValue()||"",name:t.getName(),required:t.getRequired(),_handleChange:i.deleteOwnInput,id:t.getId()})})),n="inputCoor"+e.getId().toString(),o=u.a.createElement("div",{key:"addCoordinate"+n,className:"inputCoor"},t);a=a.concat(o)};try{for(var r=p(n),l=r.next();!l.done;l=r.next()){o(l.value)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.setState((function(e){return{htmlInput:u.a.createElement("ul",null,a),selectedRadio:e.arrayCoor.mode?"svgMode":"coordinateMode"}}))},t.prototype.render=function(){var e=this;return u.a.createElement("div",null,u.a.createElement("div",{style:{position:"fixed",bottom:"5%",right:"5%",zIndex:9999},hidden:this.state.hiddenAlert},u.a.createElement(d.Alert,{title:this.state.titleAlert,severity:this.state.severityAlert})),u.a.createElement("div",null,this.state.htmlInput),u.a.createElement("div",null,u.a.createElement(_,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,idCoordinate:this.state.arrayCoor.id,mainMetric:this.state.arrayCoor.mainMetric,callBackToParent:this.callBackMainMetric,isLink:!1})),!this.props.isAddCoordinate&&u.a.createElement("div",null,u.a.createElement(J,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,idCoordinate:this.state.arrayCoor.id,metrics:this.state.arrayCoor.metrics,isRegion:!0})),u.a.createElement("div",null,u.a.createElement(Z,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,coordinateSpace:this.state.arrayCoor,callBackToParent:this.callBackToOther})),u.a.createElement("div",null,u.a.createElement(Q,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,coordinate:this.state.arrayCoor,callBack:this.callBackManageLowerLimit,lowerLimitCallBack:this.callBackLowerLimit,isLink:!1})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement("div",{className:"radio"},u.a.createElement("label",null,u.a.createElement("input",{type:"radio",value:"svgMode",checked:"svgMode"===this.state.selectedRadio,onChange:this.onChangeRadioMode}),"SVG mode")),u.a.createElement("div",{className:"radio"},u.a.createElement("label",null,u.a.createElement("input",{type:"radio",value:"coordinateMode",checked:"coordinateMode"===this.state.selectedRadio,onChange:this.onChangeRadioMode}),"Coordinate mode")),u.a.createElement("br",null),"svgMode"===this.state.selectedRadio?u.a.createElement("div",{className:"svgMode"},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Zone SVG"),u.a.createElement(d.Select,{onChange:function(t){return e.onChangeSelectSVG(t)},allowCustomValue:!1,options:this.state.allIDSelected,width:10,value:this.state.selectedDefaultSVG}))):u.a.createElement("div",{className:"classRegion"},u.a.createElement(d.FormField,{label:"Image",labelWidth:15,inputWidth:20,type:"text",value:this.state.arrayCoor.img,name:"image",onChange:function(t){return e._handleChange(t.currentTarget.value,"image",e.state.arrayCoor.id)}}),u.a.createElement(d.FormField,{label:"X min",labelWidth:15,inputWidth:20,type:"text",value:this.state.arrayCoor.coords.xMin,name:"positionXMin",onChange:function(t){return e._handleChange(t.currentTarget.value,"positionXMin",e.state.arrayCoor.id)}}),u.a.createElement(d.FormField,{label:"X max",labelWidth:15,inputWidth:20,type:"text",value:this.state.arrayCoor.coords.xMax,name:"positionXMax",onChange:function(t){return e._handleChange(t.currentTarget.value,"positionXMax",e.state.arrayCoor.id)}}),u.a.createElement(d.FormField,{label:"Y min",labelWidth:15,inputWidth:20,type:"text",value:this.state.arrayCoor.coords.yMin,name:"positionYMin",onChange:function(t){return e._handleChange(t.currentTarget.value,"positionYMin",e.state.arrayCoor.id)}}),u.a.createElement(d.FormField,{label:"Y max",labelWidth:15,inputWidth:20,type:"text",value:this.state.arrayCoor.coords.yMax,name:"positionYMax",onChange:function(t){return e._handleChange(t.currentTarget.value,"positionYMax",e.state.arrayCoor.id)}}))),u.a.createElement("br",null),u.a.createElement("div",{style:{textAlign:"center"},className:"buttonSave"},this.props.isAddCoordinate&&u.a.createElement(d.Button,{style:{marginRight:"1%"},onClick:function(){return e.callBack()}},"Save"),!this.props.isAddCoordinate&&u.a.createElement(d.Button,{onClick:this.deleteOwnInput,variant:"danger"},"Delete")))},t}(u.a.Component),ee=function(){function e(e,t,i,n,a,o,r,l,s){this.id=e,this.label=t,this.name=i,this.input_type=n,this.optionValues=a,this.defaultValueColor=o,this.required=r,this.placeholder=l,this.value=s}return e.prototype.getId=function(){return this.id},e.prototype.setId=function(e){this.id=e},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(e){this.label=e},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){this.name=e},e.prototype.getInputType=function(){return this.input_type},e.prototype.setInputType=function(e){this.input_type=e},e.prototype.getRequired=function(){return this.required},e.prototype.setRequired=function(e){this.required=e},e.prototype.getPlaceholder=function(){return this.placeholder},e.prototype.setPlaceholder=function(e){this.placeholder=e},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(e){this.value=e},e.prototype.getOptionValues=function(){return this.optionValues},e.prototype.setOptionValues=function(e){this.optionValues=e},e.prototype.getDefaultValueColor=function(){return this.defaultValueColor},e.prototype.setDefaultValueColor=function(e){this.defaultValueColor=e},e}(),te=function(e){var t=new ee(e.toString()+"drawGraphicMarker","Display ","drawGraphicMarker"+e.toString(),"select",[{value:"true",label:"Yes"},{value:"false",label:"No"}],"",!0,"drawGraphicMarker",void 0),i=new ee(e.toString()+"shape","Shape","shape"+e.toString(),"select",[{value:"none",label:"None"},{value:"circle",label:"Circle"},{value:"square",label:"Square"},{value:"diamond",label:"Diamond"}],"",!0,"Shape",void 0),n=new ee(e.toString()+"sizeWidth","Size (px)","sizeWidth"+e.toString(),"text",[],"",!0,"SizeWidth",void 0),a=new ee(e.toString()+"sizeHeight","Width","sizeHeight"+e.toString(),"select",[{value:"small",label:"Small"},{value:"medium",label:"Medium"},{value:"large",label:"Large"}],"",!0,"SizeHeight",void 0),o=new ee(e.toString()+"rotateArrow","Orientation","rotateArrow"+e.toString(),"text",[],"",!0,"RotateArrow",void 0),r=new ee(e.toString()+"positionShapeX","Position X","positionShapeX"+e.toString(),"text",[],"",!0,"Position X Shape",void 0),l=new ee(e.toString()+"positionShapeY","Position Y","positionShapeY"+e.toString(),"text",[],"",!0,"Position Y Shape",void 0);return[new ee(e.toString()+"labelPoint","Label","labelPoint"+e.toString(),"text",[],"",!0,"Label",void 0),t,i,n,a,o,r,l,new ee(e.toString()+"deletePoint","Delete","delete"+e.toString(),"button",[],"",!0,void 0,"Delete")]},ie=function(e){var t=e.label,i=e.name,n=e.placeholder,a=e.required,o=e.value,r=e._handleChange,l=e.shape;return void 0!==i&&"arrow"!==l&&i.startsWith("rotateArrow")?u.a.createElement("div",null):u.a.createElement("div",null,u.a.createElement(d.FormField,{label:t,labelWidth:15,inputWidth:20,type:"text",required:a,name:i,value:o,onChange:r,placeholder:n}))},ne=function(){function e(e,t){this.id=e,this.uneClassInput=t}return e.prototype.getId=function(){return this.id},e.prototype.setId=function(e){this.id=e},e.prototype.getUneClassInput=function(){return this.uneClassInput},e.prototype.setUneClassInput=function(e){this.uneClassInput=e},e}(),ae=function(e,t,i,n){return e.startsWith("label")?t.label=i:e.startsWith("drawGraphicMarker")?t.drawGraphicMarker=n:e.startsWith("shape")?t.shape=n:e.startsWith("sizeWidth")?t.sizeWidth=i:e.startsWith("sizeHeight")?t.sizeHeight=n:e.startsWith("rotateArrow")?t.rotateArrow=i:e.startsWith("positionShapeX")?(console.log("update X"),t.positionShapeX=i):e.startsWith("positionShapeY")?(console.log("update Y"),t.positionShapeY=i):e.startsWith("color")?t.color=i:e.startsWith("refIdMainMetric")?t.mainMetric.refId=i:e.startsWith("keyMainMetric")?t.mainMetric.key=i:e.startsWith("keyValueMainMetric")&&(t.mainMetric.keyValue=i),t},oe=function(e){var t=e._onChange,i=e.data,n=e.index,a=e.defaultValue,o=e.name,r=e.shape,l=e.label;return void 0!==o&&"arrow"!==r&&o.startsWith("sizeHeight")?u.a.createElement("div",null):u.a.createElement("div",{style:{display:"flex",marginBottom:"2px"}},u.a.createElement(d.FormLabel,{width:15},l),u.a.createElement(d.Select,{onChange:function(e){return t(e,o,n)},allowCustomValue:!1,options:i,value:a,width:20}))},re=function(e){function t(t){var i=e.call(this,t)||this;return i.savePositionParameter=function(e){var t,n,a,o,l,s,c=i.props.id||0;if(i.props.isPoint){var u=i.props.options.arrayPoints;try{for(var d=p(u),h=d.next();!h.done;h=d.next()){var f=h.value;f.id===c&&(f.positionParameter=e)}}catch(e){t={error:e}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}i.props.onOptionsChange(r(r({},i.props.options),{arrayPoints:u}))}else if(i.props.isLink){var m=i.props.options.arrayOrientedLinks;try{for(var g=p(m),b=g.next();!b.done;b=g.next()){var y=b.value;y.id===c&&(y.positionParameter=e)}}catch(e){a={error:e}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}i.props.onOptionsChange(r(r({},i.props.options),{arrayOrientedLinks:m}))}else if(i.props.isRegion){var v=i.props.options.regionCoordinateSpace;try{for(var x=p(v),k=x.next();!k.done;k=x.next()){var C=k.value;C.id===c&&(C.positionParameter=e)}}catch(e){l={error:e}}finally{try{k&&!k.done&&(s=x.return)&&s.call(x)}finally{if(l)throw l.error}}i.props.onOptionsChange(r(r({},i.props.options),{regionCoordinateSpace:v}))}},i.getPositionParameter=function(){var e,t,n,a,o,r,l={labelAPositionX:"0",labelAPositionY:"0",labelBPositionX:"0",labelBPositionY:"0",tooltipPositionA:{},tooltipPositionB:{}},s=i.props.id||0;if(i.props.isLink){var c=i.props.options.arrayOrientedLinks;try{for(var u=p(c),d=u.next();!d.done;d=u.next()){var h=d.value;h.id===s&&(l=h.positionParameter)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}}else if(i.props.isPoint){var f=i.props.options.arrayPoints;try{for(var m=p(f),g=m.next();!g.done;g=m.next()){var b=g.value;b.id===s&&(l=b.positionParameter)}}catch(e){n={error:e}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}}else if(i.props.isRegion){var y=i.props.options.regionCoordinateSpace;try{for(var v=p(y),x=v.next();!x.done;x=v.next()){var k=x.value;k.id===s&&(l=k.positionParameter)}}catch(e){o={error:e}}finally{try{x&&!x.done&&(r=v.return)&&r.call(v)}finally{if(o)throw o.error}}}return l},i.handleChangeLabelAPositionX=function(e){var t=i.getPositionParameter();t.labelAPositionX=e.currentTarget.value,i.savePositionParameter(t)},i.handleChangeLabelAPositionY=function(e){var t=i.getPositionParameter();t.labelAPositionY=e.currentTarget.value,i.savePositionParameter(t)},i.handleChangeLabelBPositionX=function(e){var t=i.getPositionParameter();t.labelBPositionX=e.currentTarget.value,i.savePositionParameter(t)},i.handleChangeLabelBPositionY=function(e){var t=i.getPositionParameter();t.labelBPositionY=e.currentTarget.value,i.savePositionParameter(t)},i.handleChangeTooltipPositionA=function(e){var t=i.getPositionParameter();t.tooltipPositionA={label:e.value,value:e.value},i.savePositionParameter(t)},i.handleChangeTooltipPositionB=function(e){var t=i.getPositionParameter();t.tooltipPositionB={label:e.value,value:e.value},i.savePositionParameter(t)},i.handleChangeSelectOrientedLinkToUpgrade=function(e){var t={label:e.label,value:e.value};i.setState({orientedLinkComparedToUpgrade:t})},i.handleChangeSelectOrientedLinkToDowngrade=function(e){var t={label:e.label,value:e.value};i.setState({orientedLinkComparedToDowngrade:t})},i.downgradeLayerLevel=function(){var e=i.state.orientedLinkComparedToDowngrade.value.zIndex-1;i.callBackZIndex(e,i.props.id||0)},i.upgradeLayerLevel=function(){var e=i.state.orientedLinkComparedToUpgrade.value.zIndex+1;i.callBackZIndex(e,i.props.id||0)},i.defineListOrientedLink=function(){var e=[];return i.props.options.arrayOrientedLinks.forEach((function(t){var i={label:t.label||t.name,value:t};e.push(i)})),e},i.defineLabelPositionInputs=function(){var e,t,n,a=i.getPositionParameter(),o=i.props.options.arrayOrientedLinks;try{for(var r=p(o),l=r.next();!l.done;l=r.next()){var s=l.value;s.id===i.props.id&&(n=s)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return i.props.isLink&&n&&"double"===n.orientationLink.value?u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement(d.FormField,{label:"Label A Position X",labelWidth:10,inputWidth:20,type:"text",value:a.labelAPositionX,onChange:i.handleChangeLabelAPositionX,placeholder:"Label A Position X"}),u.a.createElement(d.FormField,{label:"Label A Position Y",labelWidth:10,inputWidth:20,type:"text",value:a.labelAPositionY,onChange:i.handleChangeLabelAPositionY,placeholder:"Label A Position Y"}))),u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement(d.FormField,{label:"Label B Position X",labelWidth:10,inputWidth:20,type:"text",value:a.labelBPositionX,onChange:i.handleChangeLabelBPositionX,placeholder:"Label B Position X"}),u.a.createElement(d.FormField,{label:"Label B Position Y",labelWidth:10,inputWidth:20,type:"text",value:a.labelBPositionY,onChange:i.handleChangeLabelBPositionY,placeholder:"Label B Position Y"})))):u.a.createElement("div",null,u.a.createElement(d.FormField,{label:"Position X",labelWidth:10,inputWidth:20,type:"text",value:a.labelAPositionX,onChange:i.handleChangeLabelAPositionX,placeholder:"Position X"}),u.a.createElement(d.FormField,{label:"Position Y",labelWidth:10,inputWidth:20,type:"text",value:a.labelAPositionY,onChange:i.handleChangeLabelAPositionY,placeholder:"Position Y"}))},i.defineTooltipPositionInputs=function(){var e,t,n,a=[{label:"Top",value:"Top"},{label:"Bottom",value:"Bottom"},{label:"Left",value:"Left"},{label:"Right",value:"Right"}],o=i.getPositionParameter(),r=i.props.options.arrayOrientedLinks;try{for(var l=p(r),s=l.next();!s.done;s=l.next()){var c=s.value;c.id===i.props.id&&(n=c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}return i.props.isLink&&n&&"double"===n.orientationLink.value?u.a.createElement("div",null,u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:10},"Tooltip A Position"),u.a.createElement(d.Select,{onChange:i.handleChangeTooltipPositionA,allowCustomValue:!1,options:a,value:o.tooltipPositionA,width:20})),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:10},"Tooltip B Position"),u.a.createElement(d.Select,{onChange:i.handleChangeTooltipPositionB,allowCustomValue:!1,options:a,value:o.tooltipPositionB,width:20}))):u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:10},"Tooltip position"),u.a.createElement(d.Select,{onChange:i.handleChangeTooltipPositionA,allowCustomValue:!1,options:a,value:o.tooltipPositionA,width:20}))},i.defineLayerLevel=function(){var e=i.defineListOrientedLink();return i.props.isLink?u.a.createElement(d.Collapse,{isOpen:i.state.collapseLayerLevel,label:"LayerLevel",onToggle:function(e){i.setState({collapseLayerLevel:e})}},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Upgrade on "),u.a.createElement(d.Select,{onChange:i.handleChangeSelectOrientedLinkToUpgrade,allowCustomValue:!1,options:e,value:i.state.orientedLinkComparedToUpgrade,width:15}),u.a.createElement(d.Button,{onClick:i.upgradeLayerLevel},"Submit")),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Downgrade on"),u.a.createElement(d.Select,{onChange:i.handleChangeSelectOrientedLinkToDowngrade,allowCustomValue:!1,options:e,value:i.state.orientedLinkComparedToDowngrade,width:15}),u.a.createElement(d.Button,{onClick:i.downgradeLayerLevel},"Submit"))):u.a.createElement("div",null)},i.state={collapsepositionParameter:!1,collapseLabel:!1,collapseTooltip:!1,collapseLayerLevel:!1,orientedLinkComparedToDowngrade:{},orientedLinkComparedToUpgrade:{}},i}return o(t,e),t.prototype.callBackZIndex=function(e,t){this.props.callBackToParentZIndex(e,t)},t.prototype.render=function(){var e=this;return u.a.createElement(d.Collapse,{isOpen:this.state.collapsepositionParameter,label:"Position Parameter",onToggle:function(t){e.setState({collapsepositionParameter:t})}},u.a.createElement(d.Collapse,{isOpen:this.state.collapseLabel,label:"Label",onToggle:function(t){e.setState({collapseLabel:t})}},u.a.createElement("div",null,this.defineLabelPositionInputs())),u.a.createElement(d.Collapse,{isOpen:this.state.collapseTooltip,label:"Tooltip",onToggle:function(t){e.setState({collapseTooltip:t})}},u.a.createElement("div",null,this.defineTooltipPositionInputs())),u.a.createElement("div",null,this.defineLayerLevel()))},t}(u.a.Component),le=function(e){function t(t){var i=e.call(this,t)||this;return i.setStateAsyncArrayCoor=function(e){return new Promise((function(t){i.setState(e,t)}))},i.setStateAsyncArrayInput=function(e){return new Promise((function(t){i.setState(e,t)}))},i.addInput=function(e){return l(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.setStateAsyncArrayInput({arrayInput:this.state.arrayInput.concat([new ne(e,te(e))])})];case 1:return t.sent(),[2]}}))}))},i.deleteOwnInput=function(){var e=i.state.point.label||i.state.point.name;confirm('Delete "'+e+'" ?')&&i.props.callBackToParent(i.state.point.id,void 0)},i.callBack=function(){""===i.state.point.label?(i.setState({severityAlert:"error",titleAlert:"Error: label is empty",hiddenAlert:!1}),setTimeout((function(){i.setState({hiddenAlert:!0})}),3e3)):(i.props.callBackToParent(i.state.point.id,i.state.point),i.setState({severityAlert:"success",titleAlert:"Save",hiddenAlert:!1}),i.props.isAddPoint||setTimeout((function(){i.setState({hiddenAlert:!0})}),3e3))},i.callBackToOther=function(e,t,n,a){var o=i.state.point;e&&(o.linkURL.followLink=e),t&&(o.linkURL.hoveringTooltipLink=t),n&&(o.linkURL.hoveringTooltipText=n),a&&(o.textObj=a),i.setState({point:o}),!1===i.props.isAddPoint&&i.callBack()},i.callBackManageLowerLimit=function(e,t){var n=i.state.point;n.colorMode=e.colorMode,n.traceBorder=e.traceBorder,n.traceBack=e.traceBack,i.setState({point:n}),!1===i.props.isAddPoint&&i.callBack()},i.callBackLowerLimit=function(e,t){var n=i.state.point;n.lowerLimit=e,i.setState({point:n}),!1===i.props.isAddPoint&&i.callBack()},i.callBackMainMetric=function(e,t){var n=i.state.point;n.mainMetric=e,i.setState({point:n}),!1===i.props.isAddPoint&&i.callBack()},i.getDataInInput=function(){return l(i,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.addInput(this.props.point.id)];case 1:return e.sent(),this.generateInputsPoint(),[2]}}))}))},i.componentDidMount=function(){i.getDataInInput()},i.componentDidUpdate=function(e,t){return l(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return e.point.id===this.props.point.id?[3,3]:[4,this.setStateAsyncArrayCoor({point:A(this.props.point,parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin,10),parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax,10),parseInt(this.props.options.baseMap.width,10),parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin,10),parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax,10),parseInt(this.props.options.baseMap.height,10))})];case 1:return t.sent(),[4,this.setStateAsyncArrayInput({arrayInput:[]})];case 2:t.sent(),this.getDataInInput(),t.label=3;case 3:return[2]}}))}))},i.state={arrayInput:[],point:A(i.props.point,parseInt(i.props.options.coordinateSpaceInitial.coordinate.xMin,10),parseInt(i.props.options.coordinateSpaceInitial.coordinate.xMax,10),parseInt(i.props.options.baseMap.width,10),parseInt(i.props.options.coordinateSpaceInitial.coordinate.yMin,10),parseInt(i.props.options.coordinateSpaceInitial.coordinate.yMax,10),parseInt(i.props.options.baseMap.height,10)),arrayPointClass:[],htmlInput:u.a.createElement("div",null),hiddenAlert:!0,titleAlert:"Error: label is empty",severityAlert:"error"},i}return o(t,e),t.prototype._handleChange=function(e,t,i){var n=this.state.point,a=parseInt(this.props.options.baseMap.width,10),o=parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin,10),r=parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax,10)-o;t.startsWith("positionShapeX")&&(n.positionXDefault=((parseInt(e,10)-o)/r*a).toString());var l=parseInt(this.props.options.baseMap.height,10),s=parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin,10),p=parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax,10)-s;t.startsWith("positionShapeY")&&(n.positionYDefault=((parseInt(e,10)-s)/p*l).toString()),n=ae(t,n,e,{}),this.setState({point:n}),this.generateInputsPoint(),!1===this.props.isAddPoint&&this.callBack()},t.prototype.getGoodValue=function(e){var t,i;return t="",i={},e.startsWith("drawGraphicMarker")||e.startsWith("shape")||e.startsWith("sizeHeight")||e.startsWith("linkWithCoordinateSpace")?(e.startsWith("drawGraphicMarker")?i=this.state.point.drawGraphicMarker:e.startsWith("shape")?i=this.state.point.shape:e.startsWith("sizeWidth")||e.startsWith("sizeHeight")&&(i=this.state.point.sizeHeight),i):(e.startsWith("rotateArrow")?t=this.state.point.rotateArrow:e.startsWith("positionShapeX")?t=this.state.point.positionShapeX:e.startsWith("positionShapeY")?t=this.state.point.positionShapeY:e.startsWith("label")?t=this.state.point.label:e.startsWith("color")?t=this.state.point.color:e.startsWith("sizeWidth")&&(t=this.state.point.sizeWidth),t)},t.prototype.generateInputsPoint=function(){var e,t,i=this,n=this.state.arrayInput,a=u.a.createElement("div",null),o=[],r=function(e){var t=[];e.uneClassInput.forEach((function(n){a="text"===n.input_type?u.a.createElement(ie,{key:n.id,label:n.label,name:n.name,placeholder:n.placeholder||"",required:n.required,value:i.getGoodValue(n.name),_handleChange:function(t){i._handleChange(t.currentTarget.value,n.name,e.id)},shape:i.getGoodValue("shape").value}):"select"===n.input_type?u.a.createElement(oe,{key:n.id,_onChange:function(e,t,n){var a=i.state.point;ae(t,a,"",e),i.setState({point:a}),i.generateInputsPoint(),!1===i.props.isAddPoint&&i.callBack()},name:n.name,index:e.id,data:n.optionValues,defaultValue:i.getGoodValue(n.name),shape:i.getGoodValue("shape").value,label:n.label}):u.a.createElement("div",{key:n.id}),t.push(a)}));var n=u.a.createElement("div",{key:"inputPoint"+e.id.toString(),className:"inputCoor",id:"point"+e.id.toString()},t);o=o.concat(n)};try{for(var l=p(n),s=l.next();!s.done;s=l.next()){r(s.value)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}this.setState((function(e){return{htmlInput:u.a.createElement("ul",null,o)}}))},t.prototype.render=function(){var e=this;return u.a.createElement("div",null,u.a.createElement("div",{style:{position:"fixed",bottom:"5%",right:"5%",zIndex:9999},hidden:this.state.hiddenAlert},u.a.createElement(d.Alert,{title:this.state.titleAlert,severity:this.state.severityAlert})),u.a.createElement("div",null,u.a.createElement(_,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,idCoordinate:this.state.point.id,mainMetric:this.state.point.mainMetric,callBackToParent:this.callBackMainMetric,isLink:!1})),!this.props.isAddPoint&&u.a.createElement("div",null,u.a.createElement(J,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,idCoordinate:this.state.point.id,metrics:this.state.point.metrics,isPoint:!0})),u.a.createElement("div",null,u.a.createElement(Z,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,coordinateSpace:this.state.point,callBackToParent:this.callBackToOther})),u.a.createElement("div",null,u.a.createElement(Q,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,coordinate:this.state.point,callBack:this.callBackManageLowerLimit,lowerLimitCallBack:this.callBackLowerLimit,isLink:!1})),u.a.createElement("div",null,u.a.createElement(re,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,callBackToParentZIndex:function(){},isPoint:!0,isLink:!1,isRegion:!1,id:this.state.point.id})),u.a.createElement("div",null,this.state.htmlInput),u.a.createElement("div",{style:{textAlign:"center"},className:"buttonSave"},this.props.isAddPoint&&u.a.createElement(d.Button,{style:{marginRight:"1%"},onClick:function(){return e.callBack()}},"Save"),!this.props.isAddPoint&&u.a.createElement(d.Button,{onClick:this.deleteOwnInput,variant:"danger"},"Delete")))},t}(u.a.Component),se=function(e){var t=e.label,i=e.name,n=e.placeholder,a=e.required,o=e.value,r=e._handleChange,l=e.isIncurved;return i.startsWith("pointCX")||i.startsWith("pointCY")?l.value?u.a.createElement("div",null,u.a.createElement(d.FormField,{label:t,labelWidth:15,inputWidth:20,type:"text",required:a,name:i,value:o,onChange:r,placeholder:n})):u.a.createElement("div",null):u.a.createElement("div",null,u.a.createElement(d.FormField,{label:t,labelWidth:15,inputWidth:20,type:"text",required:a,name:i,value:o,onChange:r,placeholder:n}))},pe=function(e){var t=e._onChange,i=e.data,n=e.index,a=e.defaultValue,o=e.name,r=e.label;return u.a.createElement("div",{style:{display:"flex",marginBottom:"2px"}},u.a.createElement(d.FormLabel,{width:15},r),u.a.createElement(d.Select,{onChange:function(e){return t(e,o,n)},allowCustomValue:!1,options:i,value:a,width:20}))},ce=function(e,t,i){var n=new ee(e.toString()+"orientationLink","Orientation","orientationLink"+e.toString(),"select",[{label:"Nodirectional",value:"no"},{label:"Monodirectional",value:"AB"},{label:"Bidirectional",value:"double"}],"",!0,"Orientation",void 0),a=new ee(e.toString()+"size","Size (px)","size"+e.toString(),"text",[],"",!0,"Size",void 0),o=new ee(e.toString()+"pointAX","CoordinateClick A - X","pointAX"+e.toString(),"text",[],"",!0,"PointA-X",void 0),r=new ee(e.toString()+"pointAY","CoordinateClick A - Y","pointAY"+e.toString(),"text",[],"",!0,"PointA-Y",void 0),l=new ee(e.toString()+"pointBX","CoordinateClick B - X","pointBX"+e.toString(),"text",[],"",!0,"PointB-X",void 0),s=new ee(e.toString()+"pointBY","CoordinateClick B - Y","pointBY"+e.toString(),"text",[],"",!0,"PointB-Y",void 0),p=new ee(e.toString()+"labelLink","Label","label"+e.toString(),"text",[],"",!0,"Label",void 0),c=new ee(e.toString()+"regionIn","AssociateRegionIn","regionIn"+e.toString(),"select",t,"",!0,"Associate Region In",void 0),u=new ee(e.toString()+"regionOut","AssociateRegionOut","regionOut"+e.toString(),"select",t,"",!0,"Associate Region Out",void 0);return[p,n,a,new ee(e.toString()+"pointIn","AssociatePointIn","pointIn"+e.toString(),"select",i,"",!0,"Associate Point In",void 0),c,o,r,new ee(e.toString()+"pointOut","AssociatePointOut","pointOut"+e.toString(),"select",i,"",!0,"Associate Point Out",void 0),u,l,s,new ee(e.toString()+"isIncurved","Incurved","isIncurved"+e.toString(),"select",[{label:"Yes",value:!0},{label:"No",value:!1}],"",!0,"Incurved",void 0),new ee(e.toString()+"pointCX","CoordinateClick C - X","pointCX"+e.toString(),"text",[],"",!0,"PointC-X",void 0),new ee(e.toString()+"pointCY","CoordinateClick C - Y","pointCY"+e.toString(),"text",[],"",!0,"PointC-Y",void 0),new ee(e.toString()+"deleteLink","Delete","delete"+e.toString(),"button",[],"",!1,void 0,"delete")]},ue=function(e,t,i,n){return e.startsWith("label")?t.label=i:e.startsWith("orientationLink")?t.orientationLink=n:e.startsWith("pointAX")?t.pointAPositionX=i:e.startsWith("pointAY")?t.pointAPositionY=i:e.startsWith("pointBX")?t.pointBPositionX=i:e.startsWith("pointBY")?t.pointBPositionY=i:e.startsWith("colorCoordinateA")?t.colorCoordinateA=i:e.startsWith("colorCoordinateB")?t.colorCoordinateB=i:e.startsWith("refIdMainMetric")?t.mainMetric.refId=i:e.startsWith("keyMainMetric")?t.mainMetric.key=i:e.startsWith("keyValueMainMetric")?t.mainMetric.keyValue=i:e.startsWith("isIncurved")?t.isIncurved=n:e.startsWith("pointCX")?t.pointCPositionX=i:e.startsWith("pointCY")?t.pointCPositionY=i:e.startsWith("pointIn")?t.pointIn=i:e.startsWith("pointOut")?t.pointOut=i:e.startsWith("regionIn")?t.regionIn=i:e.startsWith("regionOut")?t.regionOut=i:e.startsWith("size")&&(t.size=i),t},de=function(e){function t(t){var i=e.call(this,t)||this;return i.setStateAsyncOrientedLink=function(e){return new Promise((function(t){i.setState(e,t)}))},i.setStateAsyncArrayInput=function(e){return new Promise((function(t){i.setState(e,t)}))},i.addInput=function(e){return l(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.setStateAsyncArrayInput({arrayInput:this.state.arrayInput.concat([new ne(e,ce(e,this.defineDataRegion(),this.defineDataPoint()))])})];case 1:return t.sent(),[2]}}))}))},i.deleteOwnInput=function(){var e=i.state.orientedLink.label||i.state.orientedLink.name;confirm('Delete "'+e+'" ?')&&i.props.callBackToParent(i.state.orientedLink.id,void 0)},i.updateAssociatePointAndRegion=function(e,t){t.startsWith("pointIn")?e=ue("regionIn",e,"",{}):t.startsWith("regionIn")?e=ue("pointIn",e,"",{}):t.startsWith("pointOut")?e=ue("regionOut",e,"",{}):t.startsWith("regionOut")&&(e=ue("pointOut",e,"",{}))},i.callBack=function(){""===i.state.orientedLink.label?(i.setState({severityAlert:"error",titleAlert:"Error: label is empty",hiddenAlert:!1}),setTimeout((function(){i.setState({hiddenAlert:!0})}),3e3)):(i.props.callBackToParent(i.state.orientedLink.id,i.state.orientedLink),i.setState({severityAlert:"success",titleAlert:"Save",hiddenAlert:!1}),i.props.isAddLink||setTimeout((function(){i.setState({hiddenAlert:!0})}),3e3))},i.callBackToOther=function(e,t,n,a){var o=i.state.orientedLink;e&&(o.linkURL.followLink=e),t&&(o.linkURL.hoveringTooltipLink=t),n&&(o.linkURL.hoveringTooltipText=n),a&&(o.textObj=a),i.setState({orientedLink:o}),!1===i.props.isAddLink&&i.callBack()},i.callBackManageLowerLimit=function(e,t){var n=i.state.orientedLink;n.colorMode=e.colorMode,n.traceBorder=e.traceBorder,n.traceBack=e.traceBack,i.setState({orientedLink:n}),!1===i.props.isAddLink&&i.callBack()},i.callBackLowerLimit=function(e,t){var n=i.state.orientedLink;n.lowerLimit=e,console.log("orientedLink"),console.log(n.lowerLimit),i.setState({orientedLink:n}),!1===i.props.isAddLink&&i.callBack()},i.callBackMainMetric=function(e,t){var n=i.state.orientedLink;n.mainMetric=e,i.setState({orientedLink:n}),!1===i.props.isAddLink&&i.callBack()},i.callBackMainMetricB=function(e,t){var n=i.state.orientedLink;n.mainMetricB=e,i.setState({orientedLink:n}),!1===i.props.isAddLink&&i.callBack()},i.getDataInInput=function(){return l(i,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.addInput(this.props.orientedLink.id)];case 1:return e.sent(),this.generateInputsOrientedLink(),[2]}}))}))},i.componentDidMount=function(){i.getDataInInput()},i.componentDidUpdate=function(e,t){return l(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return e.orientedLink.id===this.props.orientedLink.id?[3,3]:[4,this.setStateAsyncOrientedLink({orientedLink:w(this.props.orientedLink)})];case 1:return t.sent(),[4,this.setStateAsyncArrayInput({arrayInput:[]})];case 2:t.sent(),this.getDataInInput(),t.label=3;case 3:return[2]}}))}))},i.state={arrayInput:[],orientedLink:w(i.props.orientedLink),arrayOrientedLink:[],htmlInput:u.a.createElement("div",null),hiddenAlert:!0,titleAlert:"Error: label is empty",severityAlert:"error"},i}return o(t,e),t.prototype.defineDataRegion=function(){var e=this.props.options.regionCoordinateSpace,t=[];return t.push({label:"None",value:""}),e.forEach((function(e){var i={label:e.label,value:e.label};t.push(i)})),t},t.prototype.defineDataPoint=function(){var e=this.props.options.arrayPoints,t=[];return t.push({label:"None",value:""}),e.forEach((function(e){var i=e.label||e.name,n={label:i,value:i};t.push(n)})),t},t.prototype._handleChange=function(e,t,i){var n=this.state.orientedLink,a=parseInt(this.props.options.baseMap.width,10),o=parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin,10),r=parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax,10)-o;t.startsWith("pointAX")?n.pointAPositionXDefault=((parseInt(e,10)-o)/r*a).toString():t.startsWith("pointBX")?n.pointBPositionXDefault=((parseInt(e,10)-o)/r*a).toString():t.startsWith("pointCX")&&(n.pointCPositionXDefault=((parseInt(e,10)-o)/r*a).toString());var l=parseInt(this.props.options.baseMap.height,10),s=parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin,10),p=parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax,10)-s;t.startsWith("pointAY")?n.pointAPositionYDefault=((parseInt(e,10)-s)/p*l).toString():t.startsWith("pointBY")?n.pointBPositionYDefault=((parseInt(e,10)-s)/p*l).toString():t.startsWith("pointCY")&&(n.pointCPositionYDefault=((parseInt(e,10)-s)/p*l).toString()),n=ue(t,n,e,{}),this.setState({orientedLink:n}),this.generateInputsOrientedLink(),!1===this.props.isAddLink&&this.callBack()},t.prototype.getGoodValue=function(e){var t,i;return t="",i={},e.startsWith("orientationLink")||e.startsWith("isIncurved")||e.startsWith("pointIn")||e.startsWith("pointOut")||e.startsWith("regionIn")||e.startsWith("regionOut")?(e.startsWith("orientationLink")?i=this.state.orientedLink.orientationLink:e.startsWith("isIncurved")?i=this.state.orientedLink.isIncurved:e.startsWith("pointIn")?i={label:this.state.orientedLink.pointIn,value:this.state.orientedLink.pointIn}:e.startsWith("pointOut")?i={label:this.state.orientedLink.pointOut,value:this.state.orientedLink.pointOut}:e.startsWith("regionIn")?i={label:this.state.orientedLink.regionIn,value:this.state.orientedLink.regionIn}:e.startsWith("regionOut")&&(i={label:this.state.orientedLink.regionOut,value:this.state.orientedLink.regionOut}),i):e.startsWith("mainMetric")?this.state.orientedLink.mainMetric:(e.startsWith("label")?t=this.state.orientedLink.label:e.startsWith("pointAX")?t=this.state.orientedLink.pointAPositionX:e.startsWith("pointAY")?t=this.state.orientedLink.pointAPositionY:e.startsWith("pointBX")?t=this.state.orientedLink.pointBPositionX:e.startsWith("pointBY")?t=this.state.orientedLink.pointBPositionY:e.startsWith("colorCoordinateA")?t=this.state.orientedLink.colorCoordinateA:e.startsWith("colorCoordinateB")?t=this.state.orientedLink.colorCoordinateB:e.startsWith("refIdMainMetric")?t=this.state.orientedLink.mainMetric.refId||"":e.startsWith("keyMainMetric")?t=this.state.orientedLink.mainMetric.key||"":e.startsWith("keyValueMainMetric")?t=this.state.orientedLink.mainMetric.keyValue||"":e.startsWith("pointCX")?t=this.state.orientedLink.pointCPositionX:e.startsWith("pointCY")?t=this.state.orientedLink.pointCPositionY:e.startsWith("size")&&(t=this.state.orientedLink.size),t)},t.prototype.generateInputsOrientedLink=function(){var e,t,i=this,n=this.state.arrayInput,a=[],o=u.a.createElement("div",null),r=function(e){var t=[];e.uneClassInput.forEach((function(n){o="text"===n.input_type?u.a.createElement(se,{key:n.id,label:n.label,name:n.name,placeholder:n.placeholder||"",required:n.required,value:i.getGoodValue(n.name),_handleChange:function(t){i._handleChange(t.currentTarget.value,n.name,e.id)},isIncurved:i.getGoodValue("isIncurved")}):"select"===n.input_type?u.a.createElement(pe,{key:n.id,_onChange:function(e,t,n){var a=i.state.orientedLink;ue(t,a,e.value||"",e),i.updateAssociatePointAndRegion(a,t),i.setState({orientedLink:a}),i.generateInputsOrientedLink(),!1===i.props.isAddLink&&i.callBack()},name:n.name,index:e.id,data:n.optionValues,defaultValue:i.getGoodValue(n.name),label:n.label}):u.a.createElement("div",{key:n.id}),t.push(o)}));var n=u.a.createElement("div",{key:"inputOrientedLink"+e.id.toString(),className:"inputCoor",id:"orientedLink"+e.id.toString()},t);a=a.concat(n)};try{for(var l=p(n),s=l.next();!s.done;s=l.next()){r(s.value)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}this.setState((function(e){return{htmlInput:u.a.createElement("ul",null,a)}}))},t.prototype.callBackZIndex=function(e,t){var i=this.state.orientedLink;i.zIndex=e,this.setState({orientedLink:i}),!1===this.props.isAddLink&&this.callBack()},t.prototype.render=function(){var e=this;return u.a.createElement("div",null,u.a.createElement("div",{style:{position:"fixed",bottom:"5%",right:"5%",zIndex:9999},hidden:this.state.hiddenAlert},u.a.createElement(d.Alert,{title:this.state.titleAlert,severity:this.state.severityAlert})),u.a.createElement("div",null,u.a.createElement(_,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,idCoordinate:this.state.orientedLink.id,mainMetric:this.state.orientedLink.mainMetric,mainMetricB:this.state.orientedLink.mainMetricB,callBackToParent:this.callBackMainMetric,callBackToParentMainMetricB:this.callBackMainMetricB,isLink:!0})),u.a.createElement("div",null,u.a.createElement(J,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,idCoordinate:this.state.orientedLink.id,metrics:this.state.orientedLink.metrics,isLink:!0})),u.a.createElement("div",null,u.a.createElement(Z,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,coordinateSpace:this.state.orientedLink,callBackToParent:this.callBackToOther})),u.a.createElement("div",null,u.a.createElement(Q,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,coordinate:this.state.orientedLink,callBack:this.callBackManageLowerLimit,lowerLimitCallBack:this.callBackLowerLimit,isLink:!0})),u.a.createElement("div",null,u.a.createElement(re,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,callBackToParentZIndex:this.callBackZIndex.bind(this),isPoint:!1,isLink:!0,isRegion:!1,id:this.state.orientedLink.id})),u.a.createElement("div",null,this.state.htmlInput),u.a.createElement("div",{style:{textAlign:"center"},className:"buttonSave"},this.props.isAddLink&&u.a.createElement(d.Button,{style:{marginRight:"1%"},onClick:function(){return e.callBack()}},"Save"),!this.props.isAddLink&&u.a.createElement(d.Button,{onClick:this.deleteOwnInput,variant:"danger"},"Delete")))},t}(u.a.Component),he=function(e){function t(t){var i=e.call(this,t)||this;return i.searchNewId=function(e){var t,i,n=-1;try{for(var a=p(e),o=a.next();!o.done;o=a.next()){var r=o.value;r.id>n&&(n=r.id)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(t)throw t.error}}return n+=1},i.defineIdPoint=function(){var e=1;return 0===i.props.options.arrayPoints.length?e:e=i.props.options.arrayPoints[i.props.options.arrayPoints.length-1].id+1},i.defineIdOrientedLink=function(){var e=1;return 0===i.props.options.arrayOrientedLinks.length?e:e=i.props.options.arrayOrientedLinks[i.props.options.arrayOrientedLinks.length-1].id+1},i.lastId=function(){var e,t,n=i.props.options.regionCoordinateSpace,a=0;try{for(var o=p(n),r=o.next();!r.done;r=o.next()){var l=r.value;l.id>a&&(a=l.id)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return a},i.componentDidMount=function(){if(i.props.isRegion)i.setState({coordinate:T(i.lastId())});else if(i.props.isPoint){var e=i.defineIdPoint();i.setState({point:(n=e,a=n,o=new b("",!1,"white","black",{italic:!1,bold:!1,underline:!1},!0,{legendElement:"",numericFormatElement:"5",unit:"",displayObjectInTooltip:!1,addColorTextElement:!1,colorTextElement:"white",addColorBackElement:!1,colorBackElement:"black"},{legendElement:"",numericFormatElement:"5",unit:"",displayObjectInTooltip:!0,addColorTextElement:!0,colorTextElement:"",addColorBackElement:!0,colorBackElement:"black"}),l=new y("","",""),s=new m("0","0","0","0",{},{}),new f(a,l,"",[],"",o,{key:"",unit:"",format:"",keyValue:"",refId:"",manageValue:"avg"},[],!1,!1,!1,s,"point"+a.toString(),"",{label:"Yes",value:"true"},{label:"Circle",value:"circle"},"12",{label:"Medium",value:"medium"},"0","0","0","black",[],[],"0","0","0","0"))})}else if(i.props.isLink){e=i.defineIdOrientedLink();var t=i.props.options.zIndexOrientedLink+1;i.setState({orientedLink:D(e,t)}),i.props.onOptionsChange(r(r({},i.props.options),{zIndexOrientedLink:t}))}var n,a,o,l,s},i.setAsyncOption=function(e){return Promise.resolve("Success").then((function(){i.props.isRegion?i.props.onOptionsChange(r(r({},i.props.options),{indexRegion:e})):i.props.isPoint?i.props.onOptionsChange(r(r({},i.props.options),{indexPoint:e})):i.props.isLink&&i.props.onOptionsChange(r(r({},i.props.options),{indexOrientedLink:e}))}))},i.callBack=function(e,t){return l(i,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return t?(e=this.props.options.regionCoordinateSpace.slice(),[4,this.setAsyncOption(t.id)]):[3,2];case 1:i.sent(),this.props.onOptionsChange(r(r({},this.props.options),{regionCoordinateSpace:e.concat(t)})),this.props.returnEditMode&&this.props.returnEditMode(),i.label=2;case 2:return[2]}}))}))},i.callBackPoint=function(e,t){return l(i,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return t?(e=this.props.options.arrayPoints.slice(),[4,this.setAsyncOption(t.id)]):[3,2];case 1:i.sent(),this.props.onOptionsChange(r(r({},this.props.options),{arrayPoints:e.concat(t)})),this.props.returnEditMode&&this.props.returnEditMode(),i.label=2;case 2:return[2]}}))}))},i.callBackOrientedLink=function(e,t){return l(i,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return t?(e=this.props.options.arrayOrientedLinks.slice(),[4,this.setAsyncOption(t.id)]):[3,2];case 1:i.sent(),this.props.onOptionsChange(r(r({},this.props.options),{arrayOrientedLinks:e.concat(t)})),this.props.returnEditMode&&this.props.returnEditMode(),i.label=2;case 2:return[2]}}))}))},i.state={coordinate:void 0,point:void 0,orientedLink:void 0},i}return o(t,e),t.prototype.render=function(){return this.props.isRegion?u.a.createElement("div",null,this.state.coordinate&&u.a.createElement($,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,coordinate:this.state.coordinate,callBackToParent:this.callBack,isAddCoordinate:!0})):this.props.isPoint?u.a.createElement("div",null,this.state.point&&u.a.createElement(le,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,point:this.state.point,callBackToParent:this.callBackPoint,isAddPoint:!0})):this.props.isLink?u.a.createElement("div",null,this.state.orientedLink&&u.a.createElement(de,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,orientedLink:this.state.orientedLink,callBackToParent:this.callBackOrientedLink,isAddLink:!0})):u.a.createElement("div",null)},t}(u.a.Component),fe=function(e){return String(e).match(/^-{0,1}\d+$/)||String(e).match(/^\d+\.\d+$/)?1:0},me=function(e){var t=e,i="";if(e.indexOf("#")>-1&&(t=e.replace("rgba","rgb")).indexOf(",")>-1){var n=t.split(",");t=n[0]+","+n[1]+","+n[2]+")",n.length>3&&(i=n[3].replace(")",""))}return{color:t,transparency:i}},ge=function(e){function t(t){var i=e.call(this,t)||this;return i.editColorSvgZone=function(e,t,i,n){var a=me(t),o=me(i),r=document.getElementById(e);r&&(r.style.fill=a.color,r.style.fillOpacity=a.transparency,r.style.stroke=o.color,r.style.strokeOpacity=o.transparency,r.style.strokeWidth=n)},i.generateValueMetricElement=function(e,t){var i="NaN",n=e.textObj.valueGenerateObjectText?parseInt(e.textObj.valueGenerateObjectText.numericFormatElement,10):1;t&&e.textObj.valueGenerateObjectText&&""!==e.textObj.valueGenerateObjectText.numericFormatElement&&n?i=(t||0).toPrecision(n).toString():t&&(i=t.toString());var a=i;return e.textObj.valueGenerateObjectText&&"NaN"!==i&&(a=e.textObj.valueGenerateObjectText.legendElement+" "+i+" "+e.textObj.valueGenerateObjectText.unit),"NaN"===a?"":a},i.setStateTooltip=function(e,t,n){var a={color:t.textObj.colorText,backgroundColor:t.textObj.colorBack},o={color:t.textObj.valueGenerateObjectText?t.textObj.valueGenerateObjectText.colorTextElement:"white",backgroundColor:t.textObj.valueGenerateObjectText?t.textObj.valueGenerateObjectText.colorBackElement:"black"},r=i.generateValueMetricElement(t,n);return{tooltipValue:""!==r?u.a.createElement("div",null,u.a.createElement("div",{style:a},u.a.createElement("a",{href:t.linkURL.hoveringTooltipLink},t.linkURL.hoveringTooltipText),t.textObj.isTextTooltip&&u.a.createElement("p",null,t.label)),u.a.createElement("div",{style:o},t.textObj.generateObjectText&&t.textObj.valueGenerateObjectText&&t.textObj.valueGenerateObjectText.displayObjectInTooltip&&u.a.createElement("p",null,r)),u.a.createElement("div",null,i.displayValuesAuxMetrics())):null,backgroundColor:e.colorBack,borderColor:e.colorBorder,sizeBorder:e.sizeBorder,valueQuery:r}},i.displayValueQuery=function(e){return!(!e.textObj.generateObjectText||!e.textObj.valueGenerateObjectText||e.textObj.valueGenerateObjectText.displayObjectInTooltip)},i.getPositionTextObjectRegionSVG=function(e){var t,n={top:"0",bottom:"0",left:"0",right:"0"};if(t=i.props.options.baseMap.isUploaded?document.getElementById(e):document.getElementById("oct"+e)){var a=0,o=0,r=0,l=0,s="",p="";if("path"===t.localName){for(var c=t.attributes.d.nodeValue.split(" "),u=-2,d=1e6,h=0,f=-1,m=1e6,g=0,b=0;b<c.length;b++){var y=parseInt(c[b],10);b===u+3&&(y<d&&(d=y),y>h&&(h=y),u=b),b===f+3&&(y<m&&(m=y),y>g&&(g=y),f=b)}p=h.toString(),s=g.toString()}else if("ellipse"===t.localName){a=parseInt(t.attributes.cx.nodeValue,10),o=parseInt(t.attributes.cy.nodeValue,10);var v=2*parseInt(t.attributes.rx.nodeValue,10),x=2*parseInt(t.attributes.ry.nodeValue,10);p=(a+v).toString(),s=(o+x).toString()}else"rect"===t.localName&&(a=parseInt(t.attributes.x.nodeValue,10),o=parseInt(t.attributes.y.nodeValue,10),r=parseInt(t.attributes.width.nodeValue,10),l=parseInt(t.attributes.height.nodeValue,10),p=(a+r).toString(),s=(o+l).toString());n.top=s,n.left=p}return n},i.generateTooltipAndEditColor=function(e,t){var n=!1,a=function(e,t){var i,n,a=e.lowerLimit,o={colorBack:"",colorBorder:"",sizeBorder:0};if(e.colorMode&&t)try{for(var r=p(a),l=r.next();!l.done;l=r.next()){var s=l.value,c=s.lowerLimitMin.replace(">",""),u=parseFloat(c),d=parseFloat(s.lowerLimitMax);if((u<=t||!s.lowerLimitMin)&&(d>=t||!s.lowerLimitMax)&&a.length>0){o.colorBack=e.traceBack?s.backColor:"",o.colorBorder=e.traceBorder?s.borderColor:"",o.sizeBorder=e.traceBorder?parseInt(s.sizeBorder,10):0;break}}}catch(e){i={error:e}}finally{try{l&&!l.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}else a.length>0&&(o.colorBack=e.traceBack?a[0].backColor:"",o.colorBorder=e.traceBorder?a[0].borderColor:"",o.sizeBorder=e.traceBorder?parseInt(a[0].sizeBorder,10):0);return o}(e,t);e.mode&&i.editColorSvgZone(e.idSVG,a.colorBack,a.colorBorder,a.sizeBorder.toString());var o=i.setStateTooltip(a,e,t);if(e.mode){var r=i.getPositionTextObjectRegionSVG(e.idSVG);n=!0;var l=e.textObj.style,s={width:"auto",position:"absolute",zIndex:999,left:r.left+"px",top:r.top+"px",border:"1px solid black"},c={textDecoration:i.defineTextDecoration(l),fontStyle:i.defineFontStyle(l),fontWeight:i.defineFontWeight(l),fontSize:i.props.options.display.size,fontFamily:i.props.options.display.police,color:e.textObj.colorText,backgroundColor:e.textObj.colorBack,margin:0,padding:"5px 5px 0 5px"},d={textDecoration:i.defineTextDecoration(l),fontStyle:i.defineFontStyle(l),fontWeight:i.defineFontWeight(l),color:e.textObj.valueGenerateObjectText.addColorTextElement?e.textObj.valueGenerateObjectText.colorTextElement:"white",backgroundColor:e.textObj.valueGenerateObjectText.addColorBackElement?e.textObj.valueGenerateObjectText.colorBackElement:"black",fontSize:i.props.options.display.size,fontFamily:i.props.options.display.police,margin:0,padding:"5px 5px 0 5px"},h=u.a.createElement("div",{style:s},!e.textObj.isTextTooltip&&u.a.createElement("p",{style:c},e.label),e.textObj.generateObjectText&&!e.textObj.valueGenerateObjectText.displayObjectInTooltip&&u.a.createElement("p",{style:d},i.displayValueQuery(e)&&o.valueQuery));e.textObj.isTextTooltip&&e.textObj.valueGenerateObjectText.displayObjectInTooltip&&(h=u.a.createElement("div",null)),i.setState({htmlResult:h,tooltipValue:o.tooltipValue,backgroundColor:o.backgroundColor,borderColor:o.borderColor,sizeBorder:o.sizeBorder,valueQuery:o.valueQuery})}n||i.setState({tooltipValue:o.tooltipValue,backgroundColor:o.backgroundColor,borderColor:o.borderColor,sizeBorder:o.sizeBorder,valueQuery:o.valueQuery})},i.reqMetrics=function(){var e=i.props.uneCoor;if(v(e,i.props),e.mainMetric.returnQuery&&e.mainMetric.returnQuery.length>0){var t=L(e.mainMetric);i.generateTooltipAndEditColor(e,t)}else i.generateTooltipAndEditColor(e,null)},i.getValuesAuxiliaryMetrics=function(){var e=i.props.uneCoor;x(e,i.props);var t=e.mainMetric,n=e.metrics,a=[];return n.forEach((function(e){var i,n=0,o=0,r="";if(e.returnQuery&&e.returnQuery.length>0){var l=(null===(i=e.returnQuery)||void 0===i?void 0:i.length)||0;if(""!==e.key&&""!==e.keyValue)for(var s=0;s<l;s++){if((u=e.returnQuery[s]).fields[0].labels&&""!==t.refId&&(u.fields[0].labels[t.key]===t.keyValue||""===t.key&&""===t.keyValue)&&u.fields[0].labels[e.key]===e.keyValue)for(var p=u.fields[0].values.length,c=0;c<p;c++)u.fields[0].values.get(c)&&(o+=u.fields[0].values.get(c),n++)}else for(s=0;s<l;s++){var u;if((u=e.returnQuery[s]).fields[0].labels&&t.refId&&(u.fields[0].labels[t.key]===t.keyValue||""===t.key&&""===t.keyValue)){p=u.fields[0].values.length;for(var d=0;d<p;d++)u.fields[0].values.get(d)&&(o+=u.fields[0].values.get(d),n++)}}"avg"===e.manageValue?r=(o/n).toString():"sum"===e.manageValue?r=o.toString():"err"===e.manageValue&&(r=n>1?"error":o.toString())}""!==r&&a.push(r)})),a},i.getConvertValueAuxMetrics=function(e){var t=i.props.uneCoor,n=parseInt(t.textObj.generateAuxiliaryElement.numericFormatElement,10)||1,a=t.textObj.generateAuxiliaryElement.unit;return parseFloat(e).toPrecision(n).toString()+" "+a},i.displayValuesAuxMetrics=function(){var e,t,n=[],a=i.props.uneCoor,o=i.getValuesAuxiliaryMetrics(),r=a.metrics,l=a.textObj.generateAuxiliaryElement.addColorTextElement,s=a.textObj.generateAuxiliaryElement.addColorBackElement,c=a.textObj.generateAuxiliaryElement.legendElement,d="",h="";d=l?a.textObj.generateAuxiliaryElement.colorTextElement:"white",h=s?a.textObj.generateAuxiliaryElement.colorBackElement:"black";var f={fontFamily:i.props.options.display.police,fontSize:"10px",marginTop:"5px",marginBottom:"0px",color:d},m={fontFamily:i.props.options.display.police,fontSize:"10px",marginTop:"5px",marginLeft:"5px",marginBottom:"0px",color:d},g={fontFamily:i.props.options.display.police,fontSize:"9px",marginLeft:"10px",marginBottom:"0px",color:d};if(r.length>0){n.push(u.a.createElement("p",{key:"region"+a.id+"contentToolTip1",style:f},"Auxiliary Metric")),n.push(u.a.createElement("p",{key:"region"+a.id+"contentToolTip2",style:f},c));var b=1;try{for(var y=p(r),v=y.next();!v.done;v=y.next()){var x=v.value,k=i.getConvertValueAuxMetrics(o[b-1]);n.push(u.a.createElement("p",{key:b+"region"+a.id+"contentToolTip3",style:m},"+ Metric ",b)),n.push(u.a.createElement("p",{key:b+"region"+a.id+"contentToolTip4",style:g},"- Reference : ",x.refId)),n.push(u.a.createElement("p",{key:b+"region"+a.id+"contentToolTip5",style:g},"- Value : ",!isNaN(parseFloat(k))&&k)),n.push(u.a.createElement("p",{key:b+"region"+a.id+"contentToolTip6",style:g},"- Key : ",x.key)),n.push(u.a.createElement("p",{key:b+"region"+a.id+"contentToolTip7",style:g},"- KeyValue : ",x.keyValue)),n.push(u.a.createElement("p",{key:b+"region"+a.id+"contentToolTip8",style:g},"- Type : ",x.manageValue)),b++}}catch(t){e={error:t}}finally{try{v&&!v.done&&(t=y.return)&&t.call(y)}finally{if(e)throw e.error}}}return u.a.createElement("div",{style:{backgroundColor:h}},n)},i.getCoordinatePxAdaptToInitialSpace=function(e,t,n,a,o){var r,l,s=parseInt(i.props.options.baseMap.width,10),p=parseInt(i.props.options.baseMap.height,10),c=i.props.options.coordinateSpaceInitial.coordinate,u=parseInt(c.xMin,10),d=parseInt(c.xMax,10),h=parseInt(c.yMin,10),f=parseInt(c.yMax,10),m=d-u,g=f-h,b=0,y=0,v=parseInt(n.xMin,10)/s,x=(s-parseInt(n.xMax,10))/s,k=(p-parseInt(n.yMax,10))/p,C=parseInt(n.yMin,10)/p;b=Math.round(i.defineLimitX(u+m*v)),r=Math.round(i.defineLimitX(m*x+(s-d))),l=Math.round(i.defineLimitY(g*k+(p-f))),y=Math.round(i.defineLimitY(h+g*C));var I=i.props.options.regionCoordinateSpace;I.forEach((function(t){t.id===e.id&&(t.coords.xMin=b.toString(),t.coords.xMax=(s-r).toString(),t.coords.yMin=y.toString(),t.coords.yMax=(p-l).toString())})),i.props.options.regionCoordinateSpace=I;var S=(b-u)/m*s,E=(r-(s-d))/m*s,M=(y-h)/g*p;return{top:((l-(p-f))/g*p).toString()+"px",bottom:M.toString()+"px",left:S.toString()+"px",right:E.toString()+"px"}},i.renduFinal=function(){if(!i.props.uneCoor.mode){var e,t=i.props.uneCoor,n=i.state.sizeBorder.toString()+"px solid "+i.state.borderColor,a=t.textObj.colorBack,o=t.textObj.colorText,r=i.getCoordinatePxAdaptToInitialSpace(t,t.coords,t.coordsDefault,parseInt(t.widthInitialSpaceDefault,10),parseInt(t.heightInitialSpaceDefault,10)),l=t.textObj.style,s={position:"absolute",border:n,top:r.top,bottom:r.bottom,left:r.left,right:r.right,zIndex:999,justifyContent:"center",background:"url("+t.img+") no-repeat center center",backgroundColor:i.state.backgroundColor,backgroundSize:"contain",cursor:"pointer"},p={backgroundColor:a,textDecoration:i.defineTextDecoration(l),fontStyle:i.defineFontStyle(l),fontWeight:i.defineFontWeight(l),color:o,verticalAlign:"middle"},c={backgroundColor:t.textObj.valueGenerateObjectText?t.textObj.valueGenerateObjectText.colorBackElement:"black",color:t.textObj.valueGenerateObjectText?t.textObj.valueGenerateObjectText.colorTextElement:"white",verticalAlign:"middle"};i.props.buttonAddLinkIsActive||i.props.buttonAddIncurvedLinkIsActive?(e=u.a.createElement("div",{style:s,id:i.props.id},(!t.textObj.isTextTooltip||t.textObj.generateObjectText)&&u.a.createElement("div",null,u.a.createElement("div",{style:p},!t.textObj.isTextTooltip&&t.label),u.a.createElement("div",{style:c},t.textObj.generateObjectText&&!t.textObj.valueGenerateObjectText.displayObjectInTooltip&&i.state.valueQuery))),(t.textObj.isTextTooltip||t.textObj.generateObjectText&&t.textObj.valueGenerateObjectText.displayObjectInTooltip||t.textObj.generateAuxiliaryElement.displayObjectInTooltip)&&(i.state.tooltipValue?e=u.a.createElement(d.Tooltip,{content:i.state.tooltipValue},e):u.a.createElement("div",null,e))):(e=u.a.createElement("div",{style:s,id:i.props.id},u.a.createElement("a",{href:t.linkURL.followLink},u.a.createElement("div",{style:{height:"100%",width:"100%"}},(!t.textObj.isTextTooltip||t.textObj.generateObjectText)&&u.a.createElement("div",null,u.a.createElement("div",{style:p},!t.textObj.isTextTooltip&&t.label),u.a.createElement("div",{style:c},t.textObj.generateObjectText&&!t.textObj.valueGenerateObjectText.displayObjectInTooltip&&i.state.valueQuery))))),(t.textObj.isTextTooltip||t.textObj.generateObjectText&&t.textObj.valueGenerateObjectText.displayObjectInTooltip||t.textObj.generateAuxiliaryElement.displayObjectInTooltip)&&(i.state.tooltipValue?e=u.a.createElement(d.Tooltip,{content:i.state.tooltipValue},e):u.a.createElement("div",null,e))),i.setState({htmlResult:e})}},i.fillState=function(){return l(i,void 0,void 0,(function(){var e=this;return s(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve("Success").then((function(){e.reqMetrics()}))];case 1:return t.sent(),[4,Promise.resolve("Success").then((function(){e.renduFinal()}))];case 2:return t.sent(),[2]}}))}))},i.defineTextDecoration=function(e){return e.underline||i.props.options.display.style.underline?"underline":"none"},i.defineFontStyle=function(e){return e.italic||i.props.options.display.style.italic?"italic":"normal"},i.defineFontWeight=function(e){return e.bold||i.props.options.display.style.bold?"bold":"normal"},i.componentDidMount=function(){i.fillState()},i.state={tooltipValue:null,backgroundColor:"rgba(255, 255, 255, 0)",borderColor:"rgba(255, 255, 255, 0)",sizeBorder:1,htmlResult:u.a.createElement("div",null),valueQuery:""},i}return o(t,e),t.prototype.defineLimitX=function(e){return e},t.prototype.defineLimitY=function(e){return e},t.prototype.componentDidUpdate=function(e){e!==this.props&&this.fillState()},t.prototype.render=function(){return this.state.htmlResult},t}(u.a.Component),be=function(e){function t(t){var i=e.call(this,t)||this;return i.transformCoordonneesToPx=function(e,t,i){return 0},i.limitValueBorder=function(e,t){var n=parseInt(i.props.options.baseMap.width,10),a=parseInt(i.props.options.baseMap.height,10),o=e;return 1===t||2===t?e>n&&(o=n):3!==t&&4!==t||e>a&&(o=a),o},i.getPositionBorder=function(e,t){return 0},i.fillCoordinate=function(){var e,t=i.props.options,n=parseInt(t.coordinateSpaceInitial.coordinate.xMin,10),a=parseInt(t.coordinateSpaceInitial.coordinate.xMax,10),o=parseInt(t.coordinateSpaceInitial.coordinate.yMin,10),r=parseInt(t.coordinateSpaceInitial.coordinate.yMax,10);return e=t.regionCoordinateSpace.map((function(e,l){return u.a.createElement(ge,{key:"drawRectangleExtend"+l.toString(),uneCoor:e,useLimit:!1,limit:t.coordinateSpaceInitial.coordinate,onOptionsChange:i.props.onOptionsChange,options:i.props.options,data:i.props.data,id:"region"+e.id.toString(),buttonAddLinkIsActive:i.props.buttonAddLinkIsActive,buttonAddIncurvedLinkIsActive:i.props.buttonAddIncurvedLinkIsActive,widthInitialSpaceDefault:(a-n).toString(),heightInitialSpaceDefault:(r-o).toString()})})),u.a.createElement("ul",null,e)},i.createRectangle=function(){var e,t,n,a,o,r,l,s,p=i.props.coordinateInitial.coordinate,c=i.props.coordinateInitial.displayArea?"3px solid "+i.props.color:"";o=fe(p.xMin)?parseInt(p.xMin,10):0,r=fe(p.xMax)?parseInt(p.xMax,10):0,l=fe(p.yMin)?parseInt(p.yMin,10):0,s=fe(p.yMax)?parseInt(p.yMax,10):0,e=i.getPositionBorder(o,1).toString()+"px",t=i.getPositionBorder(r,2).toString()+"px",n=i.getPositionBorder(s,3).toString()+"px",a=i.getPositionBorder(l,4).toString()+"px";var d=u.a.createElement("div",{style:{border:c,bottom:a,left:e,position:"absolute",right:t,top:n},id:i.props.id});i.setState({resultHTML:d})},i.componentDidMount=function(){i.createRectangle()},i.state={resultHTML:u.a.createElement("div",null)},i}return o(t,e),t.prototype.componentDidUpdate=function(e){e!==this.props&&this.createRectangle()},t.prototype.render=function(){var e={position:"absolute",textAlign:"center",height:this.props.options.baseMap.height+"px",width:this.props.options.baseMap.width+"px"};return u.a.createElement("div",{style:e},this.state.resultHTML)},t}(u.a.Component),ye=function(e){function t(t){var i=e.call(this,t)||this;return i.defineBorderRadius=function(){var e=0;return"circle"===(i.props.shape.value||"")&&(e=50),e},i.defineRotate=function(){var e="rotate(0deg)";return"diamond"===(i.props.shape.value||"")&&(e="rotate(45deg)"),e},i.definePositionLabelX=function(e){var t=parseInt(i.props.labelPositionX,10);return"true"===i.props.drawGraphicMarker.value?e+t+parseInt(i.props.size,10)+5:e+t},i.definePositionLabelY=function(e){var t=-1*parseInt(i.props.labelPositionY,10);return"true"===i.props.drawGraphicMarker.value?e+t+parseInt(i.props.size,10)+5:e+t},i.defineMainMetric=function(e){var t=i.props.textObject.valueGenerateObjectText.unit,n=i.props.textObject.valueGenerateObjectText.numericFormatElement,a=parseInt(n,10)||1;return""!==n?parseFloat(e).toPrecision(a)+" "+t:e+" "+t},i.defineAuxMetric=function(e){var t=i.props.textObject.generateAuxiliaryElement.unit,n=i.props.textObject.generateAuxiliaryElement.numericFormatElement,a=parseInt(n,10)||1;return""!==n?parseFloat(e).toPrecision(a)+" "+t:e+" "+t},i.defineTextObject=function(e){var t=[],n=[],a=i.props.textObject.isTextTooltip,o=i.props.textObject.colorText,r=i.props.textObject.colorBack,l=i.props.textObject.generateObjectText,s=i.props.textObject.valueGenerateObjectText.displayObjectInTooltip,p=i.props.textObject.valueGenerateObjectText.addColorTextElement,c=i.props.textObject.valueGenerateObjectText.addColorBackElement,d=i.props.textObject.valueGenerateObjectText.colorTextElement,h=i.props.textObject.valueGenerateObjectText.colorBackElement,f=i.props.textObject.valueGenerateObjectText.legendElement,m={color:o,backgroundColor:r,textAlign:"center",margin:0,padding:"0 5px"},g={color:p?d:o,margin:0,padding:0,whiteSpace:"nowrap"};a||t.push(u.a.createElement("p",{key:"contentTextObject1"+i.props.name,style:m},i.props.label||i.props.name.toUpperCase())),l&&(s||(f&&n.push(u.a.createElement("p",{key:"contentTextObject2"+i.props.name,style:g},f)),n.push(u.a.createElement("p",{key:"contentTextObject3"+i.props.name,style:g},!isNaN(parseFloat(i.defineMainMetric(e)))&&i.defineMainMetric(e)))));var b={backgroundColor:r,border:"1px solid black"};return(!l||l&&s)&&(b={backgroundColor:r}),u.a.createElement("div",{style:b},t,u.a.createElement("div",{style:{backgroundColor:c?h:r,padding:"0 5px"}},n))},i.defineHtmlLinkTooltip=function(){var e=u.a.createElement("div",null);return""!==i.props.linkUrl.hoveringTooltipText&&(e=u.a.createElement("a",{style:{fontFamily:i.props.police,fontSize:"11px",marginBottom:"0px",textAlign:"center"},href:i.props.linkUrl.hoveringTooltipLink},i.props.linkUrl.hoveringTooltipText)),e},i.defineTextDecoration=function(){return i.props.textObject.style.underline||i.props.options.display.style.underline?"underline":"none"},i.defineFontStyle=function(){return i.props.textObject.style.italic||i.props.options.display.style.italic?"italic":"normal"},i.defineFontWeight=function(){return i.props.textObject.style.bold||i.props.options.display.style.bold?"bold":"normal"},i.state={},i}return o(t,e),t.prototype.defineLimitX=function(e){var t=e,i=parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin,10),n=parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax,10);return e<i?t=i:e>n&&(t=n),t},t.prototype.defineLimitY=function(e){var t=e,i=parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin,10),n=parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax,10);return e<i?t=i:e>n&&(t=n),t},t.prototype.definePositionX=function(e,t,i,n){var a=this,o=parseInt(t.xMin,10),r=parseInt(t.xMax,10)-o,l=parseInt(this.props.positionXDefault,10)/this.props.widthImage,s=Math.round(o+r*l),p=this.props.options.arrayPoints;return p.forEach((function(e){e.name===a.props.name&&(e.positionShapeX=s.toString())})),this.props.options.arrayPoints=p,(this.defineLimitX(s)-o)/r*this.props.widthImage-(i+parseInt(this.defineBorderSize(),10))},t.prototype.definePositionY=function(e,t,i,n){var a=this,o=parseInt(t.yMin,10),r=parseInt(t.yMax,10)-o,l=parseInt(this.props.positionYDefault,10)/this.props.heightImage,s=Math.round(o+r*l),p=this.props.options.arrayPoints;return p.forEach((function(e){e.name===a.props.name&&(e.positionShapeY=s.toString())})),this.props.options.arrayPoints=p,(o+r-this.defineLimitY(s))/r*this.props.heightImage-(i+parseInt(this.defineBorderSize(),10))},t.prototype.defineSizeGraphicMarkerPx=function(e,t){return"none"===this.props.shape.value?0:parseInt(e,10)/2},t.prototype.drawPoint=function(e,t,i,n){var a=this.defineContentTooltip("point"),o=this.props.linkUrl.followLink,r=this.defineBorderRadius()+"px",l=this.defineRotate();return"true"===e?this.props.buttonAddLinkIsActive||this.props.buttonAddIncurvedLinkIsActive?null===a?u.a.createElement("div",{style:{border:this.defineBorderSize()+"px solid "+this.defineBorderColor(),backgroundColor:this.defineBackgroundColor(),borderRadius:r,padding:t+"px",position:"absolute",zIndex:1e3,left:i,top:n,transform:l},id:this.props.idPoint}):u.a.createElement(d.Tooltip,{key:"tooltip"+this.props.name,content:a,placement:this.props.tooltipPosition.value},u.a.createElement("div",{style:{border:this.defineBorderSize()+"px solid "+this.defineBorderColor(),backgroundColor:this.defineBackgroundColor(),borderRadius:r,padding:t+"px",position:"absolute",zIndex:1e3,left:i,top:n,transform:l},id:this.props.idPoint})):null===a?u.a.createElement("div",null,u.a.createElement("a",{href:o,style:{border:this.defineBorderSize()+"px solid "+this.defineBorderColor(),backgroundColor:this.defineBackgroundColor(),borderRadius:r,padding:t+"px",position:"absolute",zIndex:1e3,left:i,top:n,transform:l},id:this.props.idPoint})):u.a.createElement(d.Tooltip,{key:"tooltip"+this.props.name,content:a,placement:this.props.tooltipPosition.value},u.a.createElement("a",{href:o,style:{border:this.defineBorderSize()+"px solid "+this.defineBorderColor(),backgroundColor:this.defineBackgroundColor(),borderRadius:r,padding:t+"px",position:"absolute",zIndex:1e3,left:i,top:n,transform:l},id:this.props.idPoint})):u.a.createElement("div",null)},t.prototype.displayLabel=function(e,t,i,n,a){var o=this.defineContentTooltip("label");return null===o?u.a.createElement("div",{style:{textDecoration:this.defineTextDecoration(),fontStyle:this.defineFontStyle(),fontWeight:this.defineFontWeight(),fontSize:this.props.sizePolice,fontFamily:a,color:this.props.textObject.colorText||"black",position:"absolute",zIndex:1e3,top:this.definePositionLabelY(n),left:this.definePositionLabelX(i)}},this.defineTextObject(this.props.valueMainMetric)):u.a.createElement(d.Tooltip,{key:"tooltipLabel"+this.props.name,content:o,placement:this.props.tooltipPosition.value},u.a.createElement("div",{style:{textDecoration:this.defineTextDecoration(),fontStyle:this.defineFontStyle(),fontWeight:this.defineFontWeight(),fontSize:this.props.sizePolice,fontFamily:a,color:this.props.textObject.colorText||"black",position:"absolute",zIndex:1e3,top:this.definePositionLabelY(n),left:this.definePositionLabelX(i)}},this.defineTextObject(this.props.valueMainMetric)))},t.prototype.defineContentTooltip=function(e){var t=this,i=[],n=[],a=[],o=[],r=this.props.associateOrientedLinkIn,l=this.props.associateOrientedLinkOut,s=this.props.refMainMetric,p=this.props.textObject.isTextTooltip,c=this.props.textObject.colorText,d=this.props.textObject.colorBack,h=this.props.textObject.generateObjectText,f=this.props.textObject.valueGenerateObjectText.displayObjectInTooltip,m=this.props.textObject.valueGenerateObjectText.addColorTextElement,g=this.props.textObject.valueGenerateObjectText.addColorBackElement,b=this.props.textObject.valueGenerateObjectText.colorTextElement,y=this.props.textObject.valueGenerateObjectText.colorBackElement,v=this.props.textObject.valueGenerateObjectText.legendElement,x=this.props.textObject.generateAuxiliaryElement.displayObjectInTooltip,k=this.props.textObject.generateAuxiliaryElement.addColorTextElement,C=this.props.textObject.generateAuxiliaryElement.addColorBackElement,I=this.props.textObject.generateAuxiliaryElement.colorTextElement,S=this.props.textObject.generateAuxiliaryElement.colorBackElement,E=this.props.textObject.generateAuxiliaryElement.legendElement,M={fontFamily:this.props.police,fontSize:"11px",marginBottom:"0px",textAlign:"center",color:c,backgroundColor:d},L={fontFamily:this.props.police,fontSize:"10px",marginTop:"5px",marginBottom:"0px",color:m?b:c},O={fontFamily:this.props.police,fontSize:"10px",marginTop:"5px",marginBottom:"0px",color:k?I:c},T={fontFamily:this.props.police,fontSize:"10px",marginTop:"5px",marginLeft:"5px",marginBottom:"0px",color:k?I:c},B={fontFamily:this.props.police,fontSize:"9px",marginLeft:"10px",marginBottom:"0px",color:m?b:c},A={fontFamily:this.props.police,fontSize:"9px",marginLeft:"10px",marginBottom:"0px",color:k?I:c},D={fontFamily:this.props.police,fontSize:"10px",marginTop:"5px",marginBottom:"0px"},w={fontFamily:this.props.police,fontSize:"9px",marginLeft:"10px",marginBottom:"0px"};if(p&&i.push(u.a.createElement("p",{key:e+"ContentTooltip1"+this.props.name,style:M},this.props.label||this.props.name.toUpperCase())),h&&f&&(v&&n.push(u.a.createElement("p",{key:e+"ContentTooltip2"+this.props.name,style:L},v)),n.push(u.a.createElement("p",{key:e+"ContentTooltip3"+this.props.name,style:L},"Main Metric")),n.push(u.a.createElement("p",{key:e+"ContentTooltip4"+this.props.name,style:B},"- Reference : ",s)),n.push(u.a.createElement("p",{key:e+"ContentTooltip5"+this.props.name,style:B},"- Value : ",this.defineMainMetric(this.props.valueMainMetric)))),x&&(E&&n.push(u.a.createElement("p",{key:e+"ContentTooltip6"+this.props.name,style:O},E)),this.props.auxiliaryMetrics.length>0)){a.push(u.a.createElement("p",{key:e+"ContentTooltip7"+this.props.name,style:O},"Auxiliary Metric"));var P=1;this.props.auxiliaryMetrics.forEach((function(i){a.push(u.a.createElement("p",{key:P.toString()+e+"ContentTooltip8"+t.props.name,style:T},"+ Metric ",P)),a.push(u.a.createElement("p",{key:P.toString()+e+"ContentTooltip9"+t.props.name,style:A},"- Reference : ",i.refId)),a.push(u.a.createElement("p",{key:P.toString()+e+"ContentTooltip10"+t.props.name,style:A},"- Value :"," ",!isNaN(parseFloat(t.defineAuxMetric(t.props.valuesAuxiliaryMetrics[P-1])))&&t.defineAuxMetric(t.props.valuesAuxiliaryMetrics[P-1]))),a.push(u.a.createElement("p",{key:P.toString()+e+"ContentTooltip11"+t.props.name,style:A},"- Key : ",i.key)),a.push(u.a.createElement("p",{key:P.toString()+e+"ContentTooltip12"+t.props.name,style:A},"- KeyValue : ",i.keyValue)),a.push(u.a.createElement("p",{key:P.toString()+e+"ContentTooltip13"+t.props.name,style:A},"- Type : ",i.manageValue)),P++}))}return 0!==r.length&&(o.push(u.a.createElement("p",{key:e+"ContentTooltip14"+this.props.name,style:D},"Associate Link In :")),r.forEach((function(i){var n=i.label||i.name;o.push(u.a.createElement("p",{key:e+"ContentTooltip15"+t.props.name+n,style:w},"- ",n))}))),0!==l.length&&(o.push(u.a.createElement("p",{key:e+"ContentTooltip16"+this.props.name,style:D},"Associate Link Out :")),l.forEach((function(i){var n=i.label||i.name;o.push(u.a.createElement("p",{key:e+"ContentTooltip17"+t.props.name+n,style:w},"- ",n))}))),0===i.length&&0===n.length&&0===o.length?null:u.a.createElement("div",null,u.a.createElement("div",{style:{border:"1px solid black",padding:0}},i,u.a.createElement("div",{style:{backgroundColor:g?y:d,padding:"0 5px"}},n),u.a.createElement("div",{style:{backgroundColor:C?S:d,padding:"0 5px"}},a),u.a.createElement("div",null,o),this.defineHtmlLinkTooltip()))},t.prototype.defineBackgroundColor=function(){var e=this,t="";t=this.props.seuil.length>0&&""!==this.props.seuil[0].backColor?this.props.seuil[0].backColor:"black";var i=parseInt(this.props.valueMainMetric,10),n=0;return this.props.seuil.forEach((function(a){var o=0;0===(o=""===a.lowerLimitMin?0:parseInt(a.lowerLimitMin.substring(1),10))?i>=o&&i<=parseInt(a.lowerLimitMax,10)&&(t=a.backColor):e.props.seuil.length===n+1?i>o&&(t=a.backColor):i>o&&i<=parseInt(a.lowerLimitMax,10)&&(t=a.backColor),n++})),""===t&&(t="black"),t},t.prototype.defineBorderColor=function(){var e=this,t="";t=this.props.seuil.length>0&&""!==this.props.seuil[0].borderColor?this.props.seuil[0].borderColor:"black";var i=parseInt(this.props.valueMainMetric,10),n=0;return this.props.seuil.forEach((function(a){var o=0;0===(o=""===a.lowerLimitMin?0:parseInt(a.lowerLimitMin.substring(1),10))?i>=o&&i<=parseInt(a.lowerLimitMax,10)&&(t=a.borderColor):e.props.seuil.length===n+1?i>o&&(t=a.borderColor):i>o&&i<=parseInt(a.lowerLimitMax,10)&&(t=a.borderColor),n++})),t},t.prototype.defineBorderSize=function(){var e=this,t="";t=this.props.seuil.length>0?this.props.seuil[0].sizeBorder:"1";var i=parseInt(this.props.valueMainMetric,10),n=0;return this.props.seuil.forEach((function(a){var o=0;0===(o=""===a.lowerLimitMin?0:parseInt(a.lowerLimitMin.substring(1),10))?i>=o&&i<=parseInt(a.lowerLimitMax,10)&&(t=a.sizeBorder):e.props.seuil.length===n+1?i>o&&(t=a.sizeBorder):i>o&&i<=parseInt(a.lowerLimitMax,10)&&(t=a.sizeBorder),n++})),t},t.prototype.render=function(){var e=this.props.options.coordinateSpaceInitial.coordinate,t=this.props.shape.value||"",i=this.defineSizeGraphicMarkerPx(this.props.size||"",t),n=parseInt(this.props.positionShapeX,10)||0,a=parseInt(this.props.positionShapeY,10)||0,o=this.definePositionX(n,e,i,t),r=this.definePositionY(a,e,i,t),l=this.props.label,s=this.props.name,p=this.props.drawGraphicMarker.value||"",c=this.props.police;return u.a.createElement("div",{key:this.props.name,style:{cursor:"pointer"}},this.displayLabel(l,s,o,r,c),this.drawPoint(p,i,o,r))},t}(u.a.Component),ve=function(e){function t(t){var i=e.call(this,t)||this;return i.labelSynchroX=function(e){var t,n,a=0,o=null;return(null===(t=o="A"===e?document.getElementById("labelMainMetric"+i.props.id):document.getElementById("labelMainMetricB"+i.props.id))||void 0===t?void 0:t.offsetWidth)&&(a=(null===(n=o)||void 0===n?void 0:n.offsetWidth)/2),a},i.labelSynchroY=function(e){var t,n,a=0,o=null;return(null===(t=o="A"===e?document.getElementById("labelMainMetric"+i.props.id):document.getElementById("labelMainMetricB"+i.props.id))||void 0===t?void 0:t.offsetHeight)&&(a=(null===(n=o)||void 0===n?void 0:n.offsetHeight)/2),a},i.defineParallelOrientedLinks=function(){var e=i.props.options.arrayOrientedLinks,t=[];return t.push(parseInt(i.props.id,10)),e.forEach((function(e){i.props.name!==e.name&&(""!==i.props.associateRegionIn&&""!==i.props.associateRegionOut?i.props.associateRegionIn!==e.regionIn&&i.props.associateRegionIn!==e.regionOut||i.props.associateRegionOut!==e.regionIn&&i.props.associateRegionOut!==e.regionOut||t.push(e.id):""!==i.props.associatePointIn&&""!==i.props.associatePointOut?i.props.associatePointIn!==e.pointIn&&i.props.associatePointIn!==e.pointOut||i.props.associatePointOut!==e.pointIn&&i.props.associatePointOut!==e.pointOut||t.push(e.id):""!==i.props.associateRegionIn&&""!==i.props.associatePointOut?i.props.associateRegionIn!==e.regionIn&&i.props.associateRegionIn!==e.regionOut||i.props.associatePointOut!==e.pointOut&&i.props.associatePointOut!==e.pointIn||t.push(e.id):""!==i.props.associatePointIn&&""!==i.props.associateRegionOut&&(i.props.associatePointIn!==e.pointIn&&i.props.associatePointIn!==e.pointOut||i.props.associateRegionOut!==e.regionOut&&i.props.associateRegionOut!==e.regionIn||t.push(e.id)))})),t.sort((function(e,t){return e-t}))},i.defineCoor4DRegion=function(e){var t=0,n=0,a=0,o=0;if(""!==e.idSVG){var r=parseInt(i.props.options.baseMap.height,10),l=parseInt(i.props.options.baseMap.width,10),s=i.props.options.coordinateSpaceInitial.coordinate,p=(parseInt(s.xMin,10)+100)*(l/200),c=(parseInt(s.xMax,10)+100)*(l/200)-p,u=(parseInt(s.yMin,10)+100)*(r/200),d=(parseInt(s.yMax,10)+100)*(r/200)-u,h=void 0,f=0,m=0,g=0,b=0,y=0,v=0;if(h=i.props.options.baseMap.isUploaded?document.getElementById(e.idSVG):document.getElementById("oct"+e.idSVG))if("rect"===h.localName)f=parseInt(h.attributes.width.nodeValue,10),m=parseInt(h.attributes.height.nodeValue,10),b=(g=parseInt(h.attributes.x.nodeValue,10))+f,v=(y=parseInt(h.attributes.y.nodeValue,10))+m;else if("ellipse"===h.localName){var x=parseInt(h.attributes.rx.nodeValue,10),k=parseInt(h.attributes.ry.nodeValue,10);g=parseInt(h.attributes.cx.nodeValue,10)-x,b=parseInt(h.attributes.cx.nodeValue,10)+x,v=parseInt(h.attributes.cy.nodeValue,10)+k,y=parseInt(h.attributes.cy.nodeValue,10)-k}else if("path"===h.localName){for(var C=h.attributes.d.nodeValue.split(" "),I=-2,S=1e6,E=0,M=-1,L=1e6,O=0,T=0;T<C.length;T++){var B=parseInt(C[T],10);T===I+3&&(B<S&&(S=B),B>E&&(E=B),I=T),T===M+3&&(B<L&&(L=B),B>O&&(O=B),M=T)}g=S,b=E,v=O,y=L}var A=2*Math.round(100/c*(g-c/2)),D=2*Math.round(100/c*(b-c/2)),w=2*Math.round(100/d*(v-d/2))*-1,P=2*Math.round(100/d*(y-d/2))*-1;t=Math.round(g),n=Math.round(b),a=Math.round(i.props.heightImage-v),o=Math.round(i.props.heightImage-y),t<0&&n<0&&(t=D,n=A),a<0&&o<0&&(a=P,o=w)}else t=parseInt(e.coordsDefault.xMin,10),n=parseInt(e.coordsDefault.xMax,10),a=parseInt(e.coordsDefault.yMin,10),o=parseInt(e.coordsDefault.yMax,10);return{xMin:t.toString(),xMax:n.toString(),yMin:a.toString(),yMax:o.toString()}},i.getPaddingPoint=function(e,t){var i=0,n=document.getElementById(e.name);return n&&(i=parseInt(n.style.padding.substring(-2),10),2===t&&(i/=2)),i},i.definePositionX=function(e,t){var n,a,o,r,l=0,s=i.props.options.regionCoordinateSpace,p=i.props.options.arrayPoints,c=0,u=0,d=0,h=0,f=0,m=0,g=0,b=0;""!==i.props.associatePointIn&&""!==i.props.associateRegionOut?(p.forEach((function(e){var n=i.getPaddingPoint(e,t);(e.label||e.name)===i.props.associatePointIn&&(c=parseInt(e.positionXDefault,10)-n,u=parseInt(e.positionXDefault,10)+n,f=parseInt(e.positionYDefault,10)-n,m=parseInt(e.positionYDefault,10)+n,c<0&&u<0&&(c=parseInt(e.positionXDefault,10)+n,u=parseInt(e.positionXDefault,10)-n),f<0&&m<0&&(f=parseInt(e.positionYDefault,10)+n,m=parseInt(e.positionYDefault,10)-n))})),s.forEach((function(e){e.label===i.props.associateRegionOut&&(d=parseInt(i.defineCoor4DRegion(e).xMin,10),h=parseInt(i.defineCoor4DRegion(e).xMax,10),g=parseInt(i.defineCoor4DRegion(e).yMin,10),b=parseInt(i.defineCoor4DRegion(e).yMax,10))}))):""!==i.props.associateRegionIn&&""!==i.props.associatePointOut?(s.forEach((function(e){e.label===i.props.associateRegionIn&&(c=parseInt(i.defineCoor4DRegion(e).xMin,10),u=parseInt(i.defineCoor4DRegion(e).xMax,10),f=parseInt(i.defineCoor4DRegion(e).yMin,10),m=parseInt(i.defineCoor4DRegion(e).yMax,10))})),p.forEach((function(e){var n=i.getPaddingPoint(e,t);(e.label||e.name)===i.props.associatePointOut&&(d=parseInt(e.positionXDefault,10)-n,h=parseInt(e.positionXDefault,10)+n,g=parseInt(e.positionYDefault,10)-n,b=parseInt(e.positionYDefault,10)+n,d<0&&h<0&&(d=parseInt(e.positionXDefault,10)+n,h=parseInt(e.positionXDefault,10)-n),g<0&&b<0&&(g=parseInt(e.positionYDefault,10)+n,b=parseInt(e.positionYDefault,10)-n))}))):""===i.props.associatePointIn&&""===i.props.associateRegionIn&&""!==i.props.associateRegionOut?(s.forEach((function(e){e.label===i.props.associateRegionOut&&(d=parseInt(i.defineCoor4DRegion(e).xMin,10),h=parseInt(i.defineCoor4DRegion(e).xMax,10),g=parseInt(i.defineCoor4DRegion(e).yMin,10),b=parseInt(i.defineCoor4DRegion(e).yMax,10))})),c=parseInt(i.props.positionXADefault,10),u=parseInt(i.props.positionXADefault,10),f=parseInt(i.props.positionYADefault,10),m=parseInt(i.props.positionYADefault,10)):""!==i.props.associateRegionIn&&""===i.props.associatePointOut&&""===i.props.associateRegionOut?(s.forEach((function(e){e.label===i.props.associateRegionIn&&(c=parseInt(i.defineCoor4DRegion(e).xMin,10),u=parseInt(i.defineCoor4DRegion(e).xMax,10),f=parseInt(i.defineCoor4DRegion(e).yMin,10),m=parseInt(i.defineCoor4DRegion(e).yMax,10))})),d=parseInt(i.props.positionXBDefault,10),h=parseInt(i.props.positionXBDefault,10),g=parseInt(i.props.positionYBDefault,10),b=parseInt(i.props.positionYBDefault,10)):""!==i.props.associatePointIn&&""===i.props.associatePointOut&&""===i.props.associateRegionOut?(p.forEach((function(e){var n=i.getPaddingPoint(e,t);(e.label||e.name)===i.props.associatePointIn&&(c=parseInt(e.positionXDefault,10)-n,u=parseInt(e.positionXDefault,10)+n,f=parseInt(e.positionYDefault,10)-n,m=parseInt(e.positionYDefault,10)+n,c<0&&u<0&&(c=parseInt(e.positionXDefault,10)+n,u=parseInt(e.positionXDefault,10)-n),f<0&&m<0&&(f=parseInt(e.positionYDefault,10)+n,m=parseInt(e.positionYDefault,10)-n))})),d=parseInt(i.props.positionXBDefault,10),h=parseInt(i.props.positionXBDefault,10),g=parseInt(i.props.positionYBDefault,10),b=parseInt(i.props.positionYBDefault,10)):""===i.props.associatePointIn&&""===i.props.associateRegionIn&&""!==i.props.associatePointOut?(p.forEach((function(e){var n=i.getPaddingPoint(e,t);(e.label||e.name)===i.props.associatePointOut&&(d=parseInt(e.positionXDefault,10)-n,h=parseInt(e.positionXDefault,10)+n,g=parseInt(e.positionYDefault,10)-n,b=parseInt(e.positionYDefault,10)+n,d<0&&h<0&&(d=parseInt(e.positionXDefault,10)+n,h=parseInt(e.positionXDefault,10)-n),g<0&&b<0&&(g=parseInt(e.positionYDefault,10)+n,b=parseInt(e.positionYDefault,10)-n))})),c=parseInt(i.props.positionXADefault,10),u=parseInt(i.props.positionXADefault,10),f=parseInt(i.props.positionYADefault,10),m=parseInt(i.props.positionYADefault,10)):""!==i.props.associatePointIn&&""!==i.props.associatePointOut?p.forEach((function(e){var n=i.getPaddingPoint(e,t),a=e.label||e.name;a===i.props.associatePointIn&&(c=parseInt(e.positionXDefault,10)-n,u=parseInt(e.positionXDefault,10)+n,f=parseInt(e.positionYDefault,10)-n,m=parseInt(e.positionYDefault,10)+n,c<0&&u<0&&(c=parseInt(e.positionXDefault,10)+n,u=parseInt(e.positionXDefault,10)-n),f<0&&m<0&&(f=parseInt(e.positionYDefault,10)+n,m=parseInt(e.positionYDefault,10)-n)),a===i.props.associatePointOut&&(d=parseInt(e.positionXDefault,10)-n,h=parseInt(e.positionXDefault,10)+n,g=parseInt(e.positionYDefault,10)-n,b=parseInt(e.positionYDefault,10)+n,d<0&&h<0&&(d=parseInt(e.positionXDefault,10)+n,h=parseInt(e.positionXDefault,10)-n),g<0&&b<0&&(g=parseInt(e.positionYDefault,10)+n,b=parseInt(e.positionYDefault,10)-n))})):s.forEach((function(e){e.label===i.props.associateRegionIn&&(c=parseInt(i.defineCoor4DRegion(e).xMin,10),u=parseInt(i.defineCoor4DRegion(e).xMax,10),f=parseInt(i.defineCoor4DRegion(e).yMin,10),m=parseInt(i.defineCoor4DRegion(e).yMax,10)),e.label===i.props.associateRegionOut&&(d=parseInt(i.defineCoor4DRegion(e).xMin,10),h=parseInt(i.defineCoor4DRegion(e).xMax,10),g=parseInt(i.defineCoor4DRegion(e).yMin,10),b=parseInt(i.defineCoor4DRegion(e).yMax,10))})),n=(c+u)/2,a=(d+h)/2,o=(f+m)/2,r=(g+b)/2,e?0===t?o>r?n>a?l=c<0&&u<0?u:c:n<a?l=c<0&&u<0?c:u:n===a&&(l=c):o<r?n>a?l=c<0&&u<0?c:u:n<a?l=c<0&&u<0?u:c:n===a&&(l=c):o===r&&(n>a?l=c<0&&u<0?u:c:n<a?l=c<0&&u<0?c:u:n===a&&(l=c)):1===t?o>r?n>a?l=c<0&&u<0?c:u:n<a?l=c<0&&u<0?u:c:n===a&&(l=u):o<r?n>a?l=c<0&&u<0?u:c:n<a?l=c<0&&u<0?c:u:n===a&&(l=u):o===r&&(n>a?l=c<0&&u<0?u:c:n<a?l=c<0&&u<0?c:u:n===a&&(l=c)):2===t&&(o>r||o<r?a>c&&a<u||a<c&&a>u?l=(c+u)/2:n>a?l=c<0&&u<0?u:c:n<a?l=c<0&&u<0?c:u:n===a&&(l=(c+u)/2):o===r&&(a>c&&a<u||a<c&&a>u?l=(c+u)/2:n>a?l=c<0&&u<0?u:c:n<a?l=c<0&&u<0?c:u:n===a&&(l=c))):0===t?o>r?n>a?l=d<0&&h<0?h:d:n<a?l=d<0&&h<0?d:h:n===a&&(l=d):(o<r||o===r)&&(n>a?l=d<0&&h<0?d:h:n<a?l=d<0&&h<0?h:d:n===a&&(l=d)):1===t?o>r?n>a?l=d<0&&h<0?d:h:n<a?l=d<0&&h<0?h:d:n===a&&(l=h):o<r?n>a?l=d<0&&h<0?h:d:n<a?l=d<0&&h<0?d:h:n===a&&(l=h):o===r&&(n>a?l=d<0&&h<0?d:h:n<a?l=d<0&&h<0?h:d:n===a&&(l=d)):2===t&&(o>r||o<r?n>d&&n<h||n<d&&n>h?l=(d+h)/2:n>a?l=d<0&&h<0?d:h:n<a?l=d<0&&h<0?h:d:n===a&&(l=(d+h)/2):o===r&&(n>a?l=d<0&&h<0?d:h:n<a?l=d<0&&h<0?h:d:n===a&&(l=d)));var y=i.props.options.arrayOrientedLinks;return y.forEach((function(t){t.name===i.props.name&&(e?(t.pointAPositionX=l.toString(),t.pointAPositionXDefault=l.toString()):(t.pointBPositionX=l.toString(),t.pointBPositionXDefault=l.toString()))})),i.props.options.arrayOrientedLinks=y,l},i.definePositionY=function(e,t){var n,a,o,r,l=0,s=i.props.options.arrayPoints,p=i.props.options.regionCoordinateSpace,c=0,u=0,d=0,h=0,f=0,m=0,g=0,b=0;""!==i.props.associatePointIn&&""!==i.props.associateRegionOut?(s.forEach((function(e){var n=i.getPaddingPoint(e,t);(e.label||e.name)===i.props.associatePointIn&&(c=parseInt(e.positionXDefault,10)-n,u=parseInt(e.positionXDefault,10)+n,f=parseInt(e.positionYDefault,10)-n,m=parseInt(e.positionYDefault,10)+n,c<0&&u<0&&(c=parseInt(e.positionXDefault,10)+n,u=parseInt(e.positionXDefault,10)-n),f<0&&m<0&&(f=parseInt(e.positionYDefault,10)+n,m=parseInt(e.positionYDefault,10)-n))})),p.forEach((function(e){e.label===i.props.associateRegionOut&&(d=parseInt(i.defineCoor4DRegion(e).xMin,10),h=parseInt(i.defineCoor4DRegion(e).xMax,10),g=parseInt(i.defineCoor4DRegion(e).yMin,10),b=parseInt(i.defineCoor4DRegion(e).yMax,10))}))):""!==i.props.associateRegionIn&&""!==i.props.associatePointOut?(p.forEach((function(e){e.label===i.props.associateRegionIn&&(c=parseInt(i.defineCoor4DRegion(e).xMin,10),u=parseInt(i.defineCoor4DRegion(e).xMax,10),f=parseInt(i.defineCoor4DRegion(e).yMin,10),m=parseInt(i.defineCoor4DRegion(e).yMax,10))})),s.forEach((function(e){var n=i.getPaddingPoint(e,t);(e.label||e.name)===i.props.associatePointOut&&(d=parseInt(e.positionXDefault,10)-n,h=parseInt(e.positionXDefault,10)+n,g=parseInt(e.positionYDefault,10)-n,b=parseInt(e.positionYDefault,10)+n,d<0&&h<0&&(d=parseInt(e.positionXDefault,10)+n,h=parseInt(e.positionXDefault,10)-n),g<0&&b<0&&(g=parseInt(e.positionYDefault,10)+n,b=parseInt(e.positionYDefault,10)-n))}))):""===i.props.associatePointIn&&""===i.props.associateRegionIn&&""!==i.props.associateRegionOut?(p.forEach((function(e){e.label===i.props.associateRegionOut&&(d=parseInt(i.defineCoor4DRegion(e).xMin,10),h=parseInt(i.defineCoor4DRegion(e).xMax,10),g=parseInt(i.defineCoor4DRegion(e).yMin,10),b=parseInt(i.defineCoor4DRegion(e).yMax,10))})),c=parseInt(i.props.positionXADefault,10),u=parseInt(i.props.positionXADefault,10),f=parseInt(i.props.positionYADefault,10),m=parseInt(i.props.positionYADefault,10)):""!==i.props.associateRegionIn&&""===i.props.associatePointOut&&""===i.props.associateRegionOut?(p.forEach((function(e){e.label===i.props.associateRegionIn&&(c=parseInt(i.defineCoor4DRegion(e).xMin,10),u=parseInt(i.defineCoor4DRegion(e).xMax,10),f=parseInt(i.defineCoor4DRegion(e).yMin,10),m=parseInt(i.defineCoor4DRegion(e).yMax,10))})),d=parseInt(i.props.positionXBDefault,10),h=parseInt(i.props.positionXBDefault,10),g=parseInt(i.props.positionYBDefault,10),b=parseInt(i.props.positionYBDefault,10)):""!==i.props.associatePointIn&&""===i.props.associatePointOut&&""===i.props.associateRegionOut?(s.forEach((function(e){var n=i.getPaddingPoint(e,t);(e.label||e.name)===i.props.associatePointIn&&(c=parseInt(e.positionXDefault,10)-n,u=parseInt(e.positionXDefault,10)+n,f=parseInt(e.positionYDefault,10)-n,m=parseInt(e.positionYDefault,10)+n,c<0&&u<0&&(c=parseInt(e.positionXDefault,10)+n,u=parseInt(e.positionXDefault,10)-n),f<0&&m<0&&(f=parseInt(e.positionYDefault,10)+n,m=parseInt(e.positionYDefault,10)-n))})),d=parseInt(i.props.positionXBDefault,10),h=parseInt(i.props.positionXBDefault,10),g=parseInt(i.props.positionYBDefault,10),b=parseInt(i.props.positionYBDefault,10)):""===i.props.associatePointIn&&""===i.props.associateRegionIn&&""!==i.props.associatePointOut?(s.forEach((function(e){var n=i.getPaddingPoint(e,t);(e.label||e.name)===i.props.associatePointOut&&(d=parseInt(e.positionXDefault,10)-n,h=parseInt(e.positionXDefault,10)+n,g=parseInt(e.positionYDefault,10)-n,b=parseInt(e.positionYDefault,10)+n,d<0&&h<0&&(d=parseInt(e.positionXDefault,10)+n,h=parseInt(e.positionXDefault,10)-n),g<0&&b<0&&(g=parseInt(e.positionYDefault,10)+n,b=parseInt(e.positionYDefault,10)-n))})),c=parseInt(i.props.positionXADefault,10),u=parseInt(i.props.positionXADefault,10),f=parseInt(i.props.positionYADefault,10),m=parseInt(i.props.positionYADefault,10)):""!==i.props.associatePointIn&&""!==i.props.associatePointOut?s.forEach((function(e){var n=i.getPaddingPoint(e,t),a=e.label||e.name;a===i.props.associatePointIn&&(c=parseInt(e.positionXDefault,10)-n,u=parseInt(e.positionXDefault,10)+n,f=parseInt(e.positionYDefault,10)-n,m=parseInt(e.positionYDefault,10)+n,c<0&&u<0&&(c=parseInt(e.positionXDefault,10)+n,u=parseInt(e.positionXDefault,10)-n),f<0&&m<0&&(f=parseInt(e.positionYDefault,10)+n,m=parseInt(e.positionYDefault,10)-n)),a===i.props.associatePointOut&&(d=parseInt(e.positionXDefault,10)-n,h=parseInt(e.positionXDefault,10)+n,g=parseInt(e.positionYDefault,10)-n,b=parseInt(e.positionYDefault,10)+n,d<0&&h<0&&(d=parseInt(e.positionXDefault,10)+n,h=parseInt(e.positionXDefault,10)-n),g<0&&b<0&&(g=parseInt(e.positionYDefault,10)+n,b=parseInt(e.positionYDefault,10)-n))})):p.forEach((function(e){e.label===i.props.associateRegionIn&&(c=parseInt(i.defineCoor4DRegion(e).xMin,10),u=parseInt(i.defineCoor4DRegion(e).xMax,10),f=parseInt(i.defineCoor4DRegion(e).yMin,10),m=parseInt(i.defineCoor4DRegion(e).yMax,10)),e.label===i.props.associateRegionOut&&(d=parseInt(i.defineCoor4DRegion(e).xMin,10),h=parseInt(i.defineCoor4DRegion(e).xMax,10),g=parseInt(i.defineCoor4DRegion(e).yMin,10),b=parseInt(i.defineCoor4DRegion(e).yMax,10))})),n=(c+u)/2,a=(d+h)/2,o=(f+m)/2,r=(g+b)/2,e?0===t?a>c&&a<u||a<c&&a>u?o>r?l=f<0&&m<0?m:f:(o<r||o===r)&&(l=f<0&&m<0?f:m):n>a||n<a?(o>r||o<r||o===r)&&(l=f<0&&m<0?f:m):n===a&&(o>r?l=f<0&&m<0?m:f:o<r&&(l=f<0&&m<0?f:m)):1===t?a>c&&a<u||a<c&&a>u?o>r?l=f<0&&m<0?m:f:o<r?l=f<0&&m<0?f:m:o===r&&(l=f<0&&m<0?g:b):n>a||n<a?(o>r||o<r||o===r)&&(l=f<0&&m<0?m:f):n===a&&(o>r?l=f<0&&m<0?m:f:o<r&&(l=f<0&&m<0?f:m)):2===t&&(a>c&&a<u||a<c&&a>u?o>r?l=f<0&&m<0?m:f:o<r?l=f<0&&m<0?f:m:o===r&&(l=f<0&&m<0?g:b):n>a||n<a?o>r?l=f<0&&m<0?m:f:o<r?l=f<0&&m<0?f:m:o===r&&(l=(f+m)/2):n===a&&(o>r?l=f<0&&m<0?m:f:o<r&&(l=f<0&&m<0?f:m))):0===t?n>d&&n<h||n<d&&n>h?o>r?l=g<0&&b<0?g:b:o<r?l=g<0&&b<0?b:g:o===r&&(l=g<0&&b<0?g:b):n>a||n<a?(o>r||o<r||o===r)&&(l=g<0&&b<0?g:b):n===a&&(o>r?l=g<0&&b<0?g:b:o<r&&(l=g<0&&b<0?b:g)):1===t?n>d&&n<h||n<d&&n>h?o>r?l=g<0&&b<0?g:b:o<r?l=g<0&&b<0?b:g:o===r&&(l=g<0&&b<0?g:b):n>a||n<a?(o>r||o<r||o===r)&&(l=g<0&&b<0?b:g):n===a&&(o>r?l=g<0&&b<0?g:b:o<r&&(l=g<0&&b<0?b:g)):2===t&&(n>d&&n<h||n<d&&n>h||n>a||n<a?o>r?l=g<0&&b<0?g:b:o<r?l=g<0&&b<0?b:g:o===r&&(l=(g+b)/2):n===a&&(o>r?l=g<0&&b<0?g:b:o<r&&(l=g<0&&b<0?b:g)));var y=i.props.options.arrayOrientedLinks;return y.forEach((function(t){t.name===i.props.name&&(e?(t.pointAPositionY=l.toString(),t.pointAPositionYDefault=l.toString()):(t.pointBPositionY=l.toString(),t.pointBPositionYDefault=l.toString()))})),i.props.options.arrayOrientedLinks=y,l},i.defineMainMetric=function(e){var t=i.props.textObject.valueGenerateObjectText.unit,n=i.props.textObject.valueGenerateObjectText.numericFormatElement,a=parseInt(n,10)||1;return""!==n?parseFloat(e).toPrecision(a)+" "+t:e+" "+t},i.defineAuxMetric=function(e){var t=i.props.textObject.generateAuxiliaryElement.unit,n=i.props.textObject.generateAuxiliaryElement.numericFormatElement,a=parseInt(n,10)||1;return""!==n?parseFloat(e).toPrecision(a)+" "+t:e+" "+t},i.defineTextObject=function(e){var t=[],n=[],a=i.props.textObject.isTextTooltip,o=i.props.textObject.colorText,r=i.props.textObject.colorBack,l=i.props.textObject.generateObjectText,s=i.props.textObject.valueGenerateObjectText.displayObjectInTooltip,p=i.props.textObject.valueGenerateObjectText.addColorTextElement,c=i.props.textObject.valueGenerateObjectText.addColorBackElement,d=i.props.textObject.valueGenerateObjectText.colorTextElement,h=i.props.textObject.valueGenerateObjectText.colorBackElement,f=i.props.textObject.valueGenerateObjectText.legendElement,m={color:o,backgroundColor:r,textAlign:"center",margin:0,padding:"0 5px"},g={color:p?d:o,margin:0,padding:0,whiteSpace:"nowrap"};a||t.push(u.a.createElement("p",{key:"contentTextObject1"+i.props.name,style:m},i.props.label||i.props.name.toUpperCase())),l&&(s||(f&&n.push(u.a.createElement("p",{key:"contentTextObject2"+i.props.name,style:g},f)),n.push(u.a.createElement("p",{key:"contentTextObject3"+i.props.name,style:g},!isNaN(parseFloat(i.defineMainMetric(e)))&&i.defineMainMetric(e)))));var b={backgroundColor:r,border:"1px solid black"};return(!l||l&&s)&&(b={backgroundColor:r}),u.a.createElement("div",{style:b},t,u.a.createElement("div",{style:{backgroundColor:c?h:r,padding:"0 5px"}},n))},i.defineHtmlLinkTooltip=function(){var e=u.a.createElement("div",null);return""!==i.props.linkUrl.hoveringTooltipText&&(e=u.a.createElement("a",{href:i.props.linkUrl.hoveringTooltipLink},i.props.linkUrl.hoveringTooltipText)),e},i.defineValueTooptip=function(e,t){var n=[],a=[],o=[],r=i.props.valueMainMetricA,l=i.props.valueMainMetricB,s=i.props.refMainMetricA,p=i.props.refMainMetricB,c=i.props.textObject.isTextTooltip,d=i.props.textObject.colorText,h=i.props.textObject.colorBack,f=i.props.textObject.generateObjectText,m=i.props.textObject.valueGenerateObjectText.displayObjectInTooltip,g=i.props.textObject.valueGenerateObjectText.addColorTextElement,b=i.props.textObject.valueGenerateObjectText.addColorBackElement,y=i.props.textObject.valueGenerateObjectText.colorTextElement,v=i.props.textObject.valueGenerateObjectText.colorBackElement,x=i.props.textObject.valueGenerateObjectText.legendElement,k=i.props.textObject.generateAuxiliaryElement.displayObjectInTooltip,C=i.props.textObject.generateAuxiliaryElement.addColorTextElement,I=i.props.textObject.generateAuxiliaryElement.addColorBackElement,S=i.props.textObject.generateAuxiliaryElement.colorTextElement,E=i.props.textObject.generateAuxiliaryElement.colorBackElement,M=i.props.textObject.generateAuxiliaryElement.legendElement,L={fontFamily:i.props.police,fontSize:"11px",marginBottom:"0px",textAlign:"center",color:d,backgroundColor:h},O={fontFamily:i.props.police,fontSize:"10px",marginTop:"5px",marginBottom:"0px",color:g?y:d},T={fontFamily:i.props.police,fontSize:"10px",marginTop:"5px",marginBottom:"0px",color:C?S:d},B={fontFamily:i.props.police,fontSize:"10px",marginTop:"5px",marginLeft:"5px",marginBottom:"0px",color:g?y:d},A={fontFamily:i.props.police,fontSize:"10px",marginTop:"5px",marginLeft:"5px",marginBottom:"0px",color:C?S:d},D={fontFamily:i.props.police,fontSize:"9px",marginLeft:"10px",marginBottom:"0px",color:g?y:d},w={fontFamily:i.props.police,fontSize:"9px",marginLeft:"10px",marginBottom:"0px",color:C?S:d};if(c&&n.push(u.a.createElement("p",{key:"contentTooltip1"+i.props.name,style:L},i.props.label||i.props.name.toUpperCase())),f&&m&&(x&&a.push(u.a.createElement("p",{style:O},x)),a.push(u.a.createElement("p",{key:"contentTooltip1"+i.props.name,style:O},"Main Metric")),"bidirectional"===e?"A"===t?(a.push(u.a.createElement("p",{key:"contentTooltip2"+i.props.name,style:B},"+ Link A")),a.push(u.a.createElement("p",{key:"contentTooltip3"+i.props.name,style:D}," ","- Reference : ",s)),a.push(u.a.createElement("p",{key:"contentTooltip4"+i.props.name,style:D}," ","- Value : ",i.defineMainMetric(r)))):(a.push(u.a.createElement("p",{key:"contentTooltip5"+i.props.name,style:B},"+ Link B")),a.push(u.a.createElement("p",{key:"contentTooltip6"+i.props.name,style:D}," ","- Reference : ",p)),a.push(u.a.createElement("p",{key:"contentTooltip7"+i.props.name,style:D}," ","- Value : ",i.defineMainMetric(l)))):"monodirectional"===e&&(a.push(u.a.createElement("p",{key:"contentTooltip8"+i.props.name,style:D}," ","- Reference : ",s)),a.push(u.a.createElement("p",{key:"contentTooltip9"+i.props.name,style:D}," ","- Value : ",i.defineMainMetric(r))))),k)if(M&&o.push(u.a.createElement("p",{style:T},M)),"bidirectional"===e){if("A"===t){if(i.props.auxiliaryMetrics.length>0){o.push(u.a.createElement("p",{key:"contentTooltip10"+i.props.name,style:T},"Auxiliary Metric"));var P=1;i.props.auxiliaryMetrics.forEach((function(e){o.push(u.a.createElement("p",{key:P.toString()+"contentTooltip11"+i.props.name,style:A},"+ Metric ",P)),o.push(u.a.createElement("p",{key:P.toString()+"contentTooltip12"+i.props.name,style:w},"- Reference : ",e.refId)),o.push(u.a.createElement("p",{key:P.toString()+"contentTooltip13"+i.props.name,style:w},"- Value :"," ",!isNaN(parseFloat(i.defineAuxMetric(i.props.valuesAuxiliaryMetrics[P-1])))&&i.defineAuxMetric(i.props.valuesAuxiliaryMetrics[P-1]))),o.push(u.a.createElement("p",{key:P.toString()+"contentTooltip14"+i.props.name,style:w},"- Key : ",e.key)),o.push(u.a.createElement("p",{key:P.toString()+"contentTooltip15"+i.props.name,style:w},"- KeyValue : ",e.keyValue)),o.push(u.a.createElement("p",{key:P.toString()+"contentTooltip16"+i.props.name,style:w},"- Type : ",e.manageValue)),P++}))}}else if(i.props.auxiliaryMetricsB.length>0){o.push(u.a.createElement("p",{key:"contentTooltip17"+i.props.name,style:T},"Auxiliary Metric"));var j=1;i.props.auxiliaryMetricsB.forEach((function(e){o.push(u.a.createElement("p",{key:j.toString()+"contentTooltip18"+i.props.name,style:A},"+ Metric ",j)),o.push(u.a.createElement("p",{key:j.toString()+"contentTooltip19"+i.props.name,style:w},"- Reference : ",e.refId)),o.push(u.a.createElement("p",{key:j.toString()+"contentTooltip20"+i.props.name,style:w},"- Value :"," ",!isNaN(parseFloat(i.defineAuxMetric(i.props.valuesAuxiliaryMetricsB[j-1])))&&i.defineAuxMetric(i.props.valuesAuxiliaryMetricsB[j-1]))),o.push(u.a.createElement("p",{key:j.toString()+"contentTooltip21"+i.props.name,style:w},"- Key : ",e.key)),o.push(u.a.createElement("p",{key:j.toString()+"contentTooltip22"+i.props.name,style:w},"- KeyValue : ",e.keyValue)),o.push(u.a.createElement("p",{key:j.toString()+"contentTooltip23"+i.props.name,style:w},"- Type : ",e.manageValue)),j++}))}}else if("monodirectional"===e&&i.props.auxiliaryMetrics.length>0){o.push(u.a.createElement("p",{key:"contentTooltip24"+i.props.name,style:T},"Auxiliary Metric"));var G=1;i.props.auxiliaryMetrics.forEach((function(e){o.push(u.a.createElement("p",{key:G.toString()+"contentTooltip25"+i.props.name,style:A},"+ Metric ",G)),o.push(u.a.createElement("p",{key:G.toString()+"contentTooltip26"+i.props.name,style:w},"- Reference : ",e.refId)),o.push(u.a.createElement("p",{key:G.toString()+"contentTooltip27"+i.props.name,style:w},"- Value :"," ",!isNaN(parseFloat(i.defineAuxMetric(i.props.valuesAuxiliaryMetrics[G-1])))&&i.defineAuxMetric(i.props.valuesAuxiliaryMetrics[G-1]))),o.push(u.a.createElement("p",{key:G.toString()+"contentTooltip28"+i.props.name,style:w},"- Key : ",e.key)),o.push(u.a.createElement("p",{key:G.toString()+"contentTooltip29"+i.props.name,style:w},"- KeyValue : ",e.keyValue)),o.push(u.a.createElement("p",{key:G.toString()+"contentTooltip30"+i.props.name,style:w},"- Type : ",e.manageValue)),G++}))}return 0===n.length&&0===o.length&&0===a.length?null:u.a.createElement("div",{style:{border:"1px solid black",padding:0}},n,u.a.createElement("div",{style:{backgroundColor:b?v:h,padding:"0 5px"}},a),u.a.createElement("div",{style:{backgroundColor:I?E:h,padding:"0 5px"}},o),i.defineHtmlLinkTooltip())},i.defineTextDecoration=function(){return i.props.textObject.style.underline||i.props.options.display.style.underline?"underline":"none"},i.defineFontStyle=function(){return i.props.textObject.style.italic||i.props.options.display.style.italic?"italic":"normal"},i.defineFontWeight=function(){return i.props.textObject.style.bold||i.props.options.display.style.bold?"bold":"normal"},i.defineColorTextLabel=function(){return i.props.textObject.colorText?i.props.textObject.colorText:"black"},i.defineSizeLink=function(){var e="";i.props.size?e=i.props.size||"":e="2";return e},i.state={},i}return o(t,e),t.prototype.defineLimitX=function(e){var t=e,i=parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMin,10),n=parseInt(this.props.options.coordinateSpaceInitial.coordinate.xMax,10);return e<i?t=i:e>n&&(t=n),t},t.prototype.defineLimitY=function(e){var t=e,i=parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMin,10),n=parseInt(this.props.options.coordinateSpaceInitial.coordinate.yMax,10);return e<i?t=i:e>n&&(t=n),t},t.prototype.synchroLinkX=function(e,t){var i=this,n=this.props.options.coordinateSpaceInitial.coordinate,a=parseInt(n.xMin,10),o=parseInt(n.xMax,10)-a,r=e/this.props.widthImage,l=Math.round(a+o*r),s=this.props.options.arrayOrientedLinks;return s.forEach((function(e){e.name===i.props.name&&("xA"===t?e.pointAPositionX=l.toString():"xB"===t?e.pointBPositionX=l.toString():"xC"===t&&(e.pointCPositionX=l.toString()))})),this.props.options.arrayOrientedLinks=s,(this.defineLimitX(l)-a)/o*this.props.widthImage},t.prototype.synchroLinkY=function(e,t){var i=this,n=this.props.options.coordinateSpaceInitial.coordinate,a=parseInt(n.yMin,10),o=parseInt(n.yMax,10)-a,r=e/this.props.heightImage,l=Math.round(a+o*r),s=this.props.options.arrayOrientedLinks;return s.forEach((function(e){e.name===i.props.name&&("yA"===t?e.pointAPositionY=l.toString():"yB"===t?e.pointBPositionY=l.toString():"yC"===t&&(e.pointCPositionY=l.toString()))})),this.props.options.arrayOrientedLinks=s,(a+o-this.defineLimitY(l))/o*this.props.heightImage},t.prototype.drawLink=function(e,t,i,n,a,o,r){var l=this,s=this.defineParallelOrientedLinks(),p=0,c=0,h=0,f=0,m=0,g=0;if(s.length>1){var b=0;s.forEach((function(e){e===parseInt(l.props.id,10)&&(0===b?(""!==l.props.associatePointIn&&""!==l.props.associatePointOut||""!==l.props.associateRegionIn&&""!==l.props.associateRegionOut||""!==l.props.associatePointIn&&""!==l.props.associateRegionOut||""!==l.props.associateRegionIn&&""!==l.props.associatePointOut)&&(p=l.synchroLinkX(l.definePositionX(!0,0)),c=l.synchroLinkY(l.definePositionY(!0,0)),h=l.synchroLinkX(l.definePositionX(!1,0)),f=l.synchroLinkY(l.definePositionY(!1,0)),m=a||(p+h)/2,g=o||(c+f)/2):1===b?(""!==l.props.associatePointIn&&""!==l.props.associatePointOut||""!==l.props.associateRegionIn&&""!==l.props.associateRegionOut||""!==l.props.associatePointIn&&""!==l.props.associateRegionOut||""!==l.props.associateRegionIn&&""!==l.props.associatePointOut)&&(p=l.synchroLinkX(l.definePositionX(!0,1)),c=l.synchroLinkY(l.definePositionY(!0,1)),h=l.synchroLinkX(l.definePositionX(!1,1)),f=l.synchroLinkY(l.definePositionY(!1,1)),m=a||(p+h)/2,g=o||(c+f)/2):2===b&&(""!==l.props.associatePointIn&&""!==l.props.associatePointOut||""!==l.props.associateRegionIn&&""!==l.props.associateRegionOut||""!==l.props.associatePointIn&&""!==l.props.associateRegionOut||""!==l.props.associateRegionIn&&""!==l.props.associatePointOut)&&(p=l.synchroLinkX(l.definePositionX(!0,2)),c=l.synchroLinkY(l.definePositionY(!0,2)),h=l.synchroLinkX(l.definePositionX(!1,2)),f=l.synchroLinkY(l.definePositionY(!1,2)),m=a||(p+h)/2,g=o||(c+f)/2)),b++}))}else""!==this.props.associateRegionIn&&""===this.props.associatePointOut&&""===this.props.associateRegionOut?(p=this.synchroLinkX(this.definePositionX(!0,2)),c=this.synchroLinkY(this.definePositionY(!0,2)),h=i,f=n,m=a||(p+h)/2,g=o||(c+f)/2):""!==this.props.associateRegionOut&&""===this.props.associateRegionIn&&""===this.props.associatePointIn?(p=e,c=t,h=this.synchroLinkX(this.definePositionX(!1,2)),f=this.synchroLinkY(this.definePositionY(!1,2)),m=a||(p+h)/2,g=o||(c+f)/2):""!==this.props.associateRegionIn&&""!==this.props.associateRegionOut?(p=this.synchroLinkX(this.definePositionX(!0,2)),c=this.synchroLinkY(this.definePositionY(!0,2)),h=this.synchroLinkX(this.definePositionX(!1,2)),f=this.synchroLinkY(this.definePositionY(!1,2)),m=a||(p+h)/2,g=o||(c+f)/2):""!==this.props.associatePointIn&&""===this.props.associatePointOut&&""===this.props.associateRegionOut?(p=this.synchroLinkX(this.definePositionX(!0,2)),c=this.synchroLinkY(this.definePositionY(!0,2)),h=i,f=n,m=a||(p+h)/2,g=o||(c+f)/2):""!==this.props.associatePointOut&&""===this.props.associatePointIn&&""===this.props.associateRegionIn?(p=e,c=t,h=this.synchroLinkX(this.definePositionX(!1,2)),f=this.synchroLinkY(this.definePositionY(!1,2)),m=a||(p+h)/2,g=o||(c+f)/2):""!==this.props.associatePointIn&&""!==this.props.associatePointOut||""!==this.props.associatePointIn&&""!==this.props.associateRegionOut||""!==this.props.associateRegionIn&&""!==this.props.associatePointOut?(p=this.synchroLinkX(this.definePositionX(!0,2)),c=this.synchroLinkY(this.definePositionY(!0,2)),h=this.synchroLinkX(this.definePositionX(!1,2)),f=this.synchroLinkY(this.definePositionY(!1,2)),m=a||(p+h)/2,g=o||(c+f)/2):(p=e,c=t,h=i,f=n,m=a,g=o);var y=0,v=0;this.props.isIncurved.value?(y=m,v=g):(y=(p+h)/2,v=(c+f)/2);var x=Math.sqrt((p-y)*(p-y)+(c-v)*(c-v)),k=180*Math.atan2(c-v,p-y)/Math.PI,C=(p+y)/2,I=(c+v)/2,S=C-x/2,E=I,M=Math.sqrt((h-y)*(h-y)+(f-v)*(f-v)),L=180*Math.atan2(f-v,h-y)/Math.PI,O=(h+y)/2,T=(f+v)/2,B=O-M/2,A=T,D=Math.sqrt((p-h)*(p-h)+(c-f)*(c-f)),w=180*Math.atan2(c-f,p-h)/Math.PI,P=(p+h)/2,j=(c+f)/2,G=P-D/2,V=j,R=this.defineValueTooptip("monodirectional"),F=this.defineValueTooptip("bidirectional","A"),U=this.defineValueTooptip("bidirectional","B"),z=this.props.linkUrl.followLink;if("double"===r){var W=u.a.createElement("div",null);W=F?u.a.createElement(d.Tooltip,{content:F,placement:this.props.tooltipPositionA.value},u.a.createElement("div",{id:"linkA",style:{position:"absolute",zIndex:this.props.zIndex,top:E-4,left:S,transform:"rotate("+k.toString()+"deg)",width:x}},u.a.createElement("div",{id:"arrow1",style:{display:"flex",alignContent:"stretch"}},u.a.createElement("div",{className:"arrowTriangle",style:{width:"0",height:"0",borderLeft:this.defineSizeLink()+"px solid transparent",borderRight:this.defineSizeLink()+"px solid transparent",borderBottom:this.defineSizeLink()+"px solid "+this.defineBackColor("A"),transform:"rotate(270deg)"}}),u.a.createElement("div",{style:{border:this.defineBorderSize("A")+"px solid "+this.defineBorderColor("A"),backgroundColor:this.defineBackColor("A"),width:x,height:this.defineSizeLink()+"px"}})))):u.a.createElement("div",{id:"linkA",style:{position:"absolute",zIndex:this.props.zIndex,top:E-4,left:S,transform:"rotate("+k.toString()+"deg)",width:x}},u.a.createElement("div",{id:"arrow1",style:{display:"flex",alignContent:"stretch"}},u.a.createElement("div",{className:"arrowTriangle",style:{width:"0",height:"0",borderLeft:this.defineSizeLink()+"px solid transparent",borderRight:this.defineSizeLink()+"px solid transparent",borderBottom:this.defineSizeLink()+"px solid "+this.defineBackColor("A"),transform:"rotate(270deg)"}}),u.a.createElement("div",{style:{border:this.defineBorderSize("A")+"px solid "+this.defineBorderColor("A"),backgroundColor:this.defineBackColor("A"),width:x,height:this.defineSizeLink()+"px"}})));var Y=u.a.createElement("div",null);return Y=U?u.a.createElement(d.Tooltip,{content:U,placement:this.props.tooltipPositionB.value},u.a.createElement("div",{id:"linkB",style:{position:"absolute",zIndex:this.props.zIndex,top:A-4,left:B,transform:"rotate("+L.toString()+"deg)",width:M}},u.a.createElement("div",{id:"arrow2",style:{display:"flex",alignContent:"stretch"}},u.a.createElement("div",{className:"arrowTriangle",style:{width:"0",height:"0",borderLeft:this.defineSizeLink()+"px solid transparent",borderRight:this.defineSizeLink()+"px solid transparent",borderBottom:this.defineSizeLink()+"px solid "+this.defineBackColor("B"),transform:"rotate(270deg)"}}),u.a.createElement("div",{style:{border:this.defineBorderSize("B")+"px solid "+this.defineBorderColor("B"),backgroundColor:this.defineBackColor("B"),width:M,height:this.defineSizeLink()+"px"}})))):u.a.createElement("div",{id:"linkB",style:{position:"absolute",zIndex:this.props.zIndex,top:A-4,left:B,transform:"rotate("+L.toString()+"deg)",width:M}},u.a.createElement("div",{id:"arrow2",style:{display:"flex",alignContent:"stretch"}},u.a.createElement("div",{className:"arrowTriangle",style:{width:"0",height:"0",borderLeft:this.defineSizeLink()+"px solid transparent",borderRight:this.defineSizeLink()+"px solid transparent",borderBottom:this.defineSizeLink()+"px solid "+this.defineBackColor("B"),transform:"rotate(270deg)"}}),u.a.createElement("div",{style:{border:this.defineBorderSize("B")+"px solid "+this.defineBorderColor("B"),backgroundColor:this.defineBackColor("B"),width:M,height:this.defineSizeLink()+"px"}}))),u.a.createElement("a",{href:z,id:"link"},u.a.createElement("div",null,W,u.a.createElement("div",{id:"labelMainMetric"+this.props.id,style:{textDecoration:this.defineTextDecoration(),fontStyle:this.defineFontStyle(),fontWeight:this.defineFontWeight(),position:"absolute",zIndex:9999,top:I+-1*parseInt(this.props.labelAPositionY,10)-this.labelSynchroY("A"),left:C+parseInt(this.props.labelAPositionX,10)-this.labelSynchroX("A"),fontSize:this.props.sizePolice,backgroundColor:"white",color:this.defineColorTextLabel(),padding:"0"}},this.defineTextObject(this.props.valueMainMetricA))),u.a.createElement("div",null,Y,u.a.createElement("div",{id:"labelMainMetricB"+this.props.id,style:{textDecoration:this.defineTextDecoration(),fontStyle:this.defineFontStyle(),fontWeight:this.defineFontWeight(),position:"absolute",zIndex:9999,top:T+-1*parseInt(this.props.labelBPositionY,10)-this.labelSynchroY("B"),left:O+parseInt(this.props.labelBPositionX,10)-this.labelSynchroX("B"),fontSize:this.props.sizePolice,backgroundColor:"white",color:this.defineColorTextLabel(),padding:"0"}},this.defineTextObject(this.props.valueMainMetricB))))}if("AB"===r){W=u.a.createElement("div",null);W=R?u.a.createElement(d.Tooltip,{content:R,placement:this.props.tooltipPositionA.value},u.a.createElement("div",{id:"partA",style:{position:"absolute",zIndex:this.props.zIndex,top:E-4,left:S,transform:"rotate("+k.toString()+"deg)",width:x}},u.a.createElement("div",{style:{padding:parseInt(this.defineBorderSize("A"),10)/2+"px",border:this.defineBorderSize("A")+"px solid "+this.defineBorderColor("A"),backgroundColor:this.defineBackColor("A"),width:x,height:this.defineSizeLink()+"px"}}))):u.a.createElement("div",{id:"partA",style:{position:"absolute",zIndex:this.props.zIndex,top:E-4,left:S,transform:"rotate("+k.toString()+"deg)",width:x}},u.a.createElement("div",{style:{padding:parseInt(this.defineBorderSize("A"),10)/2+"px",border:this.defineBorderSize("A")+"px solid "+this.defineBorderColor("A"),backgroundColor:this.defineBackColor("A"),width:x,height:this.defineSizeLink()+"px"}}));Y=u.a.createElement("div",null);if(Y=R?u.a.createElement(d.Tooltip,{content:R,placement:this.props.tooltipPositionA.value},u.a.createElement("div",{id:"partB",style:{position:"absolute",zIndex:this.props.zIndex,top:A-4,left:B,transform:"rotate("+L.toString()+"deg)",width:M}},u.a.createElement("div",{id:"arrow2",style:{display:"flex"}},u.a.createElement("div",{style:{border:this.defineBorderSize("A")+"px solid "+this.defineBorderColor("A"),backgroundColor:this.defineBackColor("A"),width:M,height:this.defineSizeLink()+"px"}}),u.a.createElement("div",{className:"arrowTriangle",style:{width:"0",height:"0",borderLeft:this.defineSizeLink()+"px solid transparent",borderRight:this.defineSizeLink()+"px solid transparent",borderBottom:this.defineSizeLink()+"px solid "+this.defineBackColor("A"),transform:"rotate(90deg)"}})))):u.a.createElement("div",{id:"partB",style:{position:"absolute",zIndex:this.props.zIndex,top:A-4,left:B,transform:"rotate("+L.toString()+"deg)",width:M,height:this.defineSizeLink()+"px"}},u.a.createElement("div",{id:"arrow2",style:{display:"flex"}},u.a.createElement("div",{style:{border:this.defineBorderSize("A")+"px solid "+this.defineBorderColor("A"),backgroundColor:this.defineBackColor("A"),width:M,height:this.defineSizeLink()+"px"}}),u.a.createElement("div",{className:"arrowTriangle",style:{width:"0",height:"0",borderLeft:this.defineSizeLink()+"px solid transparent",borderRight:this.defineSizeLink()+"px solid transparent",borderBottom:this.defineSizeLink()+"px solid "+this.defineBackColor("A"),transform:"rotate(90deg)"}}))),this.props.isIncurved.value)return u.a.createElement("a",{href:z},W,Y,u.a.createElement("div",{id:"labelMainMetric"+this.props.id,style:{textDecoration:this.defineTextDecoration(),fontStyle:this.defineFontStyle(),fontWeight:this.defineFontWeight(),position:"absolute",zIndex:9999,top:v+-1*parseInt(this.props.labelAPositionY,10)-this.labelSynchroY("A"),left:y+parseInt(this.props.labelAPositionX,10)-this.labelSynchroX("A"),backgroundColor:"white",fontSize:this.props.sizePolice,color:this.defineColorTextLabel(),padding:"0",cursor:"pointer"}},this.defineTextObject(this.props.valueMainMetricA)));var X=u.a.createElement("div",null);return X=R?u.a.createElement(d.Tooltip,{content:R,placement:this.props.tooltipPositionA.value},u.a.createElement("div",{id:"link",style:{position:"absolute",zIndex:this.props.zIndex,top:V-4,left:G,transform:"rotate("+w.toString()+"deg)",width:D}},u.a.createElement("div",{id:"arrow1",style:{display:"flex",justifyContent:"center"}},u.a.createElement("div",{className:"arrowTriangle",style:{width:"0",height:"0",borderLeft:this.defineSizeLink()+"px solid transparent",borderRight:this.defineSizeLink()+"px solid transparent",borderBottom:this.defineSizeLink()+"px solid "+this.defineBackColor("A"),transform:"rotate(270deg)"}}),u.a.createElement("div",{style:{border:this.defineBorderSize("A")+"px solid "+this.defineBorderColor("A"),backgroundColor:this.defineBackColor("A"),width:D,height:this.defineSizeLink()+"px"}})))):u.a.createElement("div",{id:"link",style:{position:"absolute",zIndex:this.props.zIndex,top:V-4,left:G,transform:"rotate("+w.toString()+"deg)",width:D}},u.a.createElement("div",{id:"arrow1",style:{display:"flex",justifyContent:"center"}},u.a.createElement("div",{className:"arrowTriangle",style:{width:"0",height:"0",borderLeft:this.defineSizeLink()+"px solid transparent",borderRight:this.defineSizeLink()+"px solid transparent",borderBottom:this.defineSizeLink()+"px solid "+this.defineBackColor("A"),transform:"rotate(270deg)"}}),u.a.createElement("div",{style:{border:this.defineBorderSize("A")+"px solid "+this.defineBorderColor("A"),backgroundColor:this.defineBackColor("A"),width:D,height:this.defineSizeLink()+"px"}}))),u.a.createElement("a",{href:z,target:"_blank"},X,u.a.createElement("div",{id:"labelMainMetric"+this.props.id,style:{textDecoration:this.defineTextDecoration(),fontStyle:this.defineFontStyle(),fontWeight:this.defineFontWeight(),position:"absolute",zIndex:9999,top:j+-1*parseInt(this.props.labelAPositionY,10)-this.labelSynchroY("A"),left:P+parseInt(this.props.labelAPositionX,10)-this.labelSynchroX("A"),backgroundColor:"white",fontSize:this.props.sizePolice,color:this.defineColorTextLabel(),padding:"0",cursor:"pointer"}},this.defineTextObject(this.props.valueMainMetricA)))}if("no"===r){if(this.props.isIncurved.value){W=u.a.createElement("div",null);W=R?u.a.createElement(d.Tooltip,{content:R,placement:this.props.tooltipPositionA.value},u.a.createElement("div",{id:"partA",style:{position:"absolute",zIndex:this.props.zIndex,top:E,left:S,transform:"rotate("+k.toString()+"deg)",height:this.defineBorderSize("A")+"px",width:x,border:this.defineBorderSize("A")+" solid "+this.defineBorderColor("A"),backgroundColor:this.defineBackColor("A")}})):u.a.createElement("div",{id:"partA",style:{position:"absolute",zIndex:this.props.zIndex,top:E,left:S,transform:"rotate("+k.toString()+"deg)",height:this.defineBorderSize("A")+"px",width:x,border:this.defineBorderSize("A")+" solid "+this.defineBorderColor("A"),backgroundColor:this.defineBackColor("A")}});Y=u.a.createElement("div",null);return Y=R?u.a.createElement(d.Tooltip,{content:R,placement:this.props.tooltipPositionA.value},u.a.createElement("div",{id:"partB",style:{position:"absolute",zIndex:this.props.zIndex,top:A,left:B,transform:"rotate("+L.toString()+"deg)",height:this.defineBorderSize("A")+"px",width:M,border:this.defineBorderSize("A")+" solid "+this.defineBorderColor("A"),backgroundColor:this.defineBackColor("A")}})):u.a.createElement("div",{id:"partB",style:{position:"absolute",zIndex:this.props.zIndex,top:A,left:B,transform:"rotate("+L.toString()+"deg)",height:this.defineBorderSize("A")+"px",width:M,border:this.defineBorderSize("A")+" solid "+this.defineBorderColor("A"),backgroundColor:this.defineBackColor("A")}}),u.a.createElement("a",{href:z},W,Y,u.a.createElement("div",{id:"labelMainMetric"+this.props.id,style:{textDecoration:this.defineTextDecoration(),fontStyle:this.defineFontStyle(),fontWeight:this.defineFontWeight(),position:"absolute",zIndex:9999,top:v+-1*parseInt(this.props.labelAPositionY,10)-this.labelSynchroY("A"),left:y+parseInt(this.props.labelAPositionX,10)-this.labelSynchroX("A"),backgroundColor:"white",fontSize:this.props.sizePolice,color:this.defineColorTextLabel(),padding:"0",cursor:"pointer"}},this.defineTextObject(this.props.valueMainMetricA)))}W=u.a.createElement("div",null);return W=R?u.a.createElement(d.Tooltip,{content:R,placement:this.props.tooltipPositionA.value},u.a.createElement("div",{id:"link",style:{position:"absolute",zIndex:this.props.zIndex,top:V,left:G,transform:"rotate("+w.toString()+"deg)",width:D,height:this.defineBorderSize("A")+"px",border:this.defineBorderSize("A")+" solid "+this.defineBorderColor("A"),backgroundColor:this.defineBackColor("A")}})):u.a.createElement("div",{id:"link",style:{position:"absolute",zIndex:this.props.zIndex,top:V,left:G,transform:"rotate("+w.toString()+"deg)",width:D,height:this.defineBorderSize("A")+"px",border:this.defineBorderSize("A")+" solid "+this.defineBorderColor("A"),backgroundColor:this.defineBackColor("A")}}),u.a.createElement("a",{href:z,target:"_blank"},W,u.a.createElement("div",{id:"labelMainMetric"+this.props.id,style:{textDecoration:this.defineTextDecoration(),fontStyle:this.defineFontStyle(),fontWeight:this.defineFontWeight(),position:"absolute",zIndex:9999,top:j+-1*parseInt(this.props.labelAPositionY,10)-this.labelSynchroY("A"),left:P+parseInt(this.props.labelAPositionX,10)-this.labelSynchroX("A"),backgroundColor:"white",fontSize:this.props.sizePolice,color:this.defineColorTextLabel(),padding:"0",cursor:"pointer"}},this.defineTextObject(this.props.valueMainMetricA)))}return u.a.createElement("div",null)},t.prototype.defineBackColor=function(e){var t=this,i="",n=this.props.seuil,a=0;a="A"===e?parseInt(this.props.valueMainMetricA,10):parseInt(this.props.valueMainMetricB,10),i=this.props.traceBack&&n.length>0&&""!==n[0].backColor?n[0].backColor:"black";var o=0;return n.forEach((function(e){var n=0;0===(n=""===e.lowerLimitMin?0:parseInt(e.lowerLimitMin.substring(1),10))?a>=n&&a<=parseInt(e.lowerLimitMax,10)&&(i=e.backColor):t.props.seuil.length===o+1?a>n&&(i=e.backColor):a>n&&a<=parseInt(e.lowerLimitMax,10)&&(i=e.backColor),o++})),i},t.prototype.defineBorderColor=function(e){var t=this,i="",n=this.props.seuil,a=0;a="A"===e?parseInt(this.props.valueMainMetricA,10):parseInt(this.props.valueMainMetricB,10),i=this.props.traceBorder&&n.length>0&&""!==n[0].borderColor?n[0].borderColor:"black";var o=0;return n.forEach((function(e){var n=0;0===(n=""===e.lowerLimitMin?0:parseInt(e.lowerLimitMin.substring(1),10))?a>=n&&a<=parseInt(e.lowerLimitMax,10)&&(i=e.borderColor):t.props.seuil.length===o+1?a>n&&(i=e.borderColor):a>n&&a<=parseInt(e.lowerLimitMax,10)&&(i=e.borderColor),o++})),i},t.prototype.defineBorderSize=function(e){var t=this,i="",n=this.props.seuil,a=0;a="A"===e?parseInt(this.props.valueMainMetricA,10):parseInt(this.props.valueMainMetricB,10),i=this.props.traceBorder&&n.length>0&&""!==n[0].sizeBorder?n[0].sizeBorder:"0";var o=0;return n.forEach((function(e){var n=0;0===(n=""===e.lowerLimitMin?0:parseInt(e.lowerLimitMin.substring(1),10))?a>=n&&a<=parseInt(e.lowerLimitMax,10)&&(i=e.sizeBorder):t.props.seuil.length===o+1?a>n&&(i=e.sizeBorder):a>n&&a<=parseInt(e.lowerLimitMax,10)&&(i=e.sizeBorder),o++})),i},t.prototype.render=function(){var e=this.synchroLinkX(parseInt(this.props.positionXADefault,10),"xA"),t=this.synchroLinkY(parseInt(this.props.positionYADefault,10),"yA"),i=this.synchroLinkX(parseInt(this.props.positionXBDefault,10),"xB"),n=this.synchroLinkY(parseInt(this.props.positionYBDefault,10),"yB"),a=this.synchroLinkX(parseInt(this.props.positionXCDefault,10)||0,"xC"),o=this.synchroLinkY(parseInt(this.props.positionYCDefault,10)||0,"yC"),r=this.props.orientationLink;return u.a.createElement("div",null,this.drawLink(e,t,i,n,a,o,r))},t}(u.a.Component),xe=function(e){function t(t){var i=e.call(this,t)||this;return i.setStateAsyncFinalHTML=function(e){return new Promise((function(t){i.setState(e,t)}))},i.fillLowerLimit=function(e,t){var i,n,a=[],o=0,r=e.length-1;try{for(var l=p(e),s=l.next();!s.done;s=l.next()){var c=s.value;a.push(u.a.createElement("div",{key:t+"LowerLimit"+o,className:"LegendMatt"},u.a.createElement("span",{style:{padding:"5px",width:"130px",backgroundColor:c.backColor,border:c.sizeBorder+"px solid "+c.borderColor,listStyleType:"none",display:"inline-block",textAlign:"center"}},e.length>1&&u.a.createElement("span",{style:{fontSize:"10px"}},0===o?"-∞":c.lowerLimitMin," - ",o===r?"+∞":c.lowerLimitMax)))),++o}}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}return a},i.fillRegion=function(){var e,t,n=i.props.options.regionCoordinateSpace,a=[];try{for(var o=p(n),r=o.next();!r.done;r=o.next()){var l=r.value,s=i.fillLowerLimit(l.lowerLimit,"region"),c=u.a.createElement("div",{key:l.id+"DisplayLegendRegion"},l.label,s);a.push(c)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return a},i.closeLegend=function(e){i.props.callBackClose()},i.fillPoint=function(){var e,t,n=i.props.options.arrayPoints,a=[];try{for(var o=p(n),r=o.next();!r.done;r=o.next()){var l=r.value,s=i.fillLowerLimit(l.lowerLimit,"point"),c=l.label||l.name,d=u.a.createElement("div",{key:c+"DisplayLegendPoint"},c,s);a.push(d)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return a},i.fillLink=function(){var e,t,n=i.props.options.arrayOrientedLinks,a=[];try{for(var o=p(n),r=o.next();!r.done;r=o.next()){var l=r.value,s=i.fillLowerLimit(l.lowerLimit,"link"),c=l.label||l.name,d=u.a.createElement("div",{key:c+"DisplayLegendLink"},c,s);a.push(d)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return a},i.renduState=function(){return l(i,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=u.a.createElement("div",{key:"contentLegend",style:{position:"relative",left:this.state.legend.x,top:this.state.legend.y,maxWidth:"100%",zIndex:"auto"},hidden:this.state.legend.hiddenLegend},u.a.createElement("article",{id:"L",style:{width:"200px",position:"absolute",overflowY:"scroll",margin:"0",height:"240px",backgroundColor:"#FFF",color:"#000",border:"4px solid #299c46",borderRadius:"4px",scrollbarColor:"#299c46",scrollbarWidth:"thin",zIndex:9999,resize:"both"}},u.a.createElement("div",{key:"legendTitle",style:{backgroundImage:"linear-gradient(90deg, rgb(41, 42, 45), rgb(0, 0, 0))"}},u.a.createElement("h5",{style:{width:"100%",fontSize:"20px",display:"flex",padding:"10px"}},"Legend",u.a.createElement(d.Button,{onClick:this.closeLegend,style:{marginLeft:"auto"},id:"iconclose"},u.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))),u.a.createElement("div",{key:"legendTitleRegion",style:{backgroundImage:"linear-gradient(90deg, rgb(41, 42, 45), rgb(0, 0, 0))"}},u.a.createElement("p",{style:{fontSize:"15px",padding:"10px 0 10px 14px",fontWeight:"bold",color:"white"}},"Region"))),u.a.createElement("div",{key:"regionLegend",style:{paddingLeft:"5px",lineHeight:"1.5"}},this.fillRegion()),u.a.createElement("div",{key:"legendTitlePoint",style:{backgroundImage:"linear-gradient(90deg, rgb(41, 42, 45), rgb(0, 0, 0))"}},u.a.createElement("p",{style:{fontSize:"15px",padding:"10px 0 10px 14px",fontWeight:"bold",color:"white"}},"Point")),u.a.createElement("div",{key:"pointLegend",style:{paddingLeft:"5px",lineHeight:"1.5"}},this.fillPoint()),u.a.createElement("div",{key:"legendTitleLink",style:{backgroundImage:"linear-gradient(90deg, rgb(41, 42, 45), rgb(0, 0, 0))"}},u.a.createElement("p",{style:{fontSize:"15px",padding:"10px 0 10px 14px",fontWeight:"bold",color:"white"}},"Oriented Link")),u.a.createElement("div",{key:"linkLegend",style:{paddingLeft:"5px"}},this.fillLink()))),[4,this.setStateAsyncFinalHTML({finalHTML:e})];case 1:return t.sent(),[2]}}))}))},i.setStateLegendAsync=function(e){return new Promise((function(t){i.setState(e,t)}))},i.componentDidUpdate=function(e,t){return l(i,void 0,void 0,(function(){return s(this,(function(i){switch(i.label){case 0:return e===this.props&&t.legend.hiddenLegend===this.props.options.legend.hiddenLegend?[3,2]:[4,this.setStateLegendAsync({legend:this.props.options.legend})];case 1:i.sent(),this.renduState(),i.label=2;case 2:return[2]}}))}))},i.componentDidMount=function(){i.renduState()},i.state={finalHTML:u.a.createElement("div",null),legend:i.props.options.legend},i}return o(t,e),t.prototype.render=function(){return u.a.createElement("div",{key:"contentHtmlLegend"},this.state.finalHTML)},t}(u.a.Component),ke=function(e){function t(t){var i=e.call(this,t)||this;return i.defineLimit=function(){var e=i.props.options.coordinateSpaceInitial,t=u.a.createElement("div",null);return""!==i.props.options.baseMap.image||i.props.options.baseMap.modeSVG||(t=u.a.createElement(be,{key:"limitCoor",color:"orange",coordinateInitial:e,id:"initialSpace",onOptionsChange:i.props.onOptionsChange,options:i.props.options,data:i.props.data,buttonAddLinkIsActive:i.state.buttonAddLinkIsActive,buttonAddIncurvedLinkIsActive:i.state.buttonAddIncurvedLinkIsActive})),t},i.getCoordinatesToDrawPointWithClick=function(e){var t,n,a=i.props.options.coordinateSpaceInitial.coordinate,o=parseInt(a.xMin,10),r=parseInt(a.xMax,10),l=parseInt(a.yMin,10),s=parseInt(a.yMax,10),p=e.nativeEvent.clientX-24,c=r-o,u=s-l,d=parseInt(i.props.options.baseMap.height,10);t=Math.round(p),n=Math.round(d-e.nativeEvent.layerY),"initialSpace"!==e.nativeEvent.target.id&&"mainPanel"!==e.nativeEvent.target.id&&"Intent"!==e.nativeEvent.target.id&&e.nativeEvent.target.id!=="oct"+i.props.options.baseMap.idSVG&&e.nativeEvent.target.id!==i.props.options.baseMap.idSVG||i.createPointToClick(t,n,c,u)},i.defineIdPoint=function(){var e=1;return 0===i.props.options.arrayPoints.length?e:e=i.props.options.arrayPoints[i.props.options.arrayPoints.length-1].id+1},i.createPointToClick=function(e,t,n,a){var o=i.defineIdPoint(),l=new b("",!1,"white","black",{bold:!1,italic:!1,underline:!1},!0,{legendElement:"",numericFormatElement:"5",unit:"",displayObjectInTooltip:!1,addColorTextElement:!1,colorTextElement:"white",addColorBackElement:!1,colorBackElement:"black"},{legendElement:"",numericFormatElement:"5",unit:"",displayObjectInTooltip:!0,addColorTextElement:!0,colorTextElement:"white",addColorBackElement:!0,colorBackElement:"black"}),s=new y("","",""),p=new m("0","0","0","0",{},{}),c=new f(o,s,"",[],"",l,{key:"",unit:"",format:"",keyValue:"",refId:"",manageValue:"avg"},[],!1,!1,!1,p,"point"+o.toString(),"",{label:"Yes",value:"true"},{label:"Circle",value:"circle"},"12",{label:"Medium",value:"medium"},"0",e.toString(),t.toString(),"black",[],[],n.toString(),a.toString(),e.toString(),t.toString()),u=i.props.options.arrayPoints;u.push(c),i.props.onOptionsChange(r(r({},i.props.options),{indexPoint:o,arrayPoints:u})),i.props.options.newPoint=!0},i.updatePositionOrientedLink=function(e){var t,n,a,o,r,l,s=i.props.options.arrayOrientedLinks;try{for(var c=p(s),u=c.next();!u.done;u=c.next()){var d=u.value;try{for(var h=(a=void 0,p(e.associateOrientedLinksIn)),f=h.next();!f.done;f=h.next()){f.value.name===d.name&&(d.pointAPositionX=e.positionShapeX,d.pointAPositionY=e.positionShapeY)}}catch(e){a={error:e}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}try{for(var m=(r=void 0,p(e.associateOrientedLinksOut)),g=m.next();!g.done;g=m.next()){g.value.name===d.name&&(d.pointBPositionX=e.positionShapeX,d.pointBPositionY=e.positionShapeY)}}catch(e){r={error:e}}finally{try{g&&!g.done&&(l=m.return)&&l.call(m)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}},i.addAssociateOrientedLinkToPoint=function(e,t,n){var a=0;i.props.options.arrayPoints.forEach((function(o){var r=o.label||o.name;e===r?i.props.options.arrayOrientedLinks.forEach((function(e){e.id===n&&i.props.options.arrayPoints[a].associateOrientedLinksIn.push({label:e.label,name:e.name})})):t===r&&i.props.options.arrayOrientedLinks.forEach((function(e){e.id===n&&i.props.options.arrayPoints[a].associateOrientedLinksOut.push({label:e.label,name:e.name})})),a++}))},i.updateAssociateOrientedLinkInToPoint=function(){var e=0;i.props.options.arrayPoints.forEach((function(t){var n=[],a=t.label||t.name;i.props.options.arrayOrientedLinks.forEach((function(e){e.pointIn===a&&n.push({label:e.label,name:e.name})})),i.props.options.arrayPoints[e].associateOrientedLinksIn=n,e++}))},i.updateAssociateOrientedLinkOutToPoint=function(){var e=0;i.props.options.arrayPoints.forEach((function(t){var n=[],a=t.label||t.name;i.props.options.arrayOrientedLinks.forEach((function(e){e.pointOut===a&&n.push({label:e.label,name:e.name})})),i.props.options.arrayPoints[e].associateOrientedLinksOut=n,e++}))},i.resetCoordinatesToDrawLinkWithClick=function(){i.props.options.coordinatesToDrawLinkWithClick[1].labelPoint="",i.props.options.coordinatesToDrawLinkWithClick[1].point={},i.props.options.coordinatesToDrawLinkWithClick[1].labelRegion="",i.props.options.coordinatesToDrawLinkWithClick[1].region={},i.props.options.coordinatesToDrawLinkWithClick[2].labelPoint="",i.props.options.coordinatesToDrawLinkWithClick[2].point={},i.props.options.coordinatesToDrawLinkWithClick[2].labelRegion="",i.props.options.coordinatesToDrawLinkWithClick[2].region={}},i.getCoordinatesToDrawOrientedLinkWithClick=function(e){var t=i.props.options.coordinatesToDrawLinkWithClick,n=t[1],a=t[2],o=t[3],r=parseInt(i.props.options.baseMap.height,10),l=i.props.options.coordinateSpaceInitial.coordinate,s=parseInt(l.xMin,10),p=parseInt(l.xMax,10),c=parseInt(l.yMin,10),u=parseInt(l.yMax,10),d=p-s,h=u-c,f=e.nativeEvent.clientX-24,m=0,g=0;if(m=Math.round(f),g=Math.round(r-e.nativeEvent.layerY),"initialSpace"===e.nativeEvent.target.id||"Intent"===e.nativeEvent.target.id||"mainPanel"===e.nativeEvent.target.id||e.nativeEvent.target.id==="oct"+i.props.options.baseMap.idSVG||e.nativeEvent.target.id===i.props.options.baseMap.idSVG)0===t[0].id?(n.x=m,n.xDefault=m,n.y=g,n.yDefault=g,t[0].id++):1===t[0].id&&(a.x=m,a.xDefault=m,a.y=g,a.yDefault=g,o.x=((parseInt(n.x,10)+parseInt(a.x,10))/2).toString(),o.y=((parseInt(n.y,10)+parseInt(a.y,10))/2).toString(),t[0].id=0,i.createOrientedLinkToClick({label:"No",value:!1},d.toString(),h.toString()),i.resetCoordinatesToDrawLinkWithClick());else if(e.nativeEvent.target.id.startsWith("point")){var b=parseInt(e.nativeEvent.target.id.charAt(5)+e.nativeEvent.target.id.charAt(6),10);i.props.options.arrayPoints.forEach((function(e){if(e.id===b){var t=i.props.options.coordinatesToDrawLinkWithClick,r=e.label||e.name;0===t[0].id?(n.x=e.positionShapeX,n.xDefault=e.positionXDefault,n.y=e.positionShapeY,n.yDefault=e.positionYDefault,n.labelPoint=r,n.point=e,t[0].id++):1===t[0].id&&(a.x=e.positionShapeX,a.xDefault=e.positionXDefault,a.y=e.positionShapeY,a.yDefault=e.positionYDefault,a.labelPoint=r,a.point=e,o.x=((parseInt(n.x,10)+parseInt(a.x,10))/2).toString(),o.y=((parseInt(n.y,10)+parseInt(a.y,10))/2).toString(),t[0].id=0,i.createOrientedLinkToClick({label:"No",value:!1},d.toString(),h.toString()),i.resetCoordinatesToDrawLinkWithClick())}}))}else{i.props.options.regionCoordinateSpace.forEach((function(t){var r=parseInt(t.coords.xMin,10),l=parseInt(t.coords.xMax,10),s=parseInt(t.coords.yMin,10),p=parseInt(t.coords.yMax,10),c=parseInt(t.coordsDefault.xMin,10),u=parseInt(t.coordsDefault.xMax,10),f=parseInt(t.coordsDefault.yMin,10),b=parseInt(t.coordsDefault.yMax,10);if(e.nativeEvent.target.id.startsWith("region")){if(parseInt(e.nativeEvent.target.id.charAt(6)+e.nativeEvent.target.id.charAt(7),10)===t.id){var y=i.props.options.coordinatesToDrawLinkWithClick;m=(r+l)/2,g=(p+s)/2;var v=(c+u)/2,x=(b+f)/2;0===y[0].id?(n.x=m,n.xDefault=v,n.y=g,n.yDefault=x,n.labelRegion=t.label,n.region=t,y[0].id++):1===y[0].id&&(a.x=m,a.xDefault=v,a.y=g,a.yDefault=x,a.labelRegion=t.label,a.region=t,o.x=((parseInt(n.x,10)+parseInt(a.x,10))/2).toString(),o.y=((parseInt(n.y,10)+parseInt(a.y,10))/2).toString(),y[0].id=0,i.createOrientedLinkToClick({label:"No",value:!1},d.toString(),h.toString()),i.resetCoordinatesToDrawLinkWithClick())}}else if(e.nativeEvent.target.id!=="oct"+i.props.options.baseMap.idSVG&&e.nativeEvent.target.id.startsWith("oct")||e.nativeEvent.target.id!==i.props.options.baseMap.idSVG&&(e.nativeEvent.target.id.startsWith("path")||e.nativeEvent.target.id.startsWith("rect")||e.nativeEvent.target.id.startsWith("ellipse"))){if((i.props.options.baseMap.isUploaded?e.nativeEvent.target.id:e.nativeEvent.target.id.substr(3))===t.idSVG){var k=i.props.options.coordinatesToDrawLinkWithClick;m=0,g=0,0===k[0].id?(n.x=m,n.xDefault=m,n.y=g,n.yDefault=g,n.labelRegion=t.label,n.region=t,k[0].id++):1===k[0].id&&(a.x=m,a.xDefault=m,a.y=g,a.yDefault=g,a.labelRegion=t.label,a.region=t,o.x=((parseInt(n.x,10)+parseInt(a.x,10))/2).toString(),o.y=((parseInt(n.y,10)+parseInt(a.y,10))/2).toString(),k[0].id=0,i.createOrientedLinkToClick({label:"No",value:!1},d.toString(),h.toString()),i.resetCoordinatesToDrawLinkWithClick())}}else{if(parseInt(e.nativeEvent.target.offsetParent.id.charAt(6)+e.nativeEvent.target.offsetParent.id.charAt(7),10)===t.id){var C=i.props.options.coordinatesToDrawLinkWithClick;m=(r+l)/2,g=(p+s)/2,0===C[0].id?(n.x=m,n.y=g,n.labelRegion=t.label,n.region=t,C[0].id++):1===C[0].id&&(a.x=m,a.y=g,a.labelRegion=t.label,a.region=t,o.x=((parseInt(n.x,10)+parseInt(a.x,10))/2).toString(),o.y=((parseInt(n.y,10)+parseInt(a.y,10))/2).toString(),C[0].id=0,i.createOrientedLinkToClick({label:"No",value:!1},d.toString(),h.toString()),i.resetCoordinatesToDrawLinkWithClick())}}}))}},i.getCoordinatesToDrawIncurvedOrientedLinkWithClick=function(e){var t=i.props.options.coordinatesToDrawLinkWithClick,n=t[1],a=t[2],o=t[3],r=parseInt(i.props.options.baseMap.height,10),l=i.props.options.coordinateSpaceInitial.coordinate,s=parseInt(l.xMin,10),p=parseInt(l.xMax,10),c=parseInt(l.yMin,10),u=parseInt(l.yMax,10),d=p-s,h=u-c,f=e.nativeEvent.clientX-24,m=0,g=0;if(m=Math.round(f),g=Math.round(r-e.nativeEvent.layerY),"mainPanel"===e.nativeEvent.target.id||"initialSpace"===e.nativeEvent.target.id||"Intent"===e.nativeEvent.target.id||e.nativeEvent.target.id==="oct"+i.props.options.baseMap.idSVG||e.nativeEvent.target.id===i.props.options.baseMap.idSVG)0===t[0].id?(n.x=m,n.y=g,t[0].id++):1===t[0].id?(a.x=m,a.y=g,t[0].id++):2===t[0].id&&(o.x=m,o.y=g,t[0].id=0,i.createOrientedLinkToClick({label:"Yes",value:!0},d.toString(),h.toString()),i.resetCoordinatesToDrawLinkWithClick());else if(e.nativeEvent.target.id.startsWith("point")){var b=parseInt(e.nativeEvent.target.id.charAt(5)+e.nativeEvent.target.id.charAt(6),10);i.props.options.arrayPoints.forEach((function(e){if(e.id===b){var t=i.props.options.coordinatesToDrawLinkWithClick,r=e.label||e.name;0===t[0].id?(n.x=e.positionShapeX,n.y=e.positionShapeY,n.labelPoint=r,n.point=e,t[0].id++):1===t[0].id?(a.x=e.positionShapeX,a.y=e.positionShapeY,a.labelPoint=r,a.point=e,t[0].id++):2===t[0].id&&(o.x=e.positionShapeX,o.y=e.positionShapeY,t[0].id=0,i.createOrientedLinkToClick({label:"Yes",value:!0},d.toString(),h.toString()),i.resetCoordinatesToDrawLinkWithClick())}}))}else{i.props.options.regionCoordinateSpace.forEach((function(t){var r=parseInt(t.coords.xMin,10),l=parseInt(t.coords.xMax,10),s=parseInt(t.coords.yMin,10),p=parseInt(t.coords.yMax,10);if(e.nativeEvent.target.id.startsWith("region")){if(parseInt(e.nativeEvent.target.id.charAt(6)+e.nativeEvent.target.id.charAt(7),10)===t.id){var c=i.props.options.coordinatesToDrawLinkWithClick;m=(r+l)/2,g=(p+s)/2,0===c[0].id?(n.x=m,n.y=g,n.labelRegion=t.label,n.region=t,c[0].id++):1===c[0].id?(a.x=m,a.y=g,a.labelRegion=t.label,a.region=t,c[0].id++):2===c[0].id&&(o.x=m,o.y=g,c[0].id=0,i.createOrientedLinkToClick({label:"Yes",value:!0},d.toString(),h.toString()),i.resetCoordinatesToDrawLinkWithClick())}}else if(e.nativeEvent.target.id!=="oct"+i.props.options.baseMap.idSVG&&e.nativeEvent.target.id.startsWith("oct")||e.nativeEvent.target.id!==i.props.options.baseMap.idSVG&&(e.nativeEvent.target.id.startsWith("path")||e.nativeEvent.target.id.startsWith("rect")||e.nativeEvent.target.id.startsWith("ellipse"))){if((i.props.options.baseMap.isUploaded?e.nativeEvent.target.id:e.nativeEvent.target.id.substr(3))===t.idSVG){var u=i.props.options.coordinatesToDrawLinkWithClick;m=0,g=0,0===u[0].id?(n.x=m,n.y=g,n.labelRegion=t.label,n.region=t,u[0].id++):1===u[0].id?(a.x=m,a.y=g,a.labelRegion=t.label,a.region=t,u[0].id++):2===u[0].id&&(o.x=m,o.y=g,u[0].id=0,i.createOrientedLinkToClick({label:"Yes",value:!0},d.toString(),h.toString()),i.resetCoordinatesToDrawLinkWithClick())}}else{if(parseInt(e.nativeEvent.target.offsetParent.id.charAt(6)+e.nativeEvent.target.offsetParent.id.charAt(7),10)===t.id){var f=i.props.options.coordinatesToDrawLinkWithClick;m=(r+l)/2,g=(p+s)/2,0===f[0].id?(n.x=m,n.y=g,n.labelRegion=t.label,n.region=t,f[0].id++):1===f[0].id?(a.x=m,a.y=g,a.labelRegion=t.label,a.region=t,f[0].id++):2===f[0].id&&(o.x=m,o.y=g,f[0].id=0,i.createOrientedLinkToClick({label:"Yes",value:!0},d.toString(),h.toString()),i.resetCoordinatesToDrawLinkWithClick())}}}))}},i.defineIdOrientedLink=function(){var e=1;return 0===i.props.options.arrayOrientedLinks.length?e:e=i.props.options.arrayOrientedLinks[i.props.options.arrayOrientedLinks.length-1].id+1},i.createOrientedLinkToClick=function(e,t,n){var a=i.props.options.coordinatesToDrawLinkWithClick,o=i.defineIdOrientedLink(),l="orientedLink"+o.toString(),s=i.props.options.zIndexOrientedLink+1,p=a[1],c=a[2],u=a[3],d=new b("",!1,"white","black",{bold:!1,italic:!1,underline:!1},!0,{legendElement:"",numericFormatElement:"5",unit:"",displayObjectInTooltip:!1,addColorTextElement:!1,colorTextElement:"white",addColorBackElement:!1,colorBackElement:"black"},{legendElement:"",numericFormatElement:"5",unit:"",displayObjectInTooltip:!0,addColorTextElement:!0,colorTextElement:"white",addColorBackElement:!0,colorBackElement:"black"}),h=new y("","",""),f=new m("0","0","0","0",{},{}),v=new g(o,h,"",[],"",d,{key:"",unit:"",format:"",keyValue:"",refId:"",manageValue:"avg"},[],!1,!1,!1,f,l,{label:"Monodirectional",value:"AB"},"9",p.x.toString(),p.y.toString(),"#5794F2",c.x.toString(),c.y.toString(),"#E54658","","",p.labelPoint,c.labelPoint,p.labelRegion,c.labelRegion,s,u.x,u.y,e,{key:"",unit:"",format:"",keyValue:"",refId:"",manageValue:"avg"},[],t,n,p.xDefault.toString(),p.yDefault.toString(),c.xDefault.toString(),c.yDefault.toString(),u.x,u.y),x=i.props.options.arrayOrientedLinks;x.push(v),i.props.onOptionsChange(r(r({},i.props.options),{arrayOrientedLinks:x,indexOrientedLink:o,zIndexOrientedLink:s,newOrientedLink:!0})),i.props.options.newOrientedLink=!0,i.addAssociateOrientedLinkToPoint(p.labelPoint||"",c.labelPoint||"",v.id),setTimeout((function(){i.displayOrientedLink()}),100)},i.defineValueX=function(e,t,n){var a="";if(n)if(""!==e.pointIn)i.props.options.arrayPoints.forEach((function(i){i.name!==e.pointIn&&i.label!==e.pointIn||(a=t?i.positionXDefault:i.positionShapeX)}));else if(""!==e.regionIn){i.props.options.regionCoordinateSpace.forEach((function(i){i.label===e.regionIn&&(a=t?(parseInt(i.coords.xMax,10)-parseInt(i.coords.xMin,10)).toString():(parseInt(i.coordsDefault.xMax,10)-parseInt(i.coordsDefault.xMin,10)).toString())}))}else a=t?e.pointAPositionX:e.pointAPositionXDefault;else if(""!==e.pointOut)i.props.options.arrayPoints.forEach((function(i){i.name!==e.pointOut&&i.label!==e.pointOut||(a=t?i.positionXDefault:i.positionShapeX)}));else if(""!==e.regionOut){i.props.options.regionCoordinateSpace.forEach((function(i){i.label===e.regionOut&&(a=t?(parseInt(i.coords.xMax,10)-parseInt(i.coords.xMin,10)).toString():(parseInt(i.coordsDefault.xMax,10)-parseInt(i.coordsDefault.xMin,10)).toString())}))}else a=t?e.pointBPositionX:e.pointBPositionXDefault;return a},i.defineValueY=function(e,t,n){var a="";if(n)if(""!==e.pointIn)i.props.options.arrayPoints.forEach((function(i){i.name===e.pointIn&&(a=t?i.positionYDefault:i.positionShapeY)}));else if(""!==e.regionIn){i.props.options.regionCoordinateSpace.forEach((function(i){i.label===e.regionIn&&(a=t?(parseInt(i.coords.yMax,10)-parseInt(i.coords.yMin,10)).toString():(parseInt(i.coordsDefault.yMax,10)-parseInt(i.coordsDefault.yMin,10)).toString())}))}else a=t?e.pointAPositionY:e.pointAPositionYDefault;else if(""!==e.pointOut)i.props.options.arrayPoints.forEach((function(i){i.name===e.pointIn&&(a=t?i.positionYDefault:i.positionShapeY)}));else if(""!==e.regionOut){i.props.options.regionCoordinateSpace.forEach((function(i){i.label===e.regionIn&&(a=t?(parseInt(i.coords.yMax,10)-parseInt(i.coords.yMin,10)).toString():(parseInt(i.coordsDefault.yMax,10)-parseInt(i.coordsDefault.yMin,10)).toString())}))}else a=t?e.pointBPositionY:e.pointBPositionYDefault;return a},i.getValuesAuxiliaryMetricsPoint=function(e){return C(e,i.props),i.getValuesAuxiliaryMetrics(e.metrics,e.mainMetric)},i.getValuesAuxiliaryMetricsOrientedLink=function(e){return S(e,i.props),i.getValuesAuxiliaryMetrics(e.metrics,e.mainMetric)},i.getValuesAuxiliaryMetricsOrientedLinkB=function(e){return S(e,i.props),i.getValuesAuxiliaryMetrics(e.metricsB,e.mainMetricB)},i.getValuesAuxiliaryMetrics=function(e,t){var i=[];return e.length<1&&e.forEach((function(e){var n,a=0,o=0,r="";if(e.returnQuery&&e.returnQuery.length>0){var l=(null===(n=e.returnQuery)||void 0===n?void 0:n.length)||0;if(""!==e.key&&""!==e.keyValue)for(var s=0;s<l;s++){if((u=e.returnQuery[s]).fields[0].labels&&""!==t.refId&&(u.fields[0].labels[t.key]===t.keyValue||""===t.key&&""===t.keyValue)&&u.fields[0].labels[e.key]===e.keyValue)for(var p=u.fields[0].values.length,c=0;c<p;c++)u.fields[0].values.get(c)&&(o+=u.fields[0].values.get(c),a++)}else if(""!==t.refId)for(s=0;s<l;s++){var u;if((u=e.returnQuery[s]).fields[0].labels&&(u.fields[0].labels[t.key]===t.keyValue||""===t.key&&""===t.keyValue)){p=u.fields[0].values.length;for(var d=0;d<p;d++)u.fields[0].values.get(d)&&(o+=u.fields[0].values.get(d),a++)}}"avg"===e.manageValue?r=(o/a).toString():"sum"===e.manageValue?r=o.toString():"err"===e.manageValue&&(r=a>1?"error":o.toString())}""!==r&&i.push(r)})),i},i.changeValueButtonToLink=function(){i.setState({valueButton:"link"})},i.changeValueButtonToIncurvedLink=function(){i.setState({valueButton:"incurvedLink"})},i.changeValueButtonToPoint=function(){i.setState({valueButton:"point"})},i.getCoordinates=function(e){var t=i.state.valueButton;0!==i.state.numberClickDiv&&("link"===t?i.getCoordinatesToDrawOrientedLinkWithClick(e):"incurvedLink"===t?i.getCoordinatesToDrawIncurvedOrientedLinkWithClick(e):"point"===t&&i.getCoordinatesToDrawPointWithClick(e))},i.callInFunc=function(){i.state.buttonAddIncurvedLinkIsActive&&i.setState((function(e){return{buttonAddIncurvedLinkIsActive:!e.buttonAddIncurvedLinkIsActive}})),i.state.buttonAddLinkIsActive&&i.setState((function(e){return{buttonAddLinkIsActive:!e.buttonAddLinkIsActive}})),i.resetButtonManage(2)},i.updateButtonCss=function(){var e=u.a.createElement("div",{id:"allButton",style:{marginTop:"1%",marginBottom:"50px"}},u.a.createElement(d.Button,{style:{marginLeft:"1%",zIndex:18,position:"absolute"},variant:i.state.buttonManage[0]?"danger":"primary",className:"button",onClick:i.addNode},"Add Region"),u.a.createElement(d.Button,{style:{marginLeft:"15%",zIndex:18,position:"absolute"},variant:i.state.buttonManage[3]?"danger":"primary",className:"button",onClick:i.addPoint},"Add Point"),u.a.createElement(d.Button,{style:{marginLeft:"27%",zIndex:18,position:"absolute"},variant:i.state.buttonManage[1]?"danger":"primary",className:"button",onClick:i.addLink},"Add Oriented Link"),u.a.createElement(d.Button,{style:{marginLeft:"46%",zIndex:18,position:"absolute"},variant:i.state.buttonManage[4]?"danger":"primary",className:"button",onClick:i.addIncurvedLink},"Add Incurved Oriented Link"),u.a.createElement(d.Button,{id:"legnd",style:{marginLeft:"67%",zIndex:18,position:"absolute"},variant:i.state.buttonManage[2]?"danger":"primary",className:"button",onClick:i.callInFunc},"Position Legend"),u.a.createElement(d.Button,{style:{marginLeft:"85%",zIndex:18,position:"absolute"},id:"more",onWheel:i.ZoomIn,variant:"primary"},u.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})),u.a.createElement(d.Button,{style:{marginLeft:"90%",zIndex:18,position:"absolute"},id:"less",onWheel:i.ZoomOut,variant:"primary"},u.a.createElement("i",{className:"fa fa-minus","aria-hidden":"true"})));i.setState({allActionButton:e})},i.callMethod=function(){return l(i,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return 0!==this.state.numberClickDiv?[3,1]:(this.setState({numberClickDiv:1}),[3,3]);case 1:return[4,this.setAsyncButtonManage({buttonManage:[!1,!1,!1,!1,!1]})];case 2:e.sent(),this.setState({numberClickDiv:0}),this.updateButtonCss(),e.label=3;case 3:return[2]}}))}))},i.setAsyncButtonManage=function(e){return new Promise((function(t){i.setState(e,t)}))},i.resetButtonManage=function(e){return l(i,void 0,void 0,(function(){var t,i;return s(this,(function(n){switch(n.label){case 0:return t=this.state.buttonManage,i=t[e],t=[!1,!1,!1,!1,!1],i?(t[e]=!1,this.setState({numberClickDiv:0})):(2===e&&this.setState({hiddenLegend:!1,valueButton:""}),t[e]=!0,this.setState({numberClickDiv:1})),[4,this.setAsyncButtonManage({buttonManage:t})];case 1:return n.sent(),this.updateButtonCss(),[2]}}))}))},i.addNode=function(){i.state.buttonAddIncurvedLinkIsActive&&i.setState((function(e){return{buttonAddIncurvedLinkIsActive:!e.buttonAddIncurvedLinkIsActive}})),i.state.buttonAddLinkIsActive&&i.setState((function(e){return{buttonAddLinkIsActive:!e.buttonAddLinkIsActive}})),i.setState((function(e){return{nbClickButton:!e.buttonManage[0]}})),i.resetButtonManage(0),i.changeValueButtonToPoint()},i.addPoint=function(){i.state.buttonAddIncurvedLinkIsActive&&i.setState((function(e){return{buttonAddIncurvedLinkIsActive:!e.buttonAddIncurvedLinkIsActive}})),i.state.buttonAddLinkIsActive&&i.setState((function(e){return{buttonAddLinkIsActive:!e.buttonAddLinkIsActive}})),i.setState((function(e){return{nbClickButton:!e.buttonManage[3],valueButton:"point"}})),i.resetButtonManage(3),i.changeValueButtonToPoint()},i.addLink=function(){i.state.buttonAddIncurvedLinkIsActive&&i.setState((function(e){return{buttonAddIncurvedLinkIsActive:!e.buttonAddIncurvedLinkIsActive}})),i.setState((function(e){return{nbClickButton:!e.buttonManage[1],buttonAddLinkIsActive:!e.buttonAddLinkIsActive}})),i.resetButtonManage(1),i.changeValueButtonToLink()},i.addIncurvedLink=function(){i.state.buttonAddLinkIsActive&&i.setState((function(e){return{buttonAddLinkIsActive:!e.buttonAddLinkIsActive}})),i.setState((function(e){return{nbClickButton:!e.buttonManage[4],buttonAddIncurvedLinkIsActive:!e.buttonAddIncurvedLinkIsActive}})),i.resetButtonManage(4),i.changeValueButtonToIncurvedLink()},i.positionLegend=function(e){if(i.state.buttonManage[2]){var t=i.state.legend;t.x=e.nativeEvent.offsetX,t.y=i.props.options.baseMap.height>e.nativeEvent.offsetY?parseInt(e.nativeEvent.offsetY,10):parseInt(e.nativeEvent.offsetY,10)-28,t.hiddenLegend=!1,i.setState({legend:t}),i.props.onOptionsChange(r(r({},i.props.options),{legend:t}))}},i.handleClick=function(e){var t=i.state.legend;t.hiddenLegend=!i.state.legend.hiddenLegend,i.setState((function(e){return{legend:t}}))},i.tt=function(){var e=document.getElementById("path836");e&&(e.style.fill="red")},i.chargeRegion=function(){i.setState({displayRegion:u.a.createElement(be,{key:"limitCoor",color:"orange",coordinateInitial:i.props.options.coordinateSpaceInitial,id:"initialSpace",onOptionsChange:i.props.onOptionsChange,options:i.props.options,data:i.props.data,buttonAddLinkIsActive:i.state.buttonAddLinkIsActive,buttonAddIncurvedLinkIsActive:i.state.buttonAddIncurvedLinkIsActive})})},i.editIdString=function(e){for(var t=e.slice().split('id="'),i="",n=0;t.length>n;n++)if(t[n]){if(n>0){var a=t[n];t[n]='id="oct'+a}i+=t[n]}return i},i.checkIfDisplayButton=function(){var e,t,n=window.location.href.split("&"),a=!1;try{for(var o=p(n),l=o.next();!l.done;l=o.next()){"edit"===l.value&&(a=!0)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}a||i.props.onOptionsChange(r(r({},i.props.options),{displayButton:!1}))},i.componentDidMount=function(){return l(i,void 0,void 0,(function(){var e,t,i,n,a,o,l,p,c=this;return s(this,(function(s){return this.checkIfDisplayButton(),this.setState({currentImage:this.props.options.baseMap.image}),this.props.options.baseMap.modeSVG&&""!==this.props.options.baseMap.image?this.props.options.baseMap.isUploaded?(e="",t="",i=this.props.options.baseMap.image,this.setState({svg:i}),n=/id=["']\w*["']/i.exec(i),(a=/width=["']\w*["']/i.exec(i))&&a.length>0&&(e=a[0].split('"')[1]),(o=/height=["']\w*["']/i.exec(i))&&o.length>0&&(t=o[0].split('"')[1]),n&&n.length>0&&(l=n[0].split('"')).length>1&&((p=this.props.options.baseMap).idSVG=l[1],p.layerImage=this.props.options.baseMap.image,p.width=parseInt(e||"0",10).toString()||"",p.height=parseInt(t||"0",10).toString()||"",this.props.onOptionsChange(r(r({},this.props.options),{baseMap:p}))),this.chargeRegion()):fetch(this.props.options.baseMap.image).then((function(e){return e.text()})).then((function(e){c.setState({svg:e});var t=/id=["']\w*["']/i.exec(e);if(t&&t.length>0){var i=t[0].split('"');if(i.length>1){var n=document.getElementById(i[1]);if(n){var a=c.props.options.baseMap;a.idSVG=i[1],a.width=parseInt(n.getAttribute("width")||"0",10).toString()||"",a.height=parseInt(n.getAttribute("height")||"0",10).toString()||"",c.props.onOptionsChange(r(r({},c.props.options),{baseMap:a}))}}}})).then((function(){return c.chargeRegion()})).then((function(){var e=c.editIdString(c.state.svg),t=c.props.options.baseMap;t.layerImage=e,c.props.onOptionsChange(r(r({},c.props.options),{baseMap:t}))})):this.chargeRegion(),this.props.options.coordinateSpaceInitial.coordinate.xMax=this.props.options.baseMap.width,this.props.options.coordinateSpaceInitial.coordinate.yMax=this.props.options.baseMap.height,this.updateButtonCss(),[2]}))}))},i.ZoomIn=function(e){var t=document.getElementById("coordinateSpaces");t&&e.deltaY<0&&(console.log("scrolling up"),t.style.cursor="zoom-in",t.style.transform+="scale(1.01,1.01)translateX(0.5%)")},i.ZoomOut=function(e){var t=document.getElementById("coordinateSpaces");t&&e.deltaY<0&&(console.log("scrolling down"),t.style.cursor="zoom-out",t.style.transform+="scale(0.98,0.98)translateX(-1%)")},i.displayTooltipSVG=function(e){var t,n,a="";a=i.props.options.baseMap.isUploaded?e.target.id:e.target.id.substring(3);var o=i.props.options.regionCoordinateSpace,r={idSVG:a,x:"",y:""};try{for(var l=p(o),s=l.next();!s.done;s=l.next()){if(s.value.idSVG===a){var c=0,u=0,d=0,h=0,f="",m="";if("rect"===e.target.localName)c=parseInt(e.target.attributes.x.nodeValue,10),u=parseInt(e.target.attributes.y.nodeValue,10),d=parseInt(e.target.attributes.width.nodeValue,10),h=parseInt(e.target.attributes.height.nodeValue,10),f=(c+d).toString(),m=(u-h/2).toString();else if("ellipse"===e.target.localName)c=parseInt(e.target.attributes.cx.nodeValue,10),u=parseInt(e.target.attributes.cy.nodeValue,10),d=2*parseInt(e.target.attributes.rx.nodeValue,10),h=2*parseInt(e.target.attributes.ry.nodeValue,10),f=c.toString(),m=u.toString();else if("path"===e.target.localName){for(var g=e.target.attributes.d.nodeValue.split(" "),b=-2,y=1e6,v=0,x=-1,k=1e6,C=0,I=0;I<g.length;I++){var S=parseInt(g[I],10);I===b+3&&(S<y&&(y=S),S>v&&(v=S),b=I),I===x+3&&(S<k&&(k=S),S>C&&(C=S),x=I)}u=k,f=((c=y)+(d=v-y)).toString(),m=u.toString()}r.x=f,r.y=m,i.setState({dataTooltipSVG:r});var E=document.getElementById("tooltipSVG");E&&(E.style.display="initial")}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}},i.hideTooltipSVG=function(e){var t,n,a="";a=i.props.options.baseMap.isUploaded?e.target.id:e.target.id.substring(3);var o=i.props.options.regionCoordinateSpace;try{for(var r=p(o),l=r.next();!l.done;l=r.next()){if(l.value.idSVG===a)document.getElementById("tooltipSVG").style.display="none"}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},i.tooltip_SVG=function(){var e,t=document.getElementById("part1");null===(e=t)||void 0===e||e.addEventListener("mouseenter",(function(){var e;t.addEventListener("mouseover",(function(){var e=document.createElement("span"),i=document.createTextNode("rectanglered");e.appendChild(i),t.appendChild(e).style.position="absolute",t.appendChild(e).style.backgroundColor="#000000",t.appendChild(e).style.padding="8px",t.appendChild(e).style.float="top",t.appendChild(e).style.color="#d8d9da",t.appendChild(e).style.boxShadow="0 0 2px rgba(0, 0, 0, 0.5)",t.appendChild(e).style.borderRadius="2px",t.appendChild(e).style.fontWeight="500",t.addEventListener("mouseout",(function(){t.appendChild(e).style.visibility="hidden"}))}));var i=document.getElementById("part2");null===(e=i)||void 0===e||e.addEventListener("mouseenter",(function(){var e;i.addEventListener("mouseover",(function(){var e=document.createElement("span"),t=document.createTextNode("rectangleyellow");e.appendChild(t),i.appendChild(e).style.position="absolute",i.appendChild(e).style.backgroundColor="#000000",i.appendChild(e).style.padding="8px",i.appendChild(e).style.float="top",i.appendChild(e).style.color="#d8d9da",i.appendChild(e).style.boxShadow="0 0 2px rgba(0, 0, 0, 0.5)",i.appendChild(e).style.borderRadius="2px",i.appendChild(e).style.fontWeight="500",i.addEventListener("mouseout",(function(){i.appendChild(e).style.visibility="hidden"}))}));var t=document.getElementById("carre");null===(e=t)||void 0===e||e.addEventListener("mouseenter",(function(){t.addEventListener("mouseover",(function(){var e=document.createElement("span"),i=document.createTextNode("rectanglegreen");e.appendChild(i),t.appendChild(e).style.position="absolute",t.appendChild(e).style.backgroundColor="#000000",t.appendChild(e).style.padding="8px",t.appendChild(e).style.marginTop="20%",t.appendChild(e).style.color="#d8d9da",t.appendChild(e).style.boxShadow="0 0 2px rgba(0, 0, 0, 0.5)",t.appendChild(e).style.borderRadius="2px",t.appendChild(e).style.fontWeight="500",t.addEventListener("mouseout",(function(){t.appendChild(e).style.visibility="hidden"}))}))}))}))}))},i.SVG_PathImage=function(e){var t,n;i.displayTooltipSVG(e);var a=e.target,o=a.parentNode,r="";r=i.props.options.baseMap.isUploaded?e.target.id:e.target.id.substring(3);var l=i.props.options.regionCoordinateSpace;try{for(var s=p(l),c=s.next();!c.done;c=s.next()){var u=c.value;if(u.idSVG===r){var d=u.linkURL.followLink;if(d&&!document.getElementById("a"+r)&&!i.state.buttonAddIncurvedLinkIsActive&&!i.state.buttonAddLinkIsActive){var h=document.createElementNS("http://www.w3.org/2000/svg","a");h.setAttribute("id","a"+r),h.setAttribute("href",d),h.appendChild(a),o.appendChild(h)}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},i.fillCoordinate=function(){var e,t=i.props.options,n={position:"absolute",width:t.baseMap.width+"px",height:t.baseMap.height+"px",top:"15%",left:0};return e=t.regionCoordinateSpace.map((function(e,n){return u.a.createElement(ge,{key:"drawRectangleExtend"+n.toString(),uneCoor:e,useLimit:!1,limit:t.coordinateSpaceInitial.coordinate,onOptionsChange:i.props.onOptionsChange,options:i.props.options,data:i.props.data,id:"region"+e.id.toString(),buttonAddLinkIsActive:i.state.buttonAddLinkIsActive,buttonAddIncurvedLinkIsActive:i.state.buttonAddIncurvedLinkIsActive,widthInitialSpaceDefault:e.widthInitialSpaceDefault,heightInitialSpaceDefault:e.heightInitialSpaceDefault})})),u.a.createElement("ul",{style:n},e)},i.getValuesAuxiliaryMetricsRegionSVG=function(e){return x(e,i.props),i.getValuesAuxiliaryMetrics(e.metrics,e.mainMetric)},i.getConvertValueAuxMetrics=function(e,t){var i=t.textObj.generateAuxiliaryElement.numericFormatElement,n=parseInt(i,10)||1,a=t.textObj.generateAuxiliaryElement.unit;return(""!==i?parseFloat(e).toPrecision(n):e)+" "+a},i.displayAuxiliaryMetricsRegionSVG=function(e){var t,n,a=[],o=i.getValuesAuxiliaryMetrics(e.metrics,e.mainMetric),r=e.metrics,l=e.textObj.generateAuxiliaryElement.addColorTextElement,s=e.textObj.generateAuxiliaryElement.addColorBackElement,c=e.textObj.generateAuxiliaryElement.legendElement,d="",h="";d=l?e.textObj.generateAuxiliaryElement.colorTextElement:"white",h=s?e.textObj.generateAuxiliaryElement.colorBackElement:"black";var f={fontFamily:i.props.options.display.police,fontSize:"10px",marginTop:"5px",marginBottom:"0px",color:d},m={fontFamily:i.props.options.display.police,fontSize:"10px",marginTop:"5px",marginLeft:"5px",marginBottom:"0px",color:d},g={fontFamily:i.props.options.display.police,fontSize:"9px",marginLeft:"10px",marginBottom:"0px",color:d,whiteSpace:"nowrap"};if(r.length>0){a.push(u.a.createElement("p",{key:e.id+"contentToolTip1",style:f},"Auxiliary Metric")),a.push(u.a.createElement("p",{key:e.idSVG+"contentToolTip2",style:f},c));var b=1;try{for(var y=p(r),v=y.next();!v.done;v=y.next()){var x=v.value,k=i.getConvertValueAuxMetrics(o[b-1],e);a.push(u.a.createElement("p",{key:b+"region"+e.idSVG+"contentToolTip3",style:m},"+ Metric ",b)),a.push(u.a.createElement("p",{key:b+"region"+e.idSVG+"contentToolTip4",style:g},"- Value : ",k)),a.push(u.a.createElement("p",{key:b+"region"+e.idSVG+"contentToolTip5",style:g},"- Key : ",x.key)),a.push(u.a.createElement("p",{key:b+"region"+e.idSVG+"contentToolTip6",style:g},"- KeyValue : ",x.keyValue)),a.push(u.a.createElement("p",{key:b+"region"+e.idSVG+"contentToolTip7",style:g},"- Type : ",x.manageValue)),b++}}catch(e){t={error:e}}finally{try{v&&!v.done&&(n=y.return)&&n.call(y)}finally{if(t)throw t.error}}}return u.a.createElement("div",{style:{backgroundColor:h}},a)},i.defineMainMetric=function(e){var t="",i=e.textObj.valueGenerateObjectText.legendElement,n=e.textObj.valueGenerateObjectText.unit,a=e.textObj.valueGenerateObjectText.numericFormatElement,o=parseInt(a,10)||1,r=L(e.mainMetric)||0;return t=""!==a?r.toPrecision(o)+" "+n:r+" "+n,i&&(t=i+": "+t),t},i.defineTextDecoration=function(e){return e.textObj.style.underline||i.props.options.display.style.underline?"underline":"none"},i.defineFontStyle=function(e){return e.textObj.style.italic||i.props.options.display.style.italic?"italic":"normal"},i.defineFontWeight=function(e){return e.textObj.style.bold||i.props.options.display.style.bold?"bold":"normal"},i.stopDisplayLegend=function(){i.callInFunc(),i.setState({hiddenLegend:!0})},i.htmlTooltipRegionSVG=function(){var e,t,n=T(1e3);try{for(var a=p(i.props.options.regionCoordinateSpace),o=a.next();!o.done;o=a.next()){var r=o.value;r.idSVG===i.state.dataTooltipSVG.idSVG&&(n=r)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}var l={display:"none",position:"absolute",top:parseInt(i.state.dataTooltipSVG.y,10),left:parseInt(i.state.dataTooltipSVG.x,10),zIndex:9999,width:"auto",border:"1px solid black",borderRadius:"5px",backgroundColor:"black",padding:5},s={textDecoration:i.defineTextDecoration(n),fontStyle:i.defineFontStyle(n),fontWeight:i.defineFontWeight(n),fontSize:i.props.options.display.size,fontFamily:i.props.options.display.police,color:n.textObj.colorText,backgroundColor:n.textObj.colorBack},c={textDecoration:i.defineTextDecoration(n),fontStyle:i.defineFontStyle(n),fontWeight:i.defineFontWeight(n),color:n.textObj.valueGenerateObjectText.addColorTextElement?n.textObj.valueGenerateObjectText.colorTextElement:"white",backgroundColor:n.textObj.valueGenerateObjectText.addColorBackElement?n.textObj.valueGenerateObjectText.colorBackElement:"black",fontSize:i.props.options.display.size,fontFamily:i.props.options.display.police},d={color:"white",fontSize:i.props.options.display.size,fontFamily:i.props.options.display.police};return u.a.createElement("div",{id:"tooltipSVG",style:l,onMouseOver:function(e){var t=document.getElementById("tooltipSVG");"tooltipSVG"!==e.target.id&&"tooltipSVG"!==e.target.parentElement.id||(t.style.display="initial")},onMouseOut:function(e){var t=document.getElementById("tooltipSVG");"tooltipSVG"===e.target.id&&"tooltipSVG"===e.target.parentElement.id||(t.style.display="none")}},n.textObj.isTextTooltip&&u.a.createElement("p",{style:s},n.label),n.textObj.generateObjectText&&n.textObj.valueGenerateObjectText.displayObjectInTooltip&&u.a.createElement("p",{style:c},i.defineMainMetric(n)),n.textObj.generateAuxiliaryElement.displayObjectInTooltip&&i.displayAuxiliaryMetricsRegionSVG(n),u.a.createElement("a",{style:d,href:n.linkURL.hoveringTooltipLink},n.linkURL.hoveringTooltipText))},i.state={valueButton:"",buttonManage:[!1,!1,!1,!1,!1],numberClickDiv:0,allActionButton:u.a.createElement("div",null),nbClickButton:!1,legend:{hiddenLegend:!0,x:0,y:0},svg:"",displayRegion:u.a.createElement("div",null),tooltip:u.a.createElement("div",null,"salut"),idSVG:"",buttonAddLinkIsActive:!1,buttonAddIncurvedLinkIsActive:!1,dataTooltipSVG:{idSVG:"",x:"0",y:"0"},hiddenLegend:!1,currentImage:""},i}return o(t,e),t.prototype.displayPoint=function(){var e=this,t=[];return this.props.options.arrayPoints.forEach((function(i){var n=e.getValuesMainMetricPoint(i).toString();e.updatePositionOrientedLink(i);var a=e.getValuesAuxiliaryMetricsPoint(i),o=u.a.createElement(ye,{key:"point"+i.id.toString(),drawGraphicMarker:i.drawGraphicMarker,shape:i.shape,size:i.sizeWidth,positionShapeX:i.positionShapeX,positionShapeY:i.positionShapeY,label:i.label,widthImage:parseInt(e.props.options.baseMap.width,10),heightImage:parseInt(e.props.options.baseMap.height,10),police:e.props.options.display.police,sizePolice:e.props.options.display.size,color:i.color,idPoint:"point"+i.id.toString(),name:i.name,options:e.props.options,onOptionsChange:e.props.onOptionsChange,data:e.props.data,textObject:i.textObj,seuil:i.lowerLimit,valueMainMetric:n,refMainMetric:i.mainMetric.refId||"",associateOrientedLinkIn:i.associateOrientedLinksIn,associateOrientedLinkOut:i.associateOrientedLinksOut,labelPositionX:i.positionParameter.labelAPositionX,labelPositionY:i.positionParameter.labelAPositionY,tooltipPosition:i.positionParameter.tooltipPositionA,auxiliaryMetrics:i.metrics,valuesAuxiliaryMetrics:a,linkUrl:i.linkURL,buttonAddLinkIsActive:e.state.buttonAddLinkIsActive,buttonAddIncurvedLinkIsActive:e.state.buttonAddIncurvedLinkIsActive,widthInitialSpaceDefault:i.widthInitialSpaceDefault,heightInitialSpaceDefault:i.heightInitialSpaceDefault,positionXDefault:i.positionXDefault,positionYDefault:i.positionYDefault});t.push(o)})),u.a.createElement("div",null,t)},t.prototype.displayOrientedLink=function(){var e=this,t=this.props.options.arrayOrientedLinks,i=[],n=u.a.createElement("div",null);return t.forEach((function(t){console.log("simplePanel"),console.log(t);var a=e.getValuesMainMetricOrientedLink(t).toString(),o=e.getValuesMainMetricOrientedLinkB(t).toString();e.getValuesMainMetricOrientedLinkB(t);var r=e.getValuesAuxiliaryMetricsOrientedLink(t),l=e.getValuesAuxiliaryMetricsOrientedLinkB(t),s=e.defineValueX(t,!1,!0),p=e.defineValueX(t,!0,!0),c=e.defineValueX(t,!1,!1),d=e.defineValueX(t,!0,!1),h=e.defineValueY(t,!1,!0),f=e.defineValueY(t,!0,!0),m=e.defineValueY(t,!1,!1),g=e.defineValueY(t,!0,!1);n=u.a.createElement(ve,{key:"orientedLink"+t.id.toString(),id:t.id.toString(),orientationLink:t.orientationLink.value||"",pointAPositionX:s,pointAPositionY:h,pointBPositionX:c,pointBPositionY:m,colorA:t.colorCoordinateA,colorB:t.colorCoordinateB,associatePointIn:t.pointIn,associatePointOut:t.pointOut,associateRegionIn:t.regionIn,associateRegionOut:t.regionOut,widthImage:parseInt(e.props.options.baseMap.width,10),heightImage:parseInt(e.props.options.baseMap.height,10),label:t.label,name:t.name,valueMainMetricA:a,valueMainMetricB:o,refMainMetricA:t.mainMetric.refId||"",refMainMetricB:t.mainMetricB.refId||"",options:e.props.options,onOptionsChange:e.props.onOptionsChange,data:e.props.data,textObject:t.textObj,seuil:t.lowerLimit,traceBorder:t.traceBorder,traceBack:t.traceBack,labelAPositionX:t.positionParameter.labelAPositionX,labelAPositionY:t.positionParameter.labelAPositionY,labelBPositionX:t.positionParameter.labelBPositionX,labelBPositionY:t.positionParameter.labelBPositionY,tooltipPositionA:t.positionParameter.tooltipPositionA,tooltipPositionB:t.positionParameter.tooltipPositionB,zIndex:t.zIndex,pointCPositionX:t.pointCPositionX,pointCPositionY:t.pointCPositionY,isIncurved:t.isIncurved,auxiliaryMetrics:t.metrics,auxiliaryMetricsB:t.metricsB,valuesAuxiliaryMetrics:r,valuesAuxiliaryMetricsB:l,police:e.props.options.display.police,sizePolice:e.props.options.display.size,linkUrl:t.linkURL,size:t.size,widthInitialSpaceDefault:t.widthInitialSpaceDefault,heightInitialSpaceDefault:t.heightInitialSpaceDefault,positionXADefault:p,positionYADefault:f,positionXBDefault:d,positionYBDefault:g,positionXCDefault:t.pointCPositionXDefault,positionYCDefault:t.pointCPositionYDefault}),i.push(n)})),this.updateAssociateOrientedLinkInToPoint(),this.updateAssociateOrientedLinkOutToPoint(),u.a.createElement("div",null,i)},t.prototype.getValuesMainMetricPoint=function(e){k(e,this.props);return L(e.mainMetric)||NaN},t.prototype.getValuesMainMetricOrientedLink=function(e){I(e,this.props);return L(e.mainMetric)||NaN},t.prototype.getValuesMainMetricOrientedLinkB=function(e){I(e,this.props);return L(e.mainMetricB)||NaN},t.prototype.componentDidUpdate=function(e){this.state.currentImage!==this.props.options.baseMap.image&&this.componentDidMount(),this.props.options.baseMap.width===this.props.options.coordinateSpaceInitial.coordinate.xMax||this.props.options.updateOnlyInitialSpace||(this.props.options.coordinateSpaceInitial.coordinate.xMax=this.props.options.baseMap.width),this.props.options.baseMap.height===this.props.options.coordinateSpaceInitial.coordinate.yMax||this.props.options.updateOnlyInitialSpace||(this.props.options.coordinateSpaceInitial.coordinate.yMax=this.props.options.baseMap.height),this.props!==e&&this.chargeRegion()},t.prototype.render=function(){var e,t=this;e=this.props.options.baseMap.modeSVG?{position:"absolute",height:this.props.options.baseMap.height+"px",width:this.props.options.baseMap.width+"px",translate:"(2,1)",backgroundPosition:"bottom center",transformOrigin:"50% 0%"}:"base64"===this.props.options.baseMap.image.split(",")[0]?{position:"absolute",textAlign:"center",backgroundRepeat:"no-repeat",backgroundImage:"url(data:image/jpeg;"+this.props.options.baseMap.image+")",backgroundSize:this.props.options.baseMap.width+"px "+this.props.options.baseMap.height+"px",height:this.props.options.baseMap.height+"px",width:this.props.options.baseMap.width+"px",opacity:.8,zIndex:4}:{position:"absolute",textAlign:"center",backgroundRepeat:"no-repeat",backgroundImage:"url("+this.props.options.baseMap.image+")",backgroundSize:this.props.options.baseMap.width+"px "+this.props.options.baseMap.height+"px",height:this.props.options.baseMap.height+"px",width:this.props.options.baseMap.width+"px",opacity:.8,zIndex:4};var i={position:"absolute",textAlign:"center",backgroundRepeat:"no-repeat",height:this.props.options.baseMap.height+"px",width:this.props.options.baseMap.width+"px",opacity:0,zIndex:2},n={height:"100vh",width:"100vw",fontFamily:this.props.options.display.police,fontSize:this.props.options.display.size,fontStyle:this.props.options.display.style.italic?"italic":"normal",fontWeight:this.props.options.display.style.bold?"bold":"normal",textDecoration:this.props.options.display.style.underline?"underline":"none"};return u.a.createElement(d.CustomScrollbar,{autoHide:!1,hideHorizontalTrack:!1,autoHeightMax:"100%"},u.a.createElement("div",{id:"zoom",style:{display:"inline-flex",marginTop:"-7px",marginLeft:"86%"}}),u.a.createElement("div",{style:{textAlign:"left",position:"relative",display:"inline-grid"}},this.props.options.displayButton&&this.state.allActionButton),u.a.createElement("section",{style:n,onClick:this.positionLegend},u.a.createElement("div",null,this.state.buttonManage[0]&&u.a.createElement("div",{style:{width:"200px",position:"absolute",overflowY:"scroll",marginLeft:"20%",marginRight:"20%",marginTop:"20%",marginBottom:"20%",border:"5px solid aliceblue",height:"40%"}},u.a.createElement(d.Modal,{title:"Add Region",onDismiss:this.addNode,onClickBackdrop:this.addNode,isOpen:this.state.nbClickButton},u.a.createElement(he,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,isRegion:!0,isPoint:!1,isLink:!1}))),!this.state.hiddenLegend&&u.a.createElement(xe,r({options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data},this.props.options.legend,{callBack:this.handleClick,callBackClose:this.stopDisplayLegend})),u.a.createElement("div",{onClick:this.callMethod}),u.a.createElement("div",{onClick:this.getCoordinates,id:"coordinateSpaces",style:e},this.defineLimit(),u.a.createElement("div",null,u.a.createElement("div",{className:"tooltip"}),u.a.createElement("div",{id:"mainPanel",style:{position:"absolute",zIndex:1}},u.a.createElement("div",{style:{position:"absolute",zIndex:2},dangerouslySetInnerHTML:{__html:this.state.svg}}),u.a.createElement("div",{id:"Intent",style:i,onMouseOver:this.SVG_PathImage,onMouseOut:function(e){t.hideTooltipSVG(e)},dangerouslySetInnerHTML:{__html:this.props.options.baseMap.layerImage}}),this.htmlTooltipRegionSVG(),this.displayOrientedLink(),this.fillCoordinate(),this.displayPoint()))))))},t}(c.PureComponent),Ce=function(e){function t(t){var i=e.call(this,t)||this;return i.callBack=function(){i.props.onOptionsChange(r(r({},i.props.options),{coordinateSpaceInitial:i.state.arrayCoor}))},i.onChangeSwitchDisplayInitialSpace=function(){var e=i.state.arrayCoor;e.displayArea=!e.displayArea,i.setState({arrayCoor:e}),i.callBack()},i.componentDidMount=function(){},i.componentDidUpdate=function(){},i.state={arrayCoor:i.props.options.coordinateSpaceInitial},i}return o(t,e),t.prototype._handleChange=function(e,t){var i=this;this.props.options.updateOnlyInitialSpace=!0,this.setState((function(n){return{arrayCoor:F(t,n.arrayCoor,e,parseInt(i.props.options.baseMap.width,10),parseInt(i.props.options.baseMap.height,10))}})),this.callBack()},t.prototype.getGoodValue=function(e,t){var i;return i="",t.startsWith("positionXMin")?i=this.state.arrayCoor.coordinate.xMin:t.startsWith("positionXMax")?i=this.state.arrayCoor.coordinate.xMax:t.startsWith("positionYMin")?i=this.state.arrayCoor.coordinate.yMin:t.startsWith("positionYMax")&&(i=this.state.arrayCoor.coordinate.yMax),i},t.prototype.render=function(){var e=this;return u.a.createElement("div",{className:"coordinateSpaceInitial"},u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Display space initial"),u.a.createElement(d.Switch,{label:"",checked:this.state.arrayCoor.displayArea,onChange:this.onChangeSwitchDisplayInitialSpace})),u.a.createElement(d.FormField,{label:"X min",labelWidth:15,inputWidth:20,type:"text",required:!0,name:"xMin",value:this.state.arrayCoor.coordinate.xMin,onChange:function(t){return e._handleChange(t.currentTarget.value,"positionXMin")},placeholder:"X minimum"}),u.a.createElement(d.FormField,{label:"X max",labelWidth:15,inputWidth:20,type:"text",required:!0,name:"xMax",value:this.state.arrayCoor.coordinate.xMax,onChange:function(t){return e._handleChange(t.currentTarget.value,"positionXMax")},placeholder:"X max"}),u.a.createElement(d.FormField,{label:"Y min",labelWidth:15,inputWidth:20,type:"text",required:!0,name:"yMin",value:this.state.arrayCoor.coordinate.yMin,onChange:function(t){return e._handleChange(t.currentTarget.value,"positionYMin")},placeholder:"Y minimum"}),u.a.createElement(d.FormField,{label:"Y max",labelWidth:15,inputWidth:20,type:"text",required:!0,name:"yMax",value:this.state.arrayCoor.coordinate.yMax,onChange:function(t){return e._handleChange(t.currentTarget.value,"positionYMax")},placeholder:"Y max"}))},t}(u.a.Component),Ie=function(e){function t(t){var i=e.call(this,t)||this;return i.fileReader=null,i.onChangeHandler=function(e){i.setState({selectedFile:e.target.files[0],readerFile:new FileReader})},i.upload=function(){i.state.selectedFile.onload=function(e){var t;null!=(null===(t=e.target)||void 0===t?void 0:t.result)&&(this.props.options.saveImportFile.push(this.state.readerFile.result),this.props.onOptionsChange(r(r({},this.props.options),{saveImportFile:this.props.options.saveImportFile})))};var e=i.state.selectedFile.name.split(".")[1];"jpg"===e||"png"===e||"gif"===e?i.state.readerFile.readAsDataURL(i.state.selectedFile):i.state.readerFile.readAsText(i.state.selectedFile)},i.save=function(){if(null!=i.state.readerFile.result){i.props.options.saveImportFile.push({name:i.state.selectedFile.name,content:i.state.readerFile.result});var e=new Se(i.props);i.props.options.saveImportFile.forEach((function(t){if(t.name){var n=t.name.split("."),a=i.props.options.baseMap;"svg"===n[1]?(a.image=t.content,a.modeSVG=!0,a.isUploaded=!0):"jpg"!==n[1]&&"png"!==n[1]&&"gif"!==n[1]||(a.image=t.content,a.modeSVG=!1,a.isUploaded=!0),i.props.onOptionsChange(r(r({},i.props.options),{baseMap:a}))}JSON.parse(t.content).hasOwnProperty("regions")&&(e.loadMultiRegions(JSON.parse(t.content)),console.log("Load Region")),JSON.parse(t.content).hasOwnProperty("points")&&(e.loadMultiPoints(JSON.parse(t.content)),console.log("Load Point")),JSON.parse(t.content).hasOwnProperty("links")&&(e.loadMultiLinks(JSON.parse(t.content)),console.log("Load Links"))}))}console.log(i.props.options.saveImportFile)},i.test=function(){console.log(JSON.stringify(i.props))},i.onMultiListFileChanged=function(e){var t=i.props.options.saveImportFile.slice();t[parseInt(e.currentTarget.id,10)].name=e.currentTarget.value,i.props.options.saveImportFile=t,i.props.onOptionsChange(r(r({},i.props.options),{saveImportFile:i.props.options.saveImportFile}))},i.multiDeletFile=function(e){i.props.options.saveImportFile.splice(i.props.options.saveImportFile.findIndex((function(t){return t===i.props.options.saveImportFile[parseInt(e.currentTarget.id,10)]})),1),i.props.onOptionsChange(r(r({},i.props.options),{saveImportFile:i.props.options.saveImportFile}))},i.multiUploadDisplay=function(e){if(0!==e.file.lenght){var t=e.file.map((function(e,t){return u.a.createElement("div",{key:"MultiFileDiv"+t.toString(),style:{display:"flex"}},u.a.createElement(d.FormField,{id:t.toString(),key:"MultiFile"+t.toString(),label:"File",labelWidth:5,inputWidth:20,onChange:i.onMultiListFileChanged.bind(i),type:"string",value:e.name||""}),u.a.createElement(d.Button,{variant:"danger",id:t.toString(),key:"ButtunDel"+t.toString(),onClick:i.multiDeletFile.bind(i)},"Del"))}));return u.a.createElement("div",null,t)}return u.a.createElement("div",null,"No targets avalaible")},i.state={selectedFile:null,readerFile:new FileReader},i}return o(t,e),t.prototype.render=function(){return u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("input",{type:"file",name:"file",onChange:this.onChangeHandler}),u.a.createElement(d.Button,{onClick:this.upload},"add"),u.a.createElement(d.Button,{onClick:this.save},"finish")),u.a.createElement("div",null,u.a.createElement(this.multiUploadDisplay,{file:this.props.options.saveImportFile})))},t}(u.a.Component),Se=function(e){function t(t){var i=e.call(this,t)||this;return i.result=[],i.totalResult=[],i.PointValidator=function(e){var t=0;return i.props.options.arrayPoints.forEach((function(i){e.id===i.id&&(t=e.name===i.name?2:1)})),t},i.RegionValidator=function(e){var t=0;return i.props.options.regionCoordinateSpace.forEach((function(i){e.id===i.id&&(t=e.label===i.label?2:1)})),t},i.LinkValidator=function(e){var t=0;return i.props.options.arrayOrientedLinks.forEach((function(i){e.id===i.id&&(t=e.name===i.name?2:1)})),t},i.UrlValidator=function(e){var t=!0;for(var n in i.props.options.saveImportUrl.multi)if(i.props.options.saveImportUrl.multi[n]===e){t=!1;break}return t},i.pointUpdate=function(e){i.props.options.arrayPoints.forEach((function(t,n){e.id===t.id&&e.name===t.name&&(i.props.options.arrayPoints[n]=e,i.props.onOptionsChange(r(r({},i.props.options),{arrayPoints:i.props.options.arrayPoints})))}))},i.loadMonoPoint=function(e){var t=parseInt(i.props.options.coordinateSpaceInitial.coordinate.xMin,10),n=parseInt(i.props.options.coordinateSpaceInitial.coordinate.xMax,10),a=parseInt(i.props.options.coordinateSpaceInitial.coordinate.yMin,10),o=parseInt(i.props.options.coordinateSpaceInitial.coordinate.yMax,10),r=(n-t).toString(),l=(o-a).toString(),s=new f(e.id,e.linkURL,e.meta,e.lowerLimit,e.label,e.textObj,e.mainMetric,e.metrics,e.colorMode,e.traceBack,e.traceBorder,e.positionParameter,e.name,e.valueMetric,e.drawGraphicMarker,e.shape,e.sizeWidth,e.sizeHeight,e.rotateArrow,e.positionShapeX,e.positionShapeY,e.color,e.associateOrientedLinksIn,e.associateOrientedLinksOut,r,l,e.positionXDefault,e.positionYDefault),p=i.PointValidator(s);0===p&&i.props.options.arrayPoints.push(s),2===p&&i.pointUpdate(s)},i.regionUpdate=function(e){i.props.options.regionCoordinateSpace.forEach((function(t,n){e.id===t.id&&e.label===t.label&&(i.props.options.regionCoordinateSpace[n]=e,i.props.onOptionsChange(r(r({},i.props.options),{regionCoordinateSpace:i.props.options.regionCoordinateSpace})))}))},i.loadMonoRegion=function(e){var t=parseInt(i.props.options.coordinateSpaceInitial.coordinate.xMin,10),n=parseInt(i.props.options.coordinateSpaceInitial.coordinate.xMax,10),a=parseInt(i.props.options.coordinateSpaceInitial.coordinate.yMin,10),o=parseInt(i.props.options.coordinateSpaceInitial.coordinate.yMax,10),r=(n-t).toString(),l=(o-a).toString(),s=new O(e.id,e.linkURL,e.meta,e.lowerLimit,e.label,e.textObj,e.mainMetric,e.metrics,e.colorMode,e.traceBack,e.traceBorder,e.positionParameter,e.idSVG,e.orientedLink,e.coords,e.coordsDefault,e.mode,e.img,r,l),p=i.RegionValidator(s);0===p&&i.props.options.regionCoordinateSpace.push(s),2===p&&i.regionUpdate(s)},i.linkUpdate=function(e){i.props.options.arrayOrientedLinks.forEach((function(t,n){e.id===t.id&&e.name===t.name&&(i.props.options.arrayOrientedLinks[n]=e,i.props.onOptionsChange(r(r({},i.props.options),{arrayOrientedLinks:i.props.options.arrayOrientedLinks})))}))},i.loadMonoLink=function(e){var t=parseInt(i.props.options.coordinateSpaceInitial.coordinate.xMin,10),n=parseInt(i.props.options.coordinateSpaceInitial.coordinate.xMax,10),a=parseInt(i.props.options.coordinateSpaceInitial.coordinate.yMin,10),o=parseInt(i.props.options.coordinateSpaceInitial.coordinate.yMax,10),r=(n-t).toString(),l=(o-a).toString(),s=new g(e.id,e.linkURL,e.meta,e.lowerLimit,e.label,e.textObj,e.mainMetric,e.metrics,e.colorMode,e.traceBack,e.traceBorder,e.positionParameter,e.name,e.orientationLink,e.size,e.pointAPositionX,e.pointAPositionY,e.colorCoordinateA,e.pointBPositionX,e.pointBPositionY,e.colorCoordinateB,e.valueMainMetricA,e.valueMainMetricB,e.pointIn,e.pointOut,e.regionIn,e.regionOut,e.zIndex,e.pointCPositionX,e.pointCPositionY,e.isIncurved,e.mainMetricB,e.metricsB,r,l,e.pointAPositionXDefault,e.pointAPositionYDefault,e.pointBPositionXDefault,e.pointBPositionYDefault,e.pointCPositionXDefault,e.pointCPositionYDefault),p=i.LinkValidator(s);0===p&&i.props.options.arrayOrientedLinks.push(s),2===p&&i.linkUpdate(s)},i.loadMultiPoints=function(e){e.points.forEach((function(e){i.loadMonoPoint(e)}))},i.loadMultiRegions=function(e){e.regions.forEach((function(e){i.loadMonoRegion(e)}))},i.loadMultiLinks=function(e){e.links.forEach((function(e){i.loadMonoLink(e)}))},i.loadTotal=function(e){i.props.options.baseMap=e.baseMap,i.props.options.display.police=e.texteSettings.police,i.props.options.display.size=e.texteSettings.size,i.props.options.display.style=e.texteSettings.style,i.props.options.coordinateSpaceInitial=e.coordinateSpaceInitial,e.regions.forEach((function(e){!0===i.UrlValidator(e)&&i.props.options.saveImportUrl.multi.push(e)})),e.points.forEach((function(e){!0===i.UrlValidator(e)&&i.props.options.saveImportUrl.multi.push(e)})),e.links.forEach((function(e){!0===i.UrlValidator(e)&&i.props.options.saveImportUrl.multi.push(e)})),i.fetchMulti()},i.loaderTotal=function(){return l(i,void 0,void 0,(function(){var e,t;return s(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,fetch(this.props.options.totalUrlInput)];case 1:return[4,i.sent().json()];case 2:return e=i.sent(),this.loadTotal(e),[3,4];case 3:return t=i.sent(),console.error(t),[3,4];case 4:return[2]}}))}))},i.fetchMulti=function(){i.props.options.saveImportUrl.multi.forEach((function(e){return l(i,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t={},[4,fetch(e)];case 1:return[4,i.sent().json()];case 2:return(t=i.sent()).hasOwnProperty("regions")&&this.loadMultiRegions(t),t.hasOwnProperty("points")&&this.loadMultiPoints(t),t.hasOwnProperty("links")&&this.loadMultiLinks(t),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))}))},i.onToggleTotalUrl=function(e){i.setState({collapseTotalUrl:e})},i.onToggleMultiUrl=function(e){i.setState({collapseMultiUrl:e})},i.onToggleMultiUpload=function(e){i.setState({collapseMultiUpload:e})},i.onTotalUrlChanged=function(e){var t;t=e.currentTarget.value,i.props.onOptionsChange(r(r({},i.props.options),{totalUrlInput:t}))},i.onTotalListUrlChanged=function(e){var t=i.props.options.saveImportUrl.total.slice();t[parseInt(e.currentTarget.id,10)]=e.currentTarget.value,i.props.options.saveImportUrl.total=t,i.props.onOptionsChange(r(r({},i.props.options),{saveImportUrl:i.props.options.saveImportUrl}))},i.onMultiUrlChanged=function(e){var t;t=e.currentTarget.value,i.props.onOptionsChange(r(r({},i.props.options),{multiUrlInput:t}))},i.onMultiListUrlChanged=function(e){var t=i.props.options.saveImportUrl.multi.slice();t[parseInt(e.currentTarget.id,10)]=e.currentTarget.value,i.props.options.saveImportUrl.multi=t,i.props.onOptionsChange(r(r({},i.props.options),{saveImportUrl:i.props.options.saveImportUrl}))},i.addTotalUrlInput=function(e){i.props.options.saveImportUrl.total.push(i.props.options.totalUrlInput),i.props.options.totalUrlInput="",i.props.onOptionsChange(r(r({},i.props.options),{saveImportUrl:i.props.options.saveImportUrl}))},i.addMultiUrlInput=function(e){i.props.options.saveImportUrl.multi.push(i.props.options.multiUrlInput),i.props.options.multiUrlInput="",i.props.onOptionsChange(r(r({},i.props.options),{saveImportUrl:i.props.options.saveImportUrl}))},i.totalDeletUrl=function(e){i.props.options.saveImportUrl.total.splice(i.props.options.saveImportUrl.total.findIndex((function(t){return t===i.props.options.saveImportUrl.total[parseInt(e.currentTarget.id,10)]})),1),i.props.onOptionsChange(r(r({},i.props.options),{saveImportUrl:i.props.options.saveImportUrl}))},i.multiDeletUrl=function(e){i.props.options.saveImportUrl.multi.splice(i.props.options.saveImportUrl.multi.findIndex((function(t){return t===i.props.options.saveImportUrl.multi[parseInt(e.currentTarget.id,10)]})),1),i.props.onOptionsChange(r(r({},i.props.options),{saveImportUrl:i.props.options.saveImportUrl}))},i.tempo=function(){},i.totalUrlDisplay=function(e){if(0!==e.list.total.lenght){var t=e.list.total.map((function(e,t){return u.a.createElement("div",{key:"TotalUrlDiv"+t.toString(),style:{display:"flex"}},u.a.createElement(d.FormField,{id:t.toString(),key:"TotalUrl"+t.toString(),label:"Url",labelWidth:5,inputWidth:20,onChange:i.onTotalListUrlChanged.bind(i),type:"string",value:e||""}),u.a.createElement(d.Button,{variant:"danger",id:t.toString(),key:"ButtunDel"+t.toString(),onClick:i.totalDeletUrl.bind(i)},"Del"))}));return u.a.createElement("div",null,t)}return u.a.createElement("div",null,"No targets avalaible")},i.multiUrlDisplay=function(e){if(0!==e.list.multi.lenght){var t=e.list.multi.map((function(e,t){return u.a.createElement("div",{key:"MultiUrlDiv"+t.toString(),style:{display:"flex"}},u.a.createElement(d.FormField,{id:t.toString(),key:"MultiUrl"+t.toString(),label:"Url",labelWidth:5,inputWidth:20,onChange:i.onMultiListUrlChanged.bind(i),type:"string",value:e||""}),u.a.createElement(d.Button,{variant:"danger",id:t.toString(),key:"ButtunDel"+t.toString(),onClick:i.multiDeletUrl.bind(i)},"Del"))}));return u.a.createElement("div",null,t)}return u.a.createElement("div",null,"No targets avalaible")},i.delAll=function(){i.props.options.saveImportUrl.total=[],i.props.options.saveImportUrl.multi=[],i.props.onOptionsChange(r(r({},i.props.options),{saveImportUrl:i.props.options.saveImportUrl}))},i.toDel=function(){},i.state={collapseTotalUrl:!1,collapseMultiUrl:!1,collapseMultiUpload:!0},i}return o(t,e),t.prototype.render=function(){var e=this.props.options;return u.a.createElement("div",null,u.a.createElement(d.Collapse,{isOpen:this.state.collapseTotalUrl,label:"Global Url Import",onToggle:this.onToggleTotalUrl},u.a.createElement(d.FormField,{label:"Total Url",labelWidth:8,key:"TotalUrl",inputWidth:20,onChange:this.onTotalUrlChanged.bind(this),type:"string",value:e.totalUrlInput||""}),u.a.createElement("div",{className:"section gf-form-group"},u.a.createElement(d.Button,{onClick:this.loaderTotal},"Finish"),u.a.createElement(this.totalUrlDisplay,{list:e.saveImportUrl}))),u.a.createElement(d.Collapse,{isOpen:this.state.collapseMultiUrl,label:"Multi Url Import",onToggle:this.onToggleMultiUrl},u.a.createElement(d.FormField,{label:"Multi Url",labelWidth:8,key:"MultiUrl",inputWidth:20,onChange:this.onMultiUrlChanged.bind(this),type:"string",value:e.multiUrlInput||""}),u.a.createElement(d.Button,{key:"AddMultiUrl",onClick:this.addMultiUrlInput},"Add"),u.a.createElement("div",{className:"section gf-form-group"},u.a.createElement(d.Button,{onClick:this.fetchMulti},"Finish"),u.a.createElement(this.multiUrlDisplay,{list:e.saveImportUrl}))),u.a.createElement(d.Collapse,{isOpen:this.state.collapseMultiUpload,label:"Multi Local Import",onToggle:this.onToggleMultiUpload},u.a.createElement("div",null,u.a.createElement(Ie,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data}))),u.a.createElement("div",{className:"section gf-form-group"},u.a.createElement(d.Button,{key:"delAll",onClick:this.delAll},"Del all urls")),u.a.createElement(d.Button,{onClick:this.toDel},"toDel"))},t}(u.a.Component),Ee=function(e){function t(t){var i=e.call(this,t)||this;return i.callBack=function(e,t){var n,a,o,l;if(t){var s=i.props.options.regionCoordinateSpace.slice(),c=0;try{for(var u=p(s),d=u.next();!d.done;d=u.next()){if(d.value.id===e){s[c]=t;break}++c}}catch(e){n={error:e}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}i.props.onOptionsChange(r(r({},i.props.options),{regionCoordinateSpace:s}))}else{var h=!1;s=i.props.options.regionCoordinateSpace.slice(),c=0;try{for(var f=p(s),m=f.next();!m.done;m=f.next()){if(m.value.id===e){h=!0;break}++c}}catch(e){o={error:e}}finally{try{m&&!m.done&&(l=f.return)&&l.call(f)}finally{if(o)throw o.error}}h&&(s.splice(c,1),i.props.onOptionsChange(r(r({},i.props.options),{regionCoordinateSpace:s})),i.fillSelectRegionSpace())}},i.onChangeSelectCoordinate=function(e){i.setState({selectCoordinateSpaceDefault:e})},i.fillSelectRegionSpace=function(){var e,t,n,a,o,r=!1,l=[],s=i.props.options.regionCoordinateSpace.slice();try{for(var c=p(s),u=c.next();!u.done;u=c.next()){var d=u.value;l.push({value:d,label:d.label})}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}if(i.state.selectCoordinateSpaceDefault)try{for(var h=p(s),f=h.next();!f.done;f=h.next()){if((d=f.value).id===(null===(o=i.state.selectCoordinateSpaceDefault.value)||void 0===o?void 0:o.id)){r=!0;break}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}i.setState((function(e){return{selectCoordinateSpace:l,selectCoordinateSpaceDefault:r?e.selectCoordinateSpaceDefault:l.length>0?l[0]:[]}}))},i.componentDidMount=function(){i.fillSelectRegionSpace()},i.componentDidUpdate=function(e){e.options.regionCoordinateSpace!==i.props.options.regionCoordinateSpace&&i.fillSelectRegionSpace()},i.state={selectCoordinateSpace:[],selectCoordinateSpaceDefault:[]},i}return o(t,e),t.prototype.render=function(){var e=this;return u.a.createElement("div",null,u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Select Region"),u.a.createElement(d.Select,{onChange:function(t){return e.onChangeSelectCoordinate(t)},allowCustomValue:!1,options:this.state.selectCoordinateSpace,width:10,value:this.state.selectCoordinateSpaceDefault})),u.a.createElement("br",null),u.a.createElement("div",null,this.state.selectCoordinateSpaceDefault.value?u.a.createElement($,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,coordinate:this.state.selectCoordinateSpaceDefault.value,callBackToParent:this.callBack,isAddCoordinate:!1}):u.a.createElement("p",{style:{textAlign:"center",fontSize:"20px",marginTop:"50px"}},"Data not set")))},t}(u.a.Component),Me=function(e){function t(t){var i=e.call(this,t)||this;return i.callBack=function(e,t){var n,a,o,l;if(t){var s=i.props.options.arrayPoints.slice(),c=0;try{for(var u=p(s),d=u.next();!d.done;d=u.next()){if(d.value.id===e){s[c]=t;break}++c}}catch(e){n={error:e}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}i.props.onOptionsChange(r(r({},i.props.options),{arrayPoints:s}))}else{var h=!1;s=i.props.options.arrayPoints.slice(),c=0;try{for(var f=p(s),m=f.next();!m.done;m=f.next()){if(m.value.id===e){h=!0;break}++c}}catch(e){o={error:e}}finally{try{m&&!m.done&&(l=f.return)&&l.call(f)}finally{if(o)throw o.error}}h&&(s.splice(c,1),i.props.onOptionsChange(r(r({},i.props.options),{arrayPoints:s})),i.fillSelectPoint())}},i.onChangeSelectCoordinate=function(e){i.setState({selectCoordinateSpaceDefault:e})},i.fillSelectPoint=function(){var e,t,n,a,o,r=!1,l=[],s=i.props.options.arrayPoints.slice();try{for(var c=p(s),u=c.next();!u.done;u=c.next()){var d=(m=u.value).label||m.name;l.push({value:m,label:d})}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}if(i.state.selectCoordinateSpaceDefault)try{for(var h=p(s),f=h.next();!f.done;f=h.next()){var m;if((m=f.value).id===(null===(o=i.state.selectCoordinateSpaceDefault.value)||void 0===o?void 0:o.id)){r=!0;break}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}i.setState((function(e){return{selectCoordinateSpace:l,selectCoordinateSpaceDefault:r?e.selectCoordinateSpaceDefault:l.length>0?l[0]:[]}}))},i.componentDidMount=function(){i.fillSelectPoint()},i.componentDidUpdate=function(e){e.options.arrayPoints!==i.props.options.arrayPoints&&i.fillSelectPoint(),e.options.newPoint&&(i.fillSelectPoint(),i.props.options.newPoint=!1)},i.state={selectCoordinateSpace:[],selectCoordinateSpaceDefault:[]},i}return o(t,e),t.prototype.render=function(){var e=this;return u.a.createElement("div",null,u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Select Point"),u.a.createElement(d.Select,{onChange:function(t){return e.onChangeSelectCoordinate(t)},allowCustomValue:!1,options:this.state.selectCoordinateSpace,width:10,value:this.state.selectCoordinateSpaceDefault})),u.a.createElement("br",null),u.a.createElement("div",null,this.state.selectCoordinateSpaceDefault.value?u.a.createElement(le,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,point:this.state.selectCoordinateSpaceDefault.value,callBackToParent:this.callBack,isAddPoint:!1}):u.a.createElement("p",{style:{textAlign:"center",fontSize:"20px",marginTop:"50px"}},"Data not set")))},t}(u.a.Component),Le=function(e){function t(t){var i=e.call(this,t)||this;return i.callBack=function(e,t){var n,a,o,l;if(t){var s=i.props.options.arrayOrientedLinks.slice(),c=0;try{for(var u=p(s),d=u.next();!d.done;d=u.next()){if(d.value.id===e){s[c]=t;break}++c}}catch(e){n={error:e}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}i.props.onOptionsChange(r(r({},i.props.options),{arrayOrientedLinks:s}))}else{var h=!1;s=i.props.options.arrayOrientedLinks.slice(),c=0;try{for(var f=p(s),m=f.next();!m.done;m=f.next()){if(m.value.id===e){h=!0;break}++c}}catch(e){o={error:e}}finally{try{m&&!m.done&&(l=f.return)&&l.call(f)}finally{if(o)throw o.error}}h&&(s.splice(c,1),i.props.onOptionsChange(r(r({},i.props.options),{arrayOrientedLinks:s})),i.fillSelectPoint())}},i.onChangeSelectCoordinate=function(e){i.setState({selectCoordinateSpaceDefault:e})},i.fillSelectPoint=function(){var e,t,n,a,o,r=!1,l=[],s=i.props.options.arrayOrientedLinks.slice();try{for(var c=p(s),u=c.next();!u.done;u=c.next()){var d=(m=u.value).label||m.name;l.push({value:m,label:d})}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}if(i.state.selectCoordinateSpaceDefault)try{for(var h=p(s),f=h.next();!f.done;f=h.next()){var m;if((m=f.value).id===(null===(o=i.state.selectCoordinateSpaceDefault.value)||void 0===o?void 0:o.id)){r=!0;break}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}i.setState((function(e){return{selectCoordinateSpace:l,selectCoordinateSpaceDefault:r?e.selectCoordinateSpaceDefault:l.length>0?l[0]:[]}}))},i.componentDidMount=function(){i.fillSelectPoint()},i.componentDidUpdate=function(e){e.options.arrayOrientedLinks!==i.props.options.arrayOrientedLinks&&i.fillSelectPoint(),e.options.newOrientedLink&&(i.fillSelectPoint(),i.props.options.newOrientedLink=!1)},i.state={selectCoordinateSpace:[],selectCoordinateSpaceDefault:[]},i}return o(t,e),t.prototype.render=function(){var e=this;return u.a.createElement("div",null,u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Select Oriented Link"),u.a.createElement(d.Select,{onChange:function(t){return e.onChangeSelectCoordinate(t)},allowCustomValue:!1,options:this.state.selectCoordinateSpace,width:10,value:this.state.selectCoordinateSpaceDefault})),u.a.createElement("br",null),u.a.createElement("div",null,this.state.selectCoordinateSpaceDefault.value?u.a.createElement(de,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,orientedLink:this.state.selectCoordinateSpaceDefault.value,callBackToParent:this.callBack,isAddLink:!1}):u.a.createElement("p",{style:{textAlign:"center",fontSize:"20px",marginTop:"50px"}},"Data not set")))},t}(u.a.Component),Oe=function(e){function t(t){var i=e.call(this,t)||this;return i.returnEditMode=function(){i.setState({tabsVariable:[!1,!0]})},i.goToTab=function(e){for(var t=i.state.tabsVariable.slice(),n=t.length,a=0;a<n;a++)t[a]=a===e;i.setState({tabsVariable:t})},i.contentTabEdit=function(){var e=u.a.createElement("div",null);return i.props.isRegion?e=u.a.createElement("div",null,u.a.createElement(Ee,{onOptionsChange:i.props.onOptionsChange,options:i.props.options,data:i.props.data})):i.props.isPoint?e=u.a.createElement("div",null,u.a.createElement(Me,{onOptionsChange:i.props.onOptionsChange,options:i.props.options,data:i.props.data})):i.props.isLink&&(e=u.a.createElement("div",null,u.a.createElement(Le,{onOptionsChange:i.props.onOptionsChange,options:i.props.options,data:i.props.data}))),e},i.state={tabsVariable:[!1,!0]},i}return o(t,e),t.prototype.render=function(){var e=this;return this.props.isLink?u.a.createElement("div",null,u.a.createElement(d.TabsBar,{className:"page-header tabs",hideBorder:!1},u.a.createElement(d.Tab,{key:"tabDisplayCoordinateSpaceEdit",label:"Edit coordinate space",active:this.state.tabsVariable[1],onChangeTab:function(){return e.goToTab(1)}})),u.a.createElement(d.TabContent,null,this.state.tabsVariable[1]&&this.contentTabEdit())):u.a.createElement("div",null,u.a.createElement(d.TabsBar,{className:"page-header tabs",hideBorder:!1},u.a.createElement(d.Tab,{key:"tabDisplayCoordinateSpaceAdd",label:"Add coordinate space",active:this.state.tabsVariable[0],onChangeTab:function(){return e.goToTab(0)}}),u.a.createElement(d.Tab,{key:"tabDisplayCoordinateSpaceEdit",label:"Edit coordinate space",active:this.state.tabsVariable[1],onChangeTab:function(){return e.goToTab(1)}})),u.a.createElement(d.TabContent,null,this.state.tabsVariable[0]&&u.a.createElement(he,{onOptionsChange:this.props.onOptionsChange,options:this.props.options,data:this.props.data,returnEditMode:this.returnEditMode,isRegion:this.props.isRegion,isPoint:this.props.isPoint,isLink:this.props.isLink}),this.state.tabsVariable[1]&&this.contentTabEdit()))},t}(u.a.Component),Te=function(e){var t=e._onChange,i=e.data,n=e.defaultValue;return u.a.createElement("div",null,u.a.createElement(d.Select,{onChange:function(e){return t(e)},allowCustomValue:!1,options:i,width:30,value:n}))},Be=function(e){function t(t){var i=e.call(this,t)||this;return i.callParent=function(){var e=i.state,t=e.newPolice,n=e.size,a=e.style,o=t.value||"",l=n,s=a;i.props.onOptionsChange(r(r({},i.props.options),{display:{police:o,size:l,style:s}}))},i.setStateAsyncPolice=function(e){return new Promise((function(t){i.setState(e,t),i.callParent()}))},i.setStateAsyncsize=function(e){return new Promise((function(t){i.setState(e,t),i.callParent()}))},i.setStateAsyncStyle=function(e){return new Promise((function(t){i.setState(e,t),i.callParent()}))},i.handleChangesize=function(e){return l(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.setStateAsyncsize({size:e.target.value})];case 1:return t.sent(),this.callParent(),[2]}}))}))},i.onChangePolice=function(e){return l(i,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.setStateAsyncPolice({newPolice:e})];case 1:return t.sent(),this.callParent(),[2]}}))}))},i.onImageChanged=function(e){var t=i.props.options.baseMap,n=e.target.value,a=n.split(".");t.image=n,"svg"===n.split(".")[a.length-1]?t.modeSVG=!0:t.modeSVG=!1,i.props.onOptionsChange(r(r({},i.props.options),{baseMap:t}))},i.onChangeSwitchModeSVG=function(){var e=i.props,t=e.options,n=e.onOptionsChange,a=t.baseMap;a.modeSVG=!a.modeSVG,n(r(r({},t),{baseMap:a}))},i.onChangeHeightBaseMap=function(e){i.props.options.updateOnlyInitialSpace=!1;var t=i.props,n=t.options,a=t.onOptionsChange,o=n.baseMap;o.height=e.target.value,a(r(r({},n),{baseMap:o}))},i.onChangeWidthBaseMap=function(e){i.props.options.updateOnlyInitialSpace=!1;var t=i.props,n=t.options,a=t.onOptionsChange,o=n.baseMap;o.width=e.target.value,a(r(r({},n),{baseMap:o}))},i.saveStyleData=function(e){i.setStateAsyncStyle({style:e})},i.uploadImage=function(e){var t,n=new FileReader,a=e.target.files[0],o=a.name.split(".")[1];"jpg"===o||"png"===o||"gif"===o?n.readAsDataURL(a):n.readAsText(a),n.onload=function(){t=n.result},setTimeout((function(){var e=i.props.options.baseMap;"svg"===o?(e.image=t,e.modeSVG=!0,e.isUploaded=!0,e.nameUploadedImage=a.name):"jpg"!==o&&"png"!==o&&"gif"!==o||(e.image=t,e.modeSVG=!1,e.isUploaded=!0,e.nameUploadedImage=a.name),i.props.onOptionsChange(r(r({},i.props.options),{baseMap:e}))}),1e3)},i.defineValueImage=function(){var e="";return i.props.options.baseMap.isUploaded||(e=i.props.options.baseMap.image||""),e},i.state={newPolice:{value:i.props.options.display.police,label:i.props.options.display.police},size:i.props.options.display.size,style:i.props.options.display.style,imageUploaded:""},i}return o(t,e),t.prototype.render=function(){var e=this.props.options,t=i(2);return u.a.createElement("div",null,u.a.createElement("div",{style:{display:"flex",marginBottom:1}},u.a.createElement(d.FormLabel,{width:15},"Police"),u.a.createElement(Te,{_onChange:this.onChangePolice,data:[{value:"Helvetica",label:"Helvetica"},{value:"Arial",label:"Arial"},{value:"sans-serif",label:"sans-serif"},{value:"mono",label:"mono"}],defaultValue:this.state.newPolice})),u.a.createElement(d.FormField,{label:t.textDefault.size,labelWidth:15,inputWidth:30,required:!0,value:this.state.size,onChange:this.handleChangesize}),u.a.createElement(H,{oldStyle:this.state.style,saveParent:this.saveStyleData}),u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormLabel,{width:15},"Use SVG"),u.a.createElement(d.Switch,{labelClass:"",label:"",checked:e.baseMap.modeSVG,onChange:this.onChangeSwitchModeSVG})),u.a.createElement("div",null,u.a.createElement(d.FormField,{label:"Image",labelWidth:15,inputWidth:30,placeholder:"URL",type:"text",onChange:this.onImageChanged,value:this.defineValueImage()}),u.a.createElement("div",{style:{display:"flex",margin:"2px 0"}},u.a.createElement(d.FormLabel,{width:15},"Upload Image"),u.a.createElement("input",{style:{border:"1px solid #262628",borderRadius:"0 3px 3px 0",width:"416px"},type:"file",name:"file",onChange:this.uploadImage}),u.a.createElement("p",{style:{margin:"10px 0 0 10px",fontSize:"10px"}},this.props.options.baseMap.nameUploadedImage||"")),u.a.createElement(d.FormField,{label:"Width",labelWidth:15,inputWidth:30,type:"text",onChange:this.onChangeWidthBaseMap,value:e.baseMap.width||""}),u.a.createElement(d.FormField,{label:"Height",labelWidth:15,inputWidth:30,type:"text",onChange:this.onChangeHeightBaseMap,value:e.baseMap.height||""})))},t}(u.a.Component),Ae=function(e){var t=e.split("#"),i={x:"",y:""};return i.x=t[0].split("|")[1],i.y=t[1].split("|")[1],i},De=function(e){var t=e.split("#"),i={xMin:"",xMax:"",yMin:"",yMax:""};return i.xMin=t[0].split("|")[1],i.xMax=t[1].split("|")[1],i.yMin=t[2].split("|")[1],i.yMax=t[3].split("|")[1],i},we=function(e){var t=e.split("#"),i=[];return t.forEach((function(e){var t=e.split("|");i.push({label:t[0],value:t[1]})})),i},Pe=function(e){var t=e.split("#"),i=[];return t.forEach((function(e){var t=e.split("|");i.push({label:t[0],value:t[1]})})),i},je=function(e){function t(t){var i=e.call(this,t)||this;return i.result=[],i.onChangeSelectQuerryID=function(e,t){var n=i.props.options.saveGabaritFile;n[t].queryID=e.value,i.props.onOptionsChange(r(r({},i.props.options),{saveGabaritFile:n}))},i.onToggleSelectUrl=function(e){i.setState({collapseSelectURL:e})},i.UrlValidator=function(e){var t=!0;for(var n in i.props.options.saveGabaritURL)if(i.props.options.saveGabaritURL[n]===e){t=!1;break}return t},i.GabaritValidator=function(e){var t=!0;return i.props.options.saveGabaritFile.forEach((function(i){i.fileName===e&&(console.log("LoadGabaritFileReject"),t=!1)})),t},i.loadGabarit=function(e,t){var n=t.split("/");if(i.GabaritValidator(n[n.length-1])){var a={queryID:"null",fileName:n[n.length-1],loaded:!1,globalGabarit:e.global,templateGabaritPoint:[],templateGabaritRegion:[],templateGabaritLink:[],templateGabaritPointDefault:[],templateGabaritRegionDefault:[],templateGabaritLinkDefault:[]};e.templates.forEach((function(e){"point"===e.type&&a.templateGabaritPoint.push(e),"region"===e.type&&a.templateGabaritRegion.push(e),"link"===e.type&&a.templateGabaritLink.push(e)})),e.default.templates.forEach((function(e){"point"===e.type&&a.templateGabaritPointDefault.push(e),"region"===e.type&&a.templateGabaritRegionDefault.push(e),"link"===e.type&&a.templateGabaritLinkDefault.push(e)})),i.props.options.saveGabaritFile.push(a)}},i.fetchUrl=function(e){return l(i,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),{},[4,fetch(e)];case 1:return[4,i.sent().json()];case 2:return[2,i.sent()];case 3:return t=i.sent(),console.error(t),[3,4];case 4:return[2,null]}}))}))},i.loadDefaultGabarit=function(e,t){return l(i,void 0,void 0,(function(){var i,n;return s(this,(function(a){return i=t.split("/"),n={queryID:"null",fileName:i[i.length-1],loaded:!1,globalGabarit:e.global,templateGabaritPoint:[],templateGabaritRegion:[],templateGabaritLink:[],templateGabaritPointDefault:[],templateGabaritRegionDefault:[],templateGabaritLinkDefault:[]},e.default.templates.forEach((function(e){"point"===e.type&&n.templateGabaritPointDefault.push(e),"region"===e.type&&n.templateGabaritRegionDefault.push(e),"link"===e.type&&n.templateGabaritLinkDefault.push(e)})),this.props.options.gabaritDefault=n,[2]}))}))},i.fetchGabarit=function(){i.props.options.saveGabaritURL.forEach((function(e){return l(i,void 0,void 0,(function(){var t,i;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),t={},[4,fetch(e)];case 1:return[4,n.sent().json()];case 2:return t=n.sent(),this.loadGabarit(t,e),[3,4];case 3:return i=n.sent(),console.error(i),[3,4];case 4:return[2]}}))}))}))},i.onToggleGabaritUrl=function(e){i.setState({collapseSelectURL:e})},i.onToggleGabaritDefault=function(e){i.setState({collapseGabaritDefault:e})},i.onToggleGabarit=function(e){i.setState({collapseGabarit:e})},i.onGabaritUrlChanged=function(e){var t;t=e.currentTarget.value,i.props.onOptionsChange(r(r({},i.props.options),{gabaritUrlInput:t}))},i.onGabaritDefaultUrlChanged=function(e){var t;t=e.currentTarget.value,i.props.onOptionsChange(r(r({},i.props.options),{saveGabaritDefaultUrl:t}))},i.onGabaritListUrlChanged=function(e){var t=i.props.options.saveGabaritURL.slice();t[parseInt(e.currentTarget.id,10)]=e.currentTarget.value,i.props.options.saveGabaritURL=t,i.props.onOptionsChange(r(r({},i.props.options),{saveGabaritURL:i.props.options.saveGabaritURL}))},i.addGabaritUrlInput=function(e){var t=!0;i.props.options.saveGabaritURL.forEach((function(e){i.props.options.gabaritUrlInput===e&&(t=!1)})),!0===t&&(i.props.options.saveGabaritURL.push(i.props.options.gabaritUrlInput),i.props.options.gabaritUrlInput="",i.props.onOptionsChange(r(r({},i.props.options),{saveGabaritURL:i.props.options.saveGabaritURL})))},i.addGabaritDefaultUrlInput=function(e){return l(i,void 0,void 0,(function(){var e,t,i;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),e=this.props.options.saveGabaritDefaultUrl,t={},[4,fetch(this.props.options.saveGabaritDefaultUrl)];case 1:return[4,n.sent().json()];case 2:return t=n.sent(),this.loadDefaultGabarit(t,e),[3,4];case 3:return i=n.sent(),console.log("Default gabarit error:"),console.error(i),[3,4];case 4:return[2]}}))}))},i.gabaritDeletUrl=function(e){i.props.options.saveGabaritURL.splice(i.props.options.saveGabaritURL.findIndex((function(t){return t===i.props.options.saveGabaritURL[parseInt(e.currentTarget.id,10)]})),1),i.props.onOptionsChange(r(r({},i.props.options),{saveGabaritURL:i.props.options.saveGabaritURL}))},i.gabaritDeletFile=function(e){i.props.options.saveGabaritFile.splice(i.props.options.saveGabaritFile.findIndex((function(t){return t===i.props.options.saveGabaritFile[parseInt(e.currentTarget.id,10)]})),1),i.props.onOptionsChange(r(r({},i.props.options),{saveGabaritFile:i.props.options.saveGabaritFile}))},i.gabaritDeletFileDefault=function(e){i.props.options.gabaritDefault={queryID:"A",fileName:"",loaded:!1,globalGabarit:{lowerLimit:[{id:0,lowerLimitMin:"0",lowerLimitMax:"0",backColor:"blue",borderColor:"red",sizeBorder:"1px"}],textObject:{value:"default",isTextTooltip:!1,colorBack:"blue",colorText:"black",style:{bold:!1,italic:!1,underline:!1},generateObjectText:!1,valueGenerateObjectText:{legendElement:"default",numericFormatElement:"default",unit:"default",displayObjectInTooltip:!1,addColorTextElement:!1,colorTextElement:"black",addColorBackElement:!1,colorBackElement:"white"},generateAuxiliaryElement:{legendElement:"default",numericFormatElement:"default",unit:"default",displayObjectInTooltip:!1,addColorTextElement:!1,colorTextElement:"black",addColorBackElement:!1,colorBackElement:"white"}},defaultColor:"black",colorMode:!0,traceBack:!0,traceBorder:!0},templateGabaritPoint:[],templateGabaritRegion:[],templateGabaritLink:[],templateGabaritPointDefault:[],templateGabaritRegionDefault:[],templateGabaritLinkDefault:[]},i.props.onOptionsChange(r(r({},i.props.options),{gabaritDefault:i.props.options.gabaritDefault}))},i.checkLoaderGabarit=function(e){i.props.options.saveGabaritFile[parseInt(e.currentTarget.id,10)].loaded?console.log("loadGabaritReject"):i.loaderGabarit(i.props.options.saveGabaritFile[parseInt(e.currentTarget.id,10)],parseInt(e.currentTarget.id,10))},i.loaderGabarit=function(e,t){var n,a,o,r,l,s,c,u,d,h,v,x,k,C=[],I=[],S=[],E=[],M=[],L=[],T=[],B=[],A=[],D=[],w=[],P=[],j=[],G=[],V=[],R=[],F=[],U=parseInt(i.props.options.baseMap.width,10),z=parseInt(i.props.options.coordinateSpaceInitial.coordinate.xMin,10),W=parseInt(i.props.options.coordinateSpaceInitial.coordinate.xMax,10)-z,Y=parseInt(i.props.options.baseMap.height,10),X=parseInt(i.props.options.coordinateSpaceInitial.coordinate.yMin,10),N=parseInt(i.props.options.coordinateSpaceInitial.coordinate.yMax,10)-X,Q=e;c=Boolean(Q.globalGabarit.colorMode),u=Boolean(Q.globalGabarit.traceBack),d=Boolean(Q.globalGabarit.traceBorder),(x={legendElement:Q.globalGabarit.textObject.valueGenerateObjectText.legendElement,numericFormatElement:Q.globalGabarit.textObject.valueGenerateObjectText.numericFormatElement,unit:Q.globalGabarit.textObject.valueGenerateObjectText.unit,displayObjectInTooltip:Boolean(Q.globalGabarit.textObject.valueGenerateObjectText.displayObjectInTooltip),addColorTextElement:Boolean(Q.globalGabarit.textObject.valueGenerateObjectText.addColorTextElement),colorTextElement:Q.globalGabarit.textObject.valueGenerateObjectText.colorTextElement,addColorBackElement:Boolean(Q.globalGabarit.textObject.valueGenerateObjectText.addColorBackElement),colorBackElement:Q.globalGabarit.textObject.valueGenerateObjectText.colorBackElement}).unit||(x={legendElement:i.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.legendElement,numericFormatElement:i.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.numericFormatElement,unit:i.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.unit,displayObjectInTooltip:Boolean(i.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.displayObjectInTooltip),addColorTextElement:Boolean(i.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.addColorTextElement),colorTextElement:i.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.colorTextElement,addColorBackElement:Boolean(i.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.addColorBackElement),colorBackElement:i.props.options.gabaritDefault.globalGabarit.textObject.valueGenerateObjectText.colorBackElement}),(k={legendElement:Q.globalGabarit.textObject.generateAuxiliaryElement.legendElement,numericFormatElement:Q.globalGabarit.textObject.generateAuxiliaryElement.numericFormatElement,unit:Q.globalGabarit.textObject.generateAuxiliaryElement.unit,displayObjectInTooltip:Boolean(Q.globalGabarit.textObject.generateAuxiliaryElement.displayObjectInTooltip),addColorTextElement:Boolean(Q.globalGabarit.textObject.generateAuxiliaryElement.addColorTextElement),colorTextElement:Q.globalGabarit.textObject.generateAuxiliaryElement.colorTextElement,addColorBackElement:Boolean(Q.globalGabarit.textObject.generateAuxiliaryElement.addColorBackElement),colorBackElement:Q.globalGabarit.textObject.generateAuxiliaryElement.colorBackElement}).unit||(k={legendElement:i.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.legendElement,numericFormatElement:i.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.numericFormatElement,unit:i.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.unit,displayObjectInTooltip:Boolean(i.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.displayObjectInTooltip),addColorTextElement:Boolean(i.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.addColorTextElement),colorTextElement:i.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.colorTextElement,addColorBackElement:Boolean(i.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.addColorBackElement),colorBackElement:i.props.options.gabaritDefault.globalGabarit.textObject.generateAuxiliaryElement.colorBackElement}),(v={bold:Boolean(Q.globalGabarit.textObject.style.bold),italic:Boolean(Q.globalGabarit.textObject.style.italic),underline:Boolean(Q.globalGabarit.textObject)}).bold||(v={bold:Boolean(i.props.options.gabaritDefault.globalGabarit.textObject.style.bold),italic:Boolean(i.props.options.gabaritDefault.globalGabarit.textObject.style.italic),underline:Boolean(i.props.options.gabaritDefault.globalGabarit.textObject.style.underline)}),(h=new b(Q.globalGabarit.textObject.value,Boolean(Q.globalGabarit.textObject.isTextTooltip),Q.globalGabarit.textObject.colorBack,Q.globalGabarit.textObject.colorText,v,Boolean(Q.globalGabarit.textObject.generateObjectText),x,k)).value||(h=new b(i.props.options.gabaritDefault.globalGabarit.textObject.value,Boolean(i.props.options.gabaritDefault.globalGabarit.textObject.isTextTooltip),i.props.options.gabaritDefault.globalGabarit.textObject.colorBack,i.props.options.gabaritDefault.globalGabarit.textObject.colorText,v,Boolean(i.props.options.gabaritDefault.globalGabarit.textObject.generateObjectText),x,k)),Q.templateGabaritPoint.forEach((function(e,t){"false"===e.labelfix.toString()?(I.push(Ae(e.xylabel)),I[t].y&&I[t].x||(I[t]=Ae(Q.templateGabaritPointDefault[0].xylabel)),I[t].y&&I[t].x||(I[t]=Ae(i.props.options.gabaritDefault.templateGabaritPointDefault[0].xylabel))):(I.push(Ae(e.xylabelfix)),I[t].y&&I[t].x||(I[t]=Ae(Q.templateGabaritPointDefault[0].xylabelfix)),I[t].y&&I[t].x||(I[t]=Ae(i.props.options.gabaritDefault.templateGabaritPointDefault[0].xylabelfix))),C.push(Pe(e.filtered)),C[t][0]||(C[t]=Pe(Q.templateGabaritPointDefault[0].filtered)),C[t][0]||(C[t]=Pe(i.props.options.gabaritDefault.templateGabaritPointDefault[0].filtered)),S.push(e.name),S[t]||(S[t]=Q.templateGabaritPointDefault[0].name),S[t]||(S[t]=i.props.options.gabaritDefault.templateGabaritPointDefault[0].name),E.push(e.meta),E[t]||(E[t]=Q.templateGabaritPointDefault[0].meta),E[t]||(E[t]=i.props.options.gabaritDefault.templateGabaritPointDefault[0].meta),M.push(e.label),M[t]||(M[t]=Q.templateGabaritPointDefault[0].label),M[t]||(M[t]=i.props.options.gabaritDefault.templateGabaritPointDefault[0].label),T.push({key:e.mainMetric.key,unit:e.mainMetric.unit,format:e.mainMetric.format,keyValue:"",filter:C[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:e.mainMetric.manageValue}),T[t].unit||(T[t]={key:Q.templateGabaritPointDefault[0].mainMetric.key,unit:Q.templateGabaritPointDefault[0].mainMetric.unit,format:Q.templateGabaritPointDefault[0].mainMetric.format,keyValue:"",filter:C[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:Q.templateGabaritPointDefault[0].mainMetric.manageValue}),T[t].unit||(T[t]={key:i.props.options.gabaritDefault.templateGabaritPointDefault[0].mainMetric.key,unit:i.props.options.gabaritDefault.templateGabaritPointDefault[0].mainMetric.unit,format:i.props.options.gabaritDefault.templateGabaritPointDefault[0].mainMetric.format,keyValue:"",filter:C[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:i.props.options.gabaritDefault.templateGabaritPointDefault[0].mainMetric.manageValue}),T[t].refId||(T[t].refId="A"),e.metrics.forEach((function(e){B[t].push({key:e.key,unit:e.unit,format:e.format,keyValue:"",filter:C[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:e.manageValue})})),D.push(e.valueMetric),w.push({label:e.drawGraphicMarker.label,value:e.drawGraphicMarker.value}),w[t].label&&w[t].label||(w[t]={label:Q.templateGabaritPointDefault[0].drawGraphicMarker.label,value:Q.templateGabaritPointDefault[0].drawGraphicMarker.value}),w[t].label&&w[t].label||(w[t]={label:i.props.options.gabaritDefault.templateGabaritPointDefault[0].drawGraphicMarker.label,value:i.props.options.gabaritDefault.templateGabaritPointDefault[0].drawGraphicMarker.value}),P.push(e.shape),P[t]||(P[t]=Q.templateGabaritPointDefault[0].shape),P[t]||(P[t]=i.props.options.gabaritDefault.templateGabaritPointDefault[0].shape),j.push(e.sizeWidth),j[t]||(j[t]=Q.templateGabaritPointDefault[0].sizeWidth),j[t]||(j[t]=i.props.options.gabaritDefault.templateGabaritPointDefault[0].sizeWidth),G.push(e.sizeHeight),G[t]||(G[t]=Q.templateGabaritPointDefault[0].sizeHeight),G[t]||(G[t]=i.props.options.gabaritDefault.templateGabaritPointDefault[0].sizeHeight),0!==e.color.length?V.push(e.color):V.push(Q.globalGabarit.defaultColor),V[t]||(V[t]=i.props.options.gabaritDefault.templateGabaritPointDefault[0].color),R.push(e.associateOrientedLinksIn),R[t]||(R[t]=Q.templateGabaritPointDefault[0].associateOrientedLinksIn),R[t]||(R[t]=i.props.options.gabaritDefault.templateGabaritPointDefault[0].associateOrientedLinksIn),F.push(e.associateOrientedLinksOut),F[t]||(F[t]=Q.templateGabaritPointDefault[0].associateOrientedLinksOut),F[t]||(F[t]=i.props.options.gabaritDefault.templateGabaritPointDefault[0].associateOrientedLinksOut),(l={label:e.positionParameter.tooltipA,value:e.positionParameter.tooltipA}).label&&l.value||(l={label:Q.templateGabaritPointDefault[0].positionParameter.tooltipA,value:Q.templateGabaritPointDefault[0].positionParameter.tooltipA}),l.label&&l.value||(l={label:i.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.tooltipA,value:i.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.tooltipA}),(s={label:e.positionParameter.tooltipB,value:e.positionParameter.tooltipB}).label&&s.value||(s={label:Q.templateGabaritPointDefault[0].positionParameter.tooltipB,value:Q.templateGabaritPointDefault[0].positionParameter.tooltipB}),s.label&&s.value||(s={label:i.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.tooltipB,value:i.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.tooltipB}),(o=Ae(e.positionParameter.xylabelA)).x&&o.y||(o={x:Q.templateGabaritPointDefault[0].positionParameter.xylabelA,y:Q.templateGabaritPointDefault[0].positionParameter.xylabelA}),o.x&&o.y||(o={x:i.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.xylabelA,y:i.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.xylabelA}),(r=Ae(e.positionParameter.xylabelB)).x&&r.y||(r={x:Q.templateGabaritPointDefault[0].positionParameter.xylabelB,y:Q.templateGabaritPointDefault[0].positionParameter.xylabelB}),r.x&&r.y||(r={x:i.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.xylabelB,y:i.props.options.gabaritDefault.templateGabaritPointDefault[0].positionParameter.xylabelB}),L.push(new m(o.x,o.y,r.x,r.y,l,s)),A.push(new y(e.linkURL.followLink,e.linkURL.hoveringTooltipLink,e.linkURL.hoveringTooltipText)),A[t].followLink||(A[t]=new y(Q.templateGabaritPointDefault[0].linkURL.followLink,Q.templateGabaritPointDefault[0].linkURL.hoveringTooltipLink,Q.templateGabaritPointDefault[0].linkURL.hoveringTooltipText)),A[t].followLink||(A[t]=new y(i.props.options.gabaritDefault.templateGabaritPointDefault[0].linkURL.followLink,i.props.options.gabaritDefault.templateGabaritPointDefault[0].linkURL.hoveringTooltipLink,i.props.options.gabaritDefault.templateGabaritPointDefault[0].linkURL.hoveringTooltipText))}));var _=0;i.props.options.arrayPoints.forEach((function(e){_++}));var q=[],H=[],K=[];if(I.forEach((function(e,t){"false"===Q.templateGabaritPoint[t].labelfix.toString()&&(i.props.data.series.forEach((function(t){var i,n,a,o=(null===(a=t.name)||void 0===a?void 0:a.split(",").map((function(e){return e.replace(/[\"{}]/gm,"")})))||[];try{for(var r=p(o),l=r.next();!l.done;l=r.next()){var s=l.value;if(o&&o.length>0){var c=s.split("=");c[0]===e.x&&q.push(c[1]),c[0]===e.y&&H.push(c[1])}}}catch(e){i={error:e}}finally{try{l&&!l.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}})),q.length>H.length?q.forEach((function(t,i){q[i]||(q[i]=e.x),H[i]||(H[i]=e.y)})):H.forEach((function(t,i){q[i]||(q[i]=e.x),H[i]||(H[i]=e.y)})))})),q.forEach((function(e,t){K.push({x:q[t],y:H[t]})})),K.length>0){var Z=function(e){C.forEach((function(t,n){var a=((parseInt(e.x,10)-z)/W*U).toString(),o=((parseInt(e.y,10)-X)/N*Y).toString();if(B.length>0){var r=new f(_+1,A[n],E[n],Q.globalGabarit.lowerLimit,M[n]+"_"+_,h,T[n],B[n],c,u,d,L[n],S[n]+"_"+_,D[n],w[n],P[n],j[n],G[n],"",e.x,e.y,V[n],R[n],F[n],W.toString(),N.toString(),a,o);_++,i.props.options.arrayPoints.push(r)}else{r=new f(_+1,A[n],E[n],Q.globalGabarit.lowerLimit,M[n]+"_"+_,h,T[n],[],c,u,d,L[n],S[n]+"_"+_,D[n],w[n],P[n],j[n],G[n],"",e.x,e.y,V[n],R[n],F[n],W.toString(),N.toString(),a,o);_++,i.props.options.arrayPoints.push(r)}}))};try{for(var J=p(K),$=J.next();!$.done;$=J.next()){Z($.value)}}catch(e){n={error:e}}finally{try{$&&!$.done&&(a=J.return)&&a.call(J)}finally{if(n)throw n.error}}}else C.forEach((function(e,t){var n=((parseInt(I[t].x,10)-z)/W*U).toString(),a=((parseInt(I[t].y,10)-X)/N*Y).toString();if(B.length>0){var o=new f(_+1,A[t],E[t],Q.globalGabarit.lowerLimit,M[t]+"_"+_,h,T[t],B[t],c,u,d,L[t],S[t]+"_"+_,D[t],w[t],P[t],j[t],G[t],"",I[t].x,I[t].y,V[t],R[t],F[t],W.toString(),N.toString(),n,a);_++,i.props.options.arrayPoints.push(o)}else{o=new f(_+1,A[t],E[t],Q.globalGabarit.lowerLimit,M[t]+"_"+_,h,T[t],[],c,u,d,L[t],S[t]+"_"+_,D[t],w[t],P[t],j[t],G[t],"",I[t].x,I[t].y,V[t],R[t],F[t],W.toString(),N.toString(),n,a);_++,i.props.options.arrayPoints.push(o)}}));var ee=[],te=[],ie=[],ne=[],ae=[],oe=[],re=[],le=[],se=[],pe=[],ce=[],ue=[],de=[],he=[],fe=[],me=[],ge=[],be=[],ye=[],ve=[],xe=[],ke=[],Ce=[],Ie=[];Q.templateGabaritLink.forEach((function(e,t){"false"===e.labelfix.toString()?(te.push(Ae(e.xylabelA)),te[t].x&&te[t].y||(te[t]=Ae(Q.templateGabaritLinkDefault[0].xylabelA)),te[t].x&&te[t].y||(te[t]=Ae(i.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelA)),ie.push(Ae(e.xylabelB)),ie[t].x&&ie[t].y||(ie[t]=Ae(Q.templateGabaritLinkDefault[0].xylabelB)),ie[t].x&&ie[t].y||(ie[t]=Ae(i.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelB)),ne.push(Ae(e.xylabelC)),ne[t].x&&ne[t].y||(ne[t]=Ae(Q.templateGabaritLinkDefault[0].xylabelC)),ne[t].x&&ne[t].y||(ne[t]=Ae(i.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelC))):(te.push(Ae(e.xylabelfixA)),te[t].x&&te[t].y||(te[t]=Ae(Q.templateGabaritLinkDefault[0].xylabelfixA)),te[t].x&&te[t].y||(te[t]=Ae(i.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelfixA)),ie.push(Ae(e.xylabelfixB)),ie[t].x&&ie[t].y||(ie[t]=Ae(Q.templateGabaritLinkDefault[0].xylabelfixB)),ie[t].x&&ie[t].y||(ie[t]=Ae(i.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelfixB)),ne.push(Ae(e.xylabelfixC)),ne[t].x&&ne[t].y||(ne[t]=Ae(Q.templateGabaritLinkDefault[0].xylabelfixC)),ne[t].x&&ne[t].y||(ne[t]=Ae(i.props.options.gabaritDefault.templateGabaritLinkDefault[0].xylabelfixC))),ee.push(Pe(e.filtered)),ee[t]||(ee[t]=Pe(Q.templateGabaritLinkDefault[0].filtered)),ee[t]||(ee[t]=Pe(i.props.options.gabaritDefault.templateGabaritLinkDefault[0].filtered)),ae.push(e.name),ae[t]||(ae[t]=Q.templateGabaritLinkDefault[0].name),ae[t]||(ae[t]=i.props.options.gabaritDefault.templateGabaritLinkDefault[0].name),oe.push(e.meta),oe[t]||(oe[t]=Q.templateGabaritLinkDefault[0].meta),oe[t]||(oe[t]=i.props.options.gabaritDefault.templateGabaritLinkDefault[0].meta),re.push(e.label),re[t]||(re[t]=Q.templateGabaritLinkDefault[0].label),re[t]||(re[t]=i.props.options.gabaritDefault.templateGabaritLinkDefault[0].label),se.push({key:e.mainMetric.key,unit:e.mainMetric.unit,format:e.mainMetric.format,keyValue:"",filter:ee[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:e.mainMetric.manageValue}),se[t].unit||(se[t]={key:Q.templateGabaritLinkDefault[0].mainMetric.key,unit:Q.templateGabaritLinkDefault[0].mainMetric.unit,format:Q.templateGabaritLinkDefault[0].mainMetric.format,keyValue:"",filter:ee[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:Q.templateGabaritLinkDefault[0].mainMetric.manageValue}),se[t].unit||(se[t]={key:i.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.key,unit:i.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.unit,format:i.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.format,keyValue:"",filter:ee[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:i.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.manageValue}),se[t].refId||(se[t].refId="A"),e.metrics.forEach((function(e){pe[t].push({key:e.key,unit:e.unit,format:e.format,keyValue:"",filter:ee[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:e.manageValue})})),ce.push({key:e.mainMetricB.key,unit:e.mainMetricB.unit,format:e.mainMetricB.format,keyValue:"",filter:ee[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:e.mainMetricB.manageValue}),ce[t].unit||(ce[t]={key:Q.templateGabaritLinkDefault[0].mainMetric.key,unit:Q.templateGabaritLinkDefault[0].mainMetric.unit,format:Q.templateGabaritLinkDefault[0].mainMetric.format,keyValue:"",filter:ee[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:Q.templateGabaritLinkDefault[0].mainMetric.manageValue}),ce[t].unit||(ce[t]={key:i.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.key,unit:i.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.unit,format:i.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.format,keyValue:"",filter:ee[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:i.props.options.gabaritDefault.templateGabaritLinkDefault[0].mainMetric.manageValue}),se[t].refId||(ce[t].refId="A"),e.metricsB.forEach((function(e){ue[t].push({key:e.key,unit:e.unit,format:e.format,keyValue:"",filter:ee[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:e.manageValue})})),be.push(e.valueMainMetricA),be[t]||(be[t]=Q.templateGabaritLinkDefault[0].valueMainMetricA),be[t]||(be[t]=i.props.options.gabaritDefault.templateGabaritLinkDefault[0].valueMainMetricA),ye.push(e.valueMainMetricB),ye[t]||(ye[t]=Q.templateGabaritLinkDefault[0].valueMainMetricB),ye[t]||(ye[t]=i.props.options.gabaritDefault.templateGabaritLinkDefault[0].valueMainMetricB),fe.push(e.size),fe[t]||(fe[t]=Q.templateGabaritLinkDefault[0].size),fe[t]||(fe[t]=i.props.options.gabaritDefault.templateGabaritLinkDefault[0].size),0!==e.colorCoordinateA.length?(me.push(e.colorCoordinateA),ge.push(e.colorCoordinateB)):(me.push(Q.globalGabarit.defaultColor),ge.push(Q.globalGabarit.defaultColor)),me[t]||(me[t]=i.props.options.gabaritDefault.templateGabaritLinkDefault[0].colorCoordinateA),ge[t]||(ge[t]=i.props.options.gabaritDefault.templateGabaritLinkDefault[0].colorCoordinateB),(l={label:e.positionParameter.tooltipA,value:e.positionParameter.tooltipA}).value&&l.label||(l={label:Q.templateGabaritLinkDefault[0].positionParameter.tooltipA,value:Q.templateGabaritLinkDefault[0].positionParameter.tooltipA}),l.value&&l.label||(l={label:i.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.tooltipA,value:i.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.tooltipA}),(s={label:e.positionParameter.tooltipB,value:e.positionParameter.tooltipB}).value&&s.label||(s={label:Q.templateGabaritLinkDefault[0].positionParameter.tooltipB,value:Q.templateGabaritLinkDefault[0].positionParameter.tooltipB}),s.value&&s.label||(s={label:i.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.tooltipB,value:i.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.tooltipB}),(o=Ae(e.positionParameter.xylabelA))||(o=Ae(Q.templateGabaritLinkDefault[0].positionParameter.xylabelA)),o||(o=Ae(i.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.xylabelA)),(r=Ae(e.positionParameter.xylabelB))||(r=Ae(Q.templateGabaritLinkDefault[0].positionParameter.xylabelB)),r||(r=Ae(i.props.options.gabaritDefault.templateGabaritLinkDefault[0].positionParameter.xylabelB)),le.push(new m(o.x,o.y,r.x,r.y,l,s)),de.push(new y(e.linkURL.followLink,e.linkURL.hoveringTooltipLink,e.linkURL.hoveringTooltipText)),de[t].followLink||(console.log("default spé"),de[t]=new y(Q.templateGabaritLinkDefault[0].linkURL.followLink,Q.templateGabaritLinkDefault[0].linkURL.hoveringTooltipLink,Q.templateGabaritLinkDefault[0].linkURL.hoveringTooltipText)),de[t].followLink||(console.log("default default"),de[t]=new y(i.props.options.gabaritDefault.templateGabaritLinkDefault[0].linkURL.followLink,i.props.options.gabaritDefault.templateGabaritLinkDefault[0].linkURL.hoveringTooltipLink,i.props.options.gabaritDefault.templateGabaritLinkDefault[0].linkURL.hoveringTooltipText)),he.push(e.orientationLink),he[t]||(he[t]=Q.templateGabaritLinkDefault[0].orientationLink),he[t]||(he[t]=i.props.options.gabaritDefault.templateGabaritLinkDefault[0].orientationLink),ve.push(e.pointIn),ve[t]||(ve[t]=Q.templateGabaritLinkDefault[0].pointIn),ve[t]||(ve[t]=i.props.options.gabaritDefault.templateGabaritLinkDefault[0].pointIn),xe.push(e.pointOut),xe[t]||(xe[t]=Q.templateGabaritLinkDefault[0].pointOut),xe[t]||(xe[t]=i.props.options.gabaritDefault.templateGabaritLinkDefault[0].pointOut),ke.push(e.regionIn),ke[t]||(ke[t]=Q.templateGabaritLinkDefault[0].regionIn),ke[t]||(ke[t]=i.props.options.gabaritDefault.templateGabaritLinkDefault[0].regionIn),Ce.push(e.regionOut),Ce[t]||(Ce[t]=Q.templateGabaritLinkDefault[0].regionOut),Ce[t]||(Ce[t]=i.props.options.gabaritDefault.templateGabaritLinkDefault[0].regionOut),Ie.push({label:e.isIncurved.label,value:Boolean(e.isIncurved.value)}),Ie[t].label&&Ie[t].value||(Ie[t]={label:Q.templateGabaritLinkDefault[0].isIncurved.label,value:Boolean(Q.templateGabaritLinkDefault[0].isIncurved.value)}),Ie[t].label&&Ie[t].value||(Ie[t]={label:i.props.options.gabaritDefault.templateGabaritLinkDefault[0].isIncurved.label,value:Boolean(i.props.options.gabaritDefault.templateGabaritLinkDefault[0].isIncurved.value)})})),_=0,i.props.options.arrayOrientedLinks.forEach((function(e){_++})),ee.forEach((function(e,t){var n=((parseInt(te[t].x,10)-z)/W*U).toString(),a=((parseInt(ie[t].x,10)-z)/W*U).toString(),o=((parseInt(ne[t].x,10)-z)/W*U).toString(),r=((parseInt(te[t].y,10)-X)/N*Y).toString(),l=((parseInt(ie[t].y,10)-X)/N*Y).toString(),s=((parseInt(ne[t].y,10)-X)/N*Y).toString(),p=pe.length,f=ue.length;if(p>0&&f>0){var m=new g(_+1,de[t],oe[t],Q.globalGabarit.lowerLimit,re[t]+"_"+_,h,se[t],pe[t],c,u,d,le[t],ae[t],he[t],fe[t],te[t].x,te[t].y,me[t],ie[t].x,ie[t].y,ge[t],be[t],ye[t],ve[t],xe[t],ke[t],Ce[t],i.props.options.zIndexOrientedLink+1,ne[t].x,ne[t].y,Ie[t],ce[t],ue[t],W.toString(),N.toString(),n,r,a,l,o,s);_++,i.props.options.arrayOrientedLinks.push(m)}if(!(p>0)&&f>0){m=new g(_+1,de[t],oe[t],Q.globalGabarit.lowerLimit,re[t]+"_"+_,h,se[t],[],c,u,d,le[t],ae[t],he[t],fe[t],te[t].x,te[t].y,me[t],ie[t].x,ie[t].y,ge[t],be[t],ye[t],ve[t],xe[t],ke[t],Ce[t],i.props.options.zIndexOrientedLink+1,ne[t].x,ne[t].y,Ie[t],ce[t],ue[t],W.toString(),N.toString(),n,r,a,l,o,s);_++,i.props.options.arrayOrientedLinks.push(m)}else if(p>0&&!(f>0)){m=new g(_+1,de[t],oe[t],Q.globalGabarit.lowerLimit,re[t]+"_"+_,h,se[t],pe[t],c,u,d,le[t],ae[t],he[t],fe[t],te[t].x,te[t].y,me[t],ie[t].x,ie[t].y,ge[t],be[t],ye[t],ve[t],xe[t],ke[t],Ce[t],i.props.options.zIndexOrientedLink+1,ne[t].x,ne[t].y,Ie[t],ce[t],[],W.toString(),N.toString(),n,r,a,l,o,s);_++,i.props.options.arrayOrientedLinks.push(m)}else{m=new g(_+1,de[t],oe[t],Q.globalGabarit.lowerLimit,re[t]+"_"+_,h,se[t],[],c,u,d,le[t],ae[t],he[t],fe[t],te[t].x,te[t].y,me[t],ie[t].x,ie[t].y,ge[t],be[t],ye[t],ve[t],xe[t],ke[t],Ce[t],i.props.options.zIndexOrientedLink+1,ne[t].x,ne[t].y,Ie[t],ce[t],[],W.toString(),N.toString(),n,r,a,l,o,s);_++,i.props.options.arrayOrientedLinks.push(m)}}));var Se=[],Ee=[],Me=[],Le=[],Oe=[],Te=[],Be=[],je=[],Ge=[],Ve=[],Re=[],Fe=[];Q.templateGabaritRegion.forEach((function(e,t){"false"===e.labelfix.toString()?(Ee.push(De(e.xylabel)),Ee[t].xMax&&Ee[t].xMin&&Ee[t].yMax&&Ee[t].yMin||(Ee[t]=De(Q.templateGabaritRegionDefault[0].xylabel)),Ee[t].xMax&&Ee[t].xMin&&Ee[t].yMax&&Ee[t].yMin||(Ee[t]=De(i.props.options.gabaritDefault.templateGabaritRegionDefault[0].xylabel))):(Ee.push(De(e.xylabelfix)),Ee[t].xMax&&Ee[t].xMin&&Ee[t].yMax&&Ee[t].yMin||(Ee[t]=De(Q.templateGabaritRegionDefault[0].xylabelfix)),Ee[t].xMax&&Ee[t].xMin&&Ee[t].yMax&&Ee[t].yMin||(Ee[t]=De(i.props.options.gabaritDefault.templateGabaritRegionDefault[0].xylabelfix))),Se.push(we(e.filtered)),Se[t]||(Se[t]=we(Q.templateGabaritRegionDefault[0].filtered)),Se[t]||(Se[t]=we(i.props.options.gabaritDefault.templateGabaritRegionDefault[0].filtered)),je.push(new y(e.linkURL.followLink,e.linkURL.hoveringTooltipLink,e.linkURL.hoveringTooltipTex)),je[t].followLink||(je[t]=new y(Q.templateGabaritRegionDefault[0].linkURL.followLink,Q.templateGabaritRegionDefault[0].linkURL.hoveringTooltipLink,Q.templateGabaritRegionDefault[0].linkURL.hoveringTooltipText)),je[t].followLink||(je[t]=new y(i.props.options.gabaritDefault.templateGabaritRegionDefault[0].linkURL.followLink,i.props.options.gabaritDefault.templateGabaritRegionDefault[0].linkURL.hoveringTooltipLink,i.props.options.gabaritDefault.templateGabaritRegionDefault[0].linkURL.hoveringTooltipText)),Me.push(e.meta),Me[t]||(Me[t]=Q.templateGabaritRegionDefault[0].meta),Me[t]||(Me[t]=i.props.options.gabaritDefault.templateGabaritRegionDefault[0].meta),Le.push(e.label),Le[t]||(Le[t]=Q.templateGabaritRegionDefault[0].label),Le[t]||(Le[t]=i.props.options.gabaritDefault.templateGabaritRegionDefault[0].label),Te.push({key:e.mainMetric.key,unit:e.mainMetric.unit,format:e.mainMetric.format,keyValue:"",filter:Se[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:e.mainMetric.manageValue}),Te[t].unit||(Te[t]={key:Q.templateGabaritRegionDefault[0].mainMetric.key,unit:Q.templateGabaritRegionDefault[0].mainMetric.unit,format:Q.templateGabaritRegionDefault[0].mainMetric.format,keyValue:"",filter:Se[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:Q.templateGabaritRegionDefault[0].mainMetric.manageValue}),Te[t].unit||(Te[t]={key:i.props.options.gabaritDefault.templateGabaritRegionDefault[0].mainMetric.key,unit:i.props.options.gabaritDefault.templateGabaritRegionDefault[0].mainMetric.unit,format:i.props.options.gabaritDefault.templateGabaritRegionDefault[0].mainMetric.format,keyValue:"",filter:Se[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:i.props.options.gabaritDefault.templateGabaritRegionDefault[0].mainMetric.manageValue}),Te[t].refId||(Te[t].refId="A"),e.metrics.forEach((function(e){Be[t].push({key:e.key,unit:e.unit,format:e.format,keyValue:"",filter:Se[t],refId:Q.queryID,expr:"",returnQuery:[],manageValue:e.manageValue})})),Ve.push(Boolean(e.mode)),Ve[t]||(Ve[t]=Boolean(Q.templateGabaritRegionDefault[0].mode)),Ve[t]||(Ve[t]=Boolean(i.props.options.gabaritDefault.templateGabaritRegionDefault[0].mode)),Ge.push(e.idSVG),Ge[t]||(Ge[t]=Q.templateGabaritRegionDefault[0].idSVG),Ge[t]||(Ge[t]=i.props.options.gabaritDefault.templateGabaritRegionDefault[0].idSVG),Re.push(e.img),Re[t]||(Re[t]=Q.templateGabaritRegionDefault[0].img),Re[t]||(Re[t]=i.props.options.gabaritDefault.templateGabaritRegionDefault[0].img),(l={label:e.positionParameter.tooltipA,value:e.positionParameter.tooltipA}).label&&l.value||(l={label:Q.templateGabaritRegionDefault[0].positionParameter.tooltipA,value:Q.templateGabaritRegionDefault[0].positionParameter.tooltipA}),l.label&&l.value||(l={label:i.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.tooltipA,value:i.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.tooltipA}),(s={label:e.positionParameter.tooltipB,value:e.positionParameter.tooltipB}).label&&s.value||(s={label:Q.templateGabaritRegionDefault[0].positionParameter.tooltipB,value:Q.templateGabaritRegionDefault[0].positionParameter.tooltipB}),s.label&&s.value||(s={label:i.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.tooltipB,value:i.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.tooltipB}),(o=Ae(e.positionParameter.xylabelA))||(o=Ae(Q.templateGabaritRegionDefault[0].positionParameter.xylabelA)),o||(o=Ae(i.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.xylabelA)),(r=Ae(e.positionParameter.xylabelB))||(r=Ae(Q.templateGabaritRegionDefault[0].positionParameter.xylabelB)),r||(r=Ae(i.props.options.gabaritDefault.templateGabaritRegionDefault[0].positionParameter.xylabelB)),Oe.push(new m(o.x,o.y,r.x,r.y,l,s)),Fe.push(e.orientedLink),Fe[t]||(Fe[t]=Q.templateGabaritRegionDefault[0].orientedLink),Fe[t]||(Fe[t]=i.props.options.gabaritDefault.templateGabaritRegionDefault[0].orientedLink)})),_=0,i.props.options.regionCoordinateSpace.forEach((function(e){_++})),Se.forEach((function(e,t){if(Be.length>0){var n=new O(_+1,je[t],Me[t],Q.globalGabarit.lowerLimit,Le[t]+"_"+_,h,Te[t],Be[t],c,u,d,Oe[t],Ge[t],Fe[t],Ee[t],Ee[t],Ve[t],Re[t],W.toString(),N.toString());_++,i.props.options.regionCoordinateSpace.push(n)}else{n=new O(_+1,je[t],Me[t],Q.globalGabarit.lowerLimit,Le[t]+"_"+_,h,Te[t],[],c,u,d,Oe[t],Ge[t],Fe[t],Ee[t],Ee[t],Ve[t],Re[t],W.toString(),N.toString());_++,i.props.options.regionCoordinateSpace.push(n)}}))},i.gabaritUrlDisplay=function(e){if(0!==e.list.lenght){var t=e.list.map((function(e,t){return u.a.createElement("div",{key:"GabaritUrlDiv"+t.toString(),style:{display:"flex"}},u.a.createElement(d.FormField,{id:t.toString(),key:"GabaritUrl"+t.toString(),label:"Url",labelWidth:5,inputWidth:20,onChange:i.onGabaritListUrlChanged.bind(i),type:"string",value:e||""}),u.a.createElement(d.Button,{variant:"danger",id:t.toString(),key:"ButtunDel"+t.toString(),onClick:i.gabaritDeletUrl.bind(i)},"Del"))}));return u.a.createElement("div",null,t)}return u.a.createElement("div",null,"No targets avalaible")},i.gabaritDisplay=function(e){if(0!==e.list.lenght){var t=e.list.map((function(e,t){return u.a.createElement("div",{key:"GabaritDiv"+t.toString(),style:{display:"flex"}},u.a.createElement(d.FormField,{id:t.toString(),key:"Gabarit"+t.toString(),label:"Gabarit",labelWidth:5,inputWidth:20,type:"string",value:e.fileName||"",readOnly:!0}),u.a.createElement(d.FormLabel,{width:15},"Querry ID"),u.a.createElement(d.Select,{onChange:function(e){return i.onChangeSelectQuerryID(e,t)},allowCustomValue:!1,options:i.state.selectQuerryID,width:10,value:{label:i.props.options.saveGabaritFile[t].queryID,value:i.props.options.saveGabaritFile[t].queryID}}),u.a.createElement(d.Button,{id:t.toString(),key:"ButtunLoad"+t.toString(),onClick:i.checkLoaderGabarit.bind(i)},"Load"),u.a.createElement(d.Button,{variant:"danger",id:t.toString(),key:"ButtunDel"+t.toString(),onClick:i.gabaritDeletFile.bind(i)},"Del"))}));return u.a.createElement("div",null,t)}return u.a.createElement("div",null,"No targets avalaible")},i.gabaritDefaultDisplay=function(e){if(e){var t=u.a.createElement("div",{style:{display:"flex"}},u.a.createElement(d.FormField,{key:"GabaritDefault",label:"GabaritDefault",labelWidth:10,inputWidth:20,type:"string",value:e.list.fileName||"",readOnly:!0}),u.a.createElement(d.Button,{variant:"danger",key:"ButtunDelDefault",onClick:i.gabaritDeletFileDefault.bind(i)},"Del"));return u.a.createElement("div",null,t)}return u.a.createElement("div",null,"No targets avalaible")},i.delAll=function(){i.props.options.saveGabaritURL=[],i.props.options.saveGabaritURL=[],i.props.onOptionsChange(r(r({},i.props.options),{saveGabaritURL:i.props.options.saveGabaritURL}))},i.printDefault=function(){console.log("gabaritDefault"),console.log(i.props.options.gabaritDefault)},i.printPoint=function(){console.log("gabaritPoint"),console.log(i.props.options.arrayPoints)},i.printRegion=function(){console.log("gabaritRegion"),console.log(i.props.options.regionCoordinateSpace)},i.printLink=function(){console.log("gabaritDefault"),console.log(i.props.options.arrayOrientedLinks)},i.printTemp=function(){console.log("gabaritDefault"),console.log(i.props.options.gabaritDefault)},i.state={selectQuerryID:[{label:"A",value:"A"},{label:"B",value:"B"},{label:"C",value:"C"},{label:"D",value:"D"},{label:"E",value:"E"},{label:"F",value:"F"},{label:"G",value:"G"},{label:"H",value:"H"},{label:"I",value:"I"},{label:"J",value:"J"},{label:"K",value:"K"},{label:"L",value:"L"},{label:"M",value:"M"},{label:"N",value:"N"},{label:"O",value:"O"},{label:"P",value:"P"},{label:"Q",value:"Q"},{label:"R",value:"R"},{label:"S",value:"S"},{label:"T",value:"T"},{label:"U",value:"U"},{label:"V",value:"V"},{label:"W",value:"W"},{label:"X",value:"X"},{label:"Y",value:"Y"},{label:"Z",value:"Z"}],collapseSelectURL:!1,collapseGabarit:!1,collapseGabaritDefault:!1},i}return o(t,e),t.prototype.render=function(){var e=this.props.options;return u.a.createElement("div",null,u.a.createElement(d.Collapse,{isOpen:this.state.collapseGabaritDefault,label:"Default Gabarit URL",onToggle:this.onToggleGabaritDefault},u.a.createElement(d.FormField,{label:"Gabarit Default Url",labelWidth:10,key:"GabaritDefaultUrl",inputWidth:18,onChange:this.onGabaritDefaultUrlChanged.bind(this),type:"string",value:e.saveGabaritDefaultUrl||""}),u.a.createElement(d.Button,{key:"AddGabaritDefaultUrl",onClick:this.addGabaritDefaultUrlInput},"Add"),u.a.createElement(this.gabaritDefaultDisplay,{list:e.gabaritDefault})),u.a.createElement(d.Collapse,{isOpen:this.state.collapseSelectURL,label:"Url List",onToggle:this.onToggleSelectUrl},u.a.createElement(d.FormField,{label:"Gabarit Url",labelWidth:8,key:"GabaritUrl",inputWidth:20,onChange:this.onGabaritUrlChanged.bind(this),type:"string",value:e.gabaritUrlInput||""}),u.a.createElement(d.Button,{key:"AddGabaritUrl",onClick:this.addGabaritUrlInput},"Add"),u.a.createElement("div",{className:"section gf-form-group"},u.a.createElement(d.Button,{onClick:this.fetchGabarit},"Finish"),u.a.createElement(this.gabaritUrlDisplay,{list:e.saveGabaritURL}),u.a.createElement(d.Button,{key:"delAll",onClick:this.delAll},"Del all urls"))),u.a.createElement(d.Collapse,{isOpen:this.state.collapseGabarit,label:"Gabarit List",onToggle:this.onToggleGabarit},u.a.createElement(this.gabaritDisplay,{list:e.saveGabaritFile})),u.a.createElement(d.Button,{onClick:this.printDefault},"Default"),u.a.createElement(d.Button,{onClick:this.printPoint},"Point"),u.a.createElement(d.Button,{onClick:this.printRegion},"Region"),u.a.createElement(d.Button,{onClick:this.printLink},"Link"),u.a.createElement(d.Button,{onClick:this.printTemp},"Temp"))},t}(u.a.Component),Ge=(i(9),function(e){function t(t){var i=e.call(this,t)||this;return i.onRefreshChanged=function(e){var t=e.target;i.props.onOptionsChange(r(r({},i.props.options),{refresh:t.value}))},i.onTimeZoneChanged=function(e){var t=e.target;i.props.onOptionsChange(r(r({},i.props.options),{timezone:t.value}))},i.onPanelChanged=function(e,t){var n=e.target;i.props.onOptionsChange(r(r({},i.props.options),{Id:n.value}))},i.onToggleDashboardData=function(e){i.setState({collapseDashboardData:e})},i.onToggleTimeSelector=function(e){i.setState({collapseTimeSelector:e})},i.onTogglePanelData=function(e){i.setState({collapsePanelData:e})},i.onTogglePrincipalTargets=function(e){i.setState({collapsePrincipalTarget:e})},i.goToTab=function(e){for(var t=i.state.tabsVariable.slice(),n=t.length,a=0;a<n;a++)t[a]=a===e;i.setState({tabsVariable:t})},i.goToTabCoordinateSpace=function(e){for(var t=i.state.tabsCoordinateSpace.slice(),n=t.length,a=0;a<n;a++)t[a]=a===e;i.setState({tabsCoordinateSpace:t})},i.componentDidMount=function(){return l(i,void 0,void 0,(function(){var e,t,i,n,a,o,l=this;return s(this,(function(s){switch(s.label){case 0:e=window.location.pathname,t=e.split("/");try{for(i=p(t),n=i.next();!n.done;n=i.next())"new"!==n.value||this.props.options.currentDashboard||this.props.onOptionsChange(r(r({},this.props.options),{arrayPoints:[],arrayOrientedLinks:[],regionCoordinateSpace:[],saveImportUrl:{total:[],mono:[],multi:[]},saveImportFile:[],totalUrlInput:"",multiUrlInput:"",monoUrlInput:"",baseMap:{image:"",layerImage:"",modeSVG:!0,idSVG:"",width:"",height:"",isUploaded:!1}}))}catch(e){a={error:e}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(a)throw a.error}}return[4,Promise.resolve("Success").then((function(){l.props.onOptionsChange(r(r({},l.props.options),{displayButton:!0,currentDashboard:!1}))}))];case 1:return s.sent(),[2]}}))}))},i.componentWillUnmount=function(){return l(i,void 0,void 0,(function(){var e=this;return s(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve("Success").then((function(){e.props.onOptionsChange(r(r({},e.props.options),{displayButton:!1,currentDashboard:!0}))}))];case 1:return t.sent(),[2]}}))}))},i.state={collapseDashboardData:!1,collapsePanelData:!1,collapseTimeSelector:!1,collapsePrincipalTarget:!1,tabsVariable:[!0,!1,!1,!1,!1],tabsCoordinateSpace:[!0,!1,!1,!1]},i}return o(t,e),t.prototype.render=function(){var e=this,t=i(2);return u.a.createElement("div",{className:"divSimpleEditor"},u.a.createElement(d.TabsBar,{className:"page-header tabs",hideBorder:!1},u.a.createElement(d.Tab,{key:"tabDisplay",label:t.simpleEditor.display,active:this.state.tabsVariable[0],onChangeTab:function(){return e.goToTab(0)}}),u.a.createElement(d.Tab,{key:"tabSpaceInitialVisualisation",label:t.simpleEditor.spaceInitialVisualisation,active:this.state.tabsVariable[1],onChangeTab:function(){return e.goToTab(1)}}),u.a.createElement(d.Tab,{key:"tabCoordinateSpace",label:t.simpleEditor.CoordinateSpace,active:this.state.tabsVariable[2],onChangeTab:function(){return e.goToTab(2)}}),u.a.createElement(d.Tab,{key:"tabGabarit",label:"Gabarit",active:this.state.tabsVariable[3],onChangeTab:function(){return e.goToTab(3)}}),u.a.createElement(d.Tab,{key:"tabImportInput",label:"Import Files",active:this.state.tabsVariable[4],onChangeTab:function(){return e.goToTab(4)}})),u.a.createElement(d.TabContent,null,this.state.tabsVariable[0]&&u.a.createElement(Be,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data}),this.state.tabsVariable[1]&&u.a.createElement(Ce,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data}),this.state.tabsVariable[2]&&u.a.createElement("div",null,u.a.createElement(d.TabsBar,{className:"page-header tabs",hideBorder:!1},u.a.createElement(d.Tab,{key:"tabDisplayManageCoordinateSpace",label:"Region",active:this.state.tabsCoordinateSpace[0],onChangeTab:function(){return e.goToTabCoordinateSpace(0)}}),u.a.createElement(d.Tab,{key:"tabDisplayPoint",label:"Point",active:this.state.tabsCoordinateSpace[1],onChangeTab:function(){return e.goToTabCoordinateSpace(1)}}),u.a.createElement(d.Tab,{key:"tabDisplayOrientedLink",label:"OrientedLink",active:this.state.tabsCoordinateSpace[3],onChangeTab:function(){return e.goToTabCoordinateSpace(3)}})),u.a.createElement(d.TabContent,null,this.state.tabsCoordinateSpace[0]&&u.a.createElement(Oe,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,isRegion:!0,isPoint:!1,isLink:!1}),this.state.tabsCoordinateSpace[1]&&u.a.createElement(Oe,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,isRegion:!1,isPoint:!0,isLink:!1}),this.state.tabsCoordinateSpace[3]&&u.a.createElement(Oe,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data,isRegion:!1,isPoint:!1,isLink:!0}))),this.state.tabsVariable[3]&&u.a.createElement("div",null,u.a.createElement(je,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data})),this.state.tabsVariable[4]&&u.a.createElement("div",null,u.a.createElement(Se,{options:this.props.options,onOptionsChange:this.props.onOptionsChange,data:this.props.data}))))},t}(u.a.PureComponent));i.d(t,"plugin",(function(){return Ve}));var Ve=new n.PanelPlugin(ke).setDefaults({saveGabaritDefaultUrl:"",saveDefaultGabaritFile:{queryID:"A",fileName:"",loaded:!1,globalGabarit:{lowerLimit:[{id:0,lowerLimitMin:"0",lowerLimitMax:"0",backColor:"blue",borderColor:"red",sizeBorder:"1px"}],textObject:{value:"default",isTextTooltip:!1,colorBack:"blue",colorText:"black",style:{bold:!1,italic:!1,underline:!1},generateObjectText:!1,valueGenerateObjectText:{legendElement:"default",numericFormatElement:"default",unit:"default",displayObjectInTooltip:!1,addColorTextElement:!1,colorTextElement:"black",addColorBackElement:!1,colorBackElement:"white"},generateAuxiliaryElement:{legendElement:"default",numericFormatElement:"default",unit:"default",displayObjectInTooltip:!1,addColorTextElement:!1,colorTextElement:"black",addColorBackElement:!1,colorBackElement:"white"}},defaultColor:"black",colorMode:!0,traceBack:!0,traceBorder:!0},templateGabaritPoint:[],templateGabaritRegion:[],templateGabaritLink:[],templateGabaritPointDefault:[],templateGabaritRegionDefault:[],templateGabaritLinkDefault:[]},legend:{hiddenLegend:!0,x:0,y:0},baseMap:{image:"",layerImage:"",modeSVG:!0,width:"",height:"",idSVG:"",isUploaded:!1},coordinateSpaceInitial:{coordinate:{xMin:"0",xMax:"0",yMin:"0",yMax:"0"},displayArea:!0},displayButton:!1,regionCoordinateSpace:[],arrayPoints:[],arrayLinks:[],arrayOrientedLinks:[],display:{police:"Helvetica",size:"1em",style:{italic:!1,bold:!1,underline:!1}},fondIsActive:!0,contourIsActive:!0,lowerLimit:[],colorMode:!0,contentJson:"contenu du dashboard",Id:0,uid:"",title:"",style:"",editable:"",version:0,refresh:{value:"0",label:"0"},shemaVersion:0,timezone:"",actualPanel:{value:"0",label:"0"},panelList:[{value:"0",label:"0"}],panelId:0,panelType:"",panelTargets:[],promTargets:[],promGlobalTargets:[],Json:{},timeRange:{from:"2020-01-02 00:00:00",to:"2020-01-02 00:00:00"},personalTarget:{expr:""},timeQuery:"2020-01-02 00:00:00",promUrl:"http://localhost:9090/api/v1/",queryProm:[],queryPromGlobal:[],queryPromRange:[],listStep:[{value:"0",label:"0"}],jsonQueryReturn:[],jsonGlobalQueryReturn:[],mainTarget:{expr:""},mainQueryProm:"",mainQueryReturn:{status:"",data:{resultType:"",result:[{metric:{__name__:"",job:""},value:[]}]}},testMainQueryReturn:{},coordinatesToDrawLinkWithClick:[{id:0},{x:0,xDefault:0,y:0,yDefault:0,labelPoint:"",point:{},labelRegion:"",region:{}},{x:0,xDefault:0,y:0,yDefault:0,labelPoint:"",point:{},labelRegion:"",region:{}},{x:0,y:0,labelPoint:"",point:{},labelRegion:"",region:{}}],indexOrientedLink:0,indexPoint:0,indexRegion:0,listCollapsePoint:[],listCollapseOrientedLink:[],saveImportUrl:{total:[],multi:[],mono:[]},saveImportFile:[],totalUrlInput:"",multiUrlInput:"",monoUrlInput:"",zIndexOrientedLink:1,orientedLinkToUpgrade:{},orientedLinkToDowngrade:{},checkIndexMultiLink:0,newPoint:!0,newOrientedLink:!0,currentDashboard:!1,gabaritUrlInput:"",saveGabaritURL:[],saveGabaritFile:[],gabaritDefault:{queryID:"A",fileName:"default",loaded:!1,globalGabarit:{lowerLimit:[{id:0,lowerLimitMin:"0",lowerLimitMax:"0",backColor:"blue",borderColor:"red",sizeBorder:"1px"}],textObject:{value:"default",isTextTooltip:!1,colorBack:"blue",colorText:"black",style:{bold:!1,italic:!1,underline:!1},generateObjectText:!1,valueGenerateObjectText:{legendElement:"default",numericFormatElement:"default",unit:"default",displayObjectInTooltip:!1,addColorTextElement:!1,colorTextElement:"black",addColorBackElement:!1,colorBackElement:"white"},generateAuxiliaryElement:{legendElement:"default",numericFormatElement:"default",unit:"default",displayObjectInTooltip:!1,addColorTextElement:!1,colorTextElement:"black",addColorBackElement:!1,colorBackElement:"white"}},defaultColor:"black",colorMode:!0,traceBack:!0,traceBorder:!0},templateGabaritPoint:[],templateGabaritRegion:[],templateGabaritLink:[],templateGabaritPointDefault:[],templateGabaritRegionDefault:[],templateGabaritLinkDefault:[]},updateOnlyInitialSpace:!1}).setEditor(Ge)}])}));
//# sourceMappingURL=module.js.map